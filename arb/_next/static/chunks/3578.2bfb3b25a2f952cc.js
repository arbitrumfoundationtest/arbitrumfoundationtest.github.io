(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3578],{98099:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(97117);function e(a,b,c){return void 0===b&&(b=new Uint8Array(2)),void 0===c&&(c=0),b[c+0]=a>>>8,b[c+1]=a>>>0,b}function f(a,b,c){return void 0===b&&(b=new Uint8Array(2)),void 0===c&&(c=0),b[c+0]=a>>>0,b[c+1]=a>>>8,b}function g(a,b){return void 0===b&&(b=0),a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3]}function h(a,b){return void 0===b&&(b=0),(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}function i(a,b){return void 0===b&&(b=0),a[b+3]<<24|a[b+2]<<16|a[b+1]<<8|a[b]}function j(a,b){return void 0===b&&(b=0),(a[b+3]<<24|a[b+2]<<16|a[b+1]<<8|a[b])>>>0}function k(a,b,c){return void 0===b&&(b=new Uint8Array(4)),void 0===c&&(c=0),b[c+0]=a>>>24,b[c+1]=a>>>16,b[c+2]=a>>>8,b[c+3]=a>>>0,b}function l(a,b,c){return void 0===b&&(b=new Uint8Array(4)),void 0===c&&(c=0),b[c+0]=a>>>0,b[c+1]=a>>>8,b[c+2]=a>>>16,b[c+3]=a>>>24,b}function m(a,b,c){return void 0===b&&(b=new Uint8Array(8)),void 0===c&&(c=0),k(a/4294967296>>>0,b,c),k(a>>>0,b,c+4),b}function n(a,b,c){return void 0===b&&(b=new Uint8Array(8)),void 0===c&&(c=0),l(a>>>0,b,c),l(a/4294967296>>>0,b,c+4),b}b.readInt16BE=function(a,b){return void 0===b&&(b=0),(a[b+0]<<8|a[b+1])<<16>>16},b.readUint16BE=function(a,b){return void 0===b&&(b=0),(a[b+0]<<8|a[b+1])>>>0},b.readInt16LE=function(a,b){return void 0===b&&(b=0),(a[b+1]<<8|a[b])<<16>>16},b.readUint16LE=function(a,b){return void 0===b&&(b=0),(a[b+1]<<8|a[b])>>>0},b.writeUint16BE=e,b.writeInt16BE=e,b.writeUint16LE=f,b.writeInt16LE=f,b.readInt32BE=g,b.readUint32BE=h,b.readInt32LE=i,b.readUint32LE=j,b.writeUint32BE=k,b.writeInt32BE=k,b.writeUint32LE=l,b.writeInt32LE=l,b.readInt64BE=function(a,b){void 0===b&&(b=0);var c=g(a,b),d=g(a,b+4);return 4294967296*c+d-(d>>31)*4294967296},b.readUint64BE=function(a,b){void 0===b&&(b=0);var c=h(a,b),d=h(a,b+4);return 4294967296*c+d},b.readInt64LE=function(a,b){void 0===b&&(b=0);var c=i(a,b);return 4294967296*i(a,b+4)+c-(c>>31)*4294967296},b.readUint64LE=function(a,b){void 0===b&&(b=0);var c=j(a,b),d=j(a,b+4);return 4294967296*d+c},b.writeUint64BE=m,b.writeInt64BE=m,b.writeUint64LE=n,b.writeInt64LE=n,b.readUintBE=function(a,b,c){if(void 0===c&&(c=0),a%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(a/8>b.length-c)throw Error("readUintBE: array is too short for the given bitLength");for(var d=0,e=1,f=a/8+c-1;f>=c;f--)d+=b[f]*e,e*=256;return d},b.readUintLE=function(a,b,c){if(void 0===c&&(c=0),a%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(a/8>b.length-c)throw Error("readUintLE: array is too short for the given bitLength");for(var d=0,e=1,f=c;f<c+a/8;f++)d+=b[f]*e,e*=256;return d},b.writeUintBE=function(a,b,c,e){if(void 0===c&&(c=new Uint8Array(a/8)),void 0===e&&(e=0),a%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!d.isSafeInteger(b))throw Error("writeUintBE value must be an integer");for(var f=1,g=a/8+e-1;g>=e;g--)c[g]=b/f&255,f*=256;return c},b.writeUintLE=function(a,b,c,e){if(void 0===c&&(c=new Uint8Array(a/8)),void 0===e&&(e=0),a%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!d.isSafeInteger(b))throw Error("writeUintLE value must be an integer");for(var f=1,g=e;g<e+a/8;g++)c[g]=b/f&255,f*=256;return c},b.readFloat32BE=function(a,b){return void 0===b&&(b=0),new DataView(a.buffer,a.byteOffset,a.byteLength).getFloat32(b)},b.readFloat32LE=function(a,b){return void 0===b&&(b=0),new DataView(a.buffer,a.byteOffset,a.byteLength).getFloat32(b,!0)},b.readFloat64BE=function(a,b){return void 0===b&&(b=0),new DataView(a.buffer,a.byteOffset,a.byteLength).getFloat64(b)},b.readFloat64LE=function(a,b){return void 0===b&&(b=0),new DataView(a.buffer,a.byteOffset,a.byteLength).getFloat64(b,!0)},b.writeFloat32BE=function(a,b,c){return void 0===b&&(b=new Uint8Array(4)),void 0===c&&(c=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat32(c,a),b},b.writeFloat32LE=function(a,b,c){return void 0===b&&(b=new Uint8Array(4)),void 0===c&&(c=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat32(c,a,!0),b},b.writeFloat64BE=function(a,b,c){return void 0===b&&(b=new Uint8Array(8)),void 0===c&&(c=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat64(c,a),b},b.writeFloat64LE=function(a,b,c){return void 0===b&&(b=new Uint8Array(8)),void 0===c&&(c=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat64(c,a,!0),b}},25439:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(98099),e=c(17309);function f(a,b,c){for(var e=c[3]<<24|c[2]<<16|c[1]<<8|c[0],f=c[7]<<24|c[6]<<16|c[5]<<8|c[4],g=c[11]<<24|c[10]<<16|c[9]<<8|c[8],h=c[15]<<24|c[14]<<16|c[13]<<8|c[12],i=c[19]<<24|c[18]<<16|c[17]<<8|c[16],j=c[23]<<24|c[22]<<16|c[21]<<8|c[20],k=c[27]<<24|c[26]<<16|c[25]<<8|c[24],l=c[31]<<24|c[30]<<16|c[29]<<8|c[28],m=b[3]<<24|b[2]<<16|b[1]<<8|b[0],n=b[7]<<24|b[6]<<16|b[5]<<8|b[4],o=b[11]<<24|b[10]<<16|b[9]<<8|b[8],p=b[15]<<24|b[14]<<16|b[13]<<8|b[12],q=1634760805,r=857760878,s=2036477234,t=1797285236,u=e,v=f,w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=0;G<20;G+=2)C^=q=q+u|0,u^=y=y+(C=C>>>16|C<<16)|0,u=u>>>20|u<<12,D^=r=r+v|0,v^=z=z+(D=D>>>16|D<<16)|0,v=v>>>20|v<<12,E^=s=s+w|0,w^=A=A+(E=E>>>16|E<<16)|0,w=w>>>20|w<<12,F^=t=t+x|0,x^=B=B+(F=F>>>16|F<<16)|0,x=x>>>20|x<<12,E^=s=s+w|0,w^=A=A+(E=E>>>24|E<<8)|0,w=w>>>25|w<<7,F^=t=t+x|0,x^=B=B+(F=F>>>24|F<<8)|0,x=x>>>25|x<<7,D^=r=r+v|0,v^=z=z+(D=D>>>24|D<<8)|0,v=v>>>25|v<<7,C^=q=q+u|0,u^=y=y+(C=C>>>24|C<<8)|0,u=u>>>25|u<<7,F^=q=q+v|0,v^=A=A+(F=F>>>16|F<<16)|0,v=v>>>20|v<<12,C^=r=r+w|0,w^=B=B+(C=C>>>16|C<<16)|0,w=w>>>20|w<<12,D^=s=s+x|0,x^=y=y+(D=D>>>16|D<<16)|0,x=x>>>20|x<<12,E^=t=t+u|0,u^=z=z+(E=E>>>16|E<<16)|0,u=u>>>20|u<<12,D^=s=s+x|0,x^=y=y+(D=D>>>24|D<<8)|0,x=x>>>25|x<<7,E^=t=t+u|0,u^=z=z+(E=E>>>24|E<<8)|0,u=u>>>25|u<<7,C^=r=r+w|0,w^=B=B+(C=C>>>24|C<<8)|0,w=w>>>25|w<<7,F^=q=q+v|0,v^=A=A+(F=F>>>24|F<<8)|0,v=v>>>25|v<<7;d.writeUint32LE(q+1634760805|0,a,0),d.writeUint32LE(r+857760878|0,a,4),d.writeUint32LE(s+2036477234|0,a,8),d.writeUint32LE(t+1797285236|0,a,12),d.writeUint32LE(u+e|0,a,16),d.writeUint32LE(v+f|0,a,20),d.writeUint32LE(w+g|0,a,24),d.writeUint32LE(x+h|0,a,28),d.writeUint32LE(y+i|0,a,32),d.writeUint32LE(z+j|0,a,36),d.writeUint32LE(A+k|0,a,40),d.writeUint32LE(B+l|0,a,44),d.writeUint32LE(C+m|0,a,48),d.writeUint32LE(D+n|0,a,52),d.writeUint32LE(E+o|0,a,56),d.writeUint32LE(F+p|0,a,60)}function g(a,b,c,d,g){if(void 0===g&&(g=0),32!==a.length)throw Error("ChaCha: key size must be 32 bytes");if(d.length<c.length)throw Error("ChaCha: destination is shorter than source");if(0===g){if(8!==b.length&&12!==b.length)throw Error("ChaCha nonce must be 8 or 12 bytes");j=(i=new Uint8Array(16)).length-b.length,i.set(b,j)}else{if(16!==b.length)throw Error("ChaCha nonce with counter must be 16 bytes");i=b,j=g}for(var i,j,k=new Uint8Array(64),l=0;l<c.length;l+=64){f(k,i,a);for(var m=l;m<l+64&&m<c.length;m++)d[m]=c[m]^k[m-l];h(i,0,j)}return e.wipe(k),0===g&&e.wipe(i),d}function h(a,b,c){for(var d=1;c--;)d=d+(255&a[b])|0,a[b]=255&d,d>>>=8,b++;if(d>0)throw Error("ChaCha: counter overflow")}b.streamXOR=g,b.stream=function(a,b,c,d){return void 0===d&&(d=0),e.wipe(c),g(a,b,c,c,d)}},15501:function(a,b,c){"use strict";var d=c(25439),e=c(63027),f=c(17309),g=c(98099),h=c(4153);b.Cv=32,b.WH=12,b.pg=16;var i=new Uint8Array(16),j=function(){function a(a){if(this.nonceLength=b.WH,this.tagLength=b.pg,a.length!==b.Cv)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(a)}return a.prototype.seal=function(a,b,c,e){if(a.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var g,h=new Uint8Array(16);h.set(a,h.length-a.length);var i=new Uint8Array(32);d.stream(this._key,h,i,4);var j=b.length+this.tagLength;if(e){if(e.length!==j)throw Error("ChaCha20Poly1305: incorrect destination length");g=e}else g=new Uint8Array(j);return d.streamXOR(this._key,h,b,g,4),this._authenticate(g.subarray(g.length-this.tagLength,g.length),i,g.subarray(0,g.length-this.tagLength),c),f.wipe(h),g},a.prototype.open=function(a,b,c,e){if(a.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(b.length<this.tagLength)return null;var g,i=new Uint8Array(16);i.set(a,i.length-a.length);var j=new Uint8Array(32);d.stream(this._key,i,j,4);var k=new Uint8Array(this.tagLength);if(this._authenticate(k,j,b.subarray(0,b.length-this.tagLength),c),!h.equal(k,b.subarray(b.length-this.tagLength,b.length)))return null;var l=b.length-this.tagLength;if(e){if(e.length!==l)throw Error("ChaCha20Poly1305: incorrect destination length");g=e}else g=new Uint8Array(l);return d.streamXOR(this._key,i,b.subarray(0,b.length-this.tagLength),g,4),f.wipe(i),g},a.prototype.clean=function(){return f.wipe(this._key),this},a.prototype._authenticate=function(a,b,c,d){var h=new e.Poly1305(b);d&&(h.update(d),d.length%16>0&&h.update(i.subarray(d.length%16))),h.update(c),c.length%16>0&&h.update(i.subarray(c.length%16));var j=new Uint8Array(8);d&&g.writeUint64LE(d.length,j),h.update(j),g.writeUint64LE(c.length,j),h.update(j);for(var k=h.digest(),l=0;l<k.length;l++)a[l]=k[l];h.clean(),f.wipe(k),f.wipe(j)},a}();b.OK=j},4153:function(a,b){"use strict";function c(a,b){if(a.length!==b.length)return 0;for(var c=0,d=0;d<a.length;d++)c|=a[d]^b[d];return 1&c-1>>>8}Object.defineProperty(b,"__esModule",{value:!0}),b.select=function(a,b,c){return~(a-1)&b|a-1&c},b.lessOrEqual=function(a,b){return(0|a)-(0|b)-1>>>31&1},b.compare=c,b.equal=function(a,b){return 0!==a.length&&0!==b.length&&0!==c(a,b)}},31050:function(a,b,c){"use strict";b.Xx=b._w=b.aP=b.KS=b.jQ=void 0,c(31416);let d=c(93350);function e(a){let b=new Float64Array(16);if(a)for(let c=0;c<a.length;c++)b[c]=a[c];return b}c(17309),b.jQ=64,b.KS=64,b.aP=32;let f=new Uint8Array(32);f[0]=9;let g=e(),h=e([1]),i=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b){for(let c=0;c<16;c++)a[c]=0|b[c]}function o(a){let b=1;for(let c=0;c<16;c++){let d=a[c]+b+65535;b=Math.floor(d/65536),a[c]=d-65536*b}a[0]+=b-1+37*(b-1)}function p(a,b,c){let d=~(c-1);for(let e=0;e<16;e++){let f=d&(a[e]^b[e]);a[e]^=f,b[e]^=f}}function q(a,b){let c=e(),d=e();for(let f=0;f<16;f++)d[f]=b[f];o(d),o(d),o(d);for(let g=0;g<2;g++){c[0]=d[0]-65517;for(let h=1;h<15;h++)c[h]=d[h]-65535-(c[h-1]>>16&1),c[h-1]&=65535;c[15]=d[15]-32767-(c[14]>>16&1);let i=c[15]>>16&1;c[14]&=65535,p(d,c,1-i)}for(let j=0;j<16;j++)a[2*j]=255&d[j],a[2*j+1]=d[j]>>8}function r(a,b){let c=new Uint8Array(32),d=new Uint8Array(32);return q(c,a),q(d,b),function a(b,c){let d=0;for(let e=0;e<32;e++)d|=b[e]^c[e];return(1&d-1>>>8)-1}(c,d)}function s(a){let b=new Uint8Array(32);return q(b,a),1&b[0]}function t(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]+c[d]}function u(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]-c[d]}function v(a,b,c){let d,e,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=c[0],L=c[1],M=c[2],N=c[3],O=c[4],P=c[5],Q=c[6],R=c[7],S=c[8],T=c[9],U=c[10],V=c[11],W=c[12],X=c[13],Y=c[14],Z=c[15];f+=(d=b[0])*K,g+=d*L,h+=d*M,i+=d*N,j+=d*O,k+=d*P,l+=d*Q,m+=d*R,n+=d*S,o+=d*T,p+=d*U,q+=d*V,r+=d*W,s+=d*X,t+=d*Y,u+=d*Z,d=b[1],g+=d*K,h+=d*L,i+=d*M,j+=d*N,k+=d*O,l+=d*P,m+=d*Q,n+=d*R,o+=d*S,p+=d*T,q+=d*U,r+=d*V,s+=d*W,t+=d*X,u+=d*Y,v+=d*Z,d=b[2],h+=d*K,i+=d*L,j+=d*M,k+=d*N,l+=d*O,m+=d*P,n+=d*Q,o+=d*R,p+=d*S,q+=d*T,r+=d*U,s+=d*V,t+=d*W,u+=d*X,v+=d*Y,w+=d*Z,d=b[3],i+=d*K,j+=d*L,k+=d*M,l+=d*N,m+=d*O,n+=d*P,o+=d*Q,p+=d*R,q+=d*S,r+=d*T,s+=d*U,t+=d*V,u+=d*W,v+=d*X,w+=d*Y,x+=d*Z,d=b[4],j+=d*K,k+=d*L,l+=d*M,m+=d*N,n+=d*O,o+=d*P,p+=d*Q,q+=d*R,r+=d*S,s+=d*T,t+=d*U,u+=d*V,v+=d*W,w+=d*X,x+=d*Y,y+=d*Z,d=b[5],k+=d*K,l+=d*L,m+=d*M,n+=d*N,o+=d*O,p+=d*P,q+=d*Q,r+=d*R,s+=d*S,t+=d*T,u+=d*U,v+=d*V,w+=d*W,x+=d*X,y+=d*Y,z+=d*Z,d=b[6],l+=d*K,m+=d*L,n+=d*M,o+=d*N,p+=d*O,q+=d*P,r+=d*Q,s+=d*R,t+=d*S,u+=d*T,v+=d*U,w+=d*V,x+=d*W,y+=d*X,z+=d*Y,A+=d*Z,d=b[7],m+=d*K,n+=d*L,o+=d*M,p+=d*N,q+=d*O,r+=d*P,s+=d*Q,t+=d*R,u+=d*S,v+=d*T,w+=d*U,x+=d*V,y+=d*W,z+=d*X,A+=d*Y,B+=d*Z,d=b[8],n+=d*K,o+=d*L,p+=d*M,q+=d*N,r+=d*O,s+=d*P,t+=d*Q,u+=d*R,v+=d*S,w+=d*T,x+=d*U,y+=d*V,z+=d*W,A+=d*X,B+=d*Y,C+=d*Z,d=b[9],o+=d*K,p+=d*L,q+=d*M,r+=d*N,s+=d*O,t+=d*P,u+=d*Q,v+=d*R,w+=d*S,x+=d*T,y+=d*U,z+=d*V,A+=d*W,B+=d*X,C+=d*Y,D+=d*Z,d=b[10],p+=d*K,q+=d*L,r+=d*M,s+=d*N,t+=d*O,u+=d*P,v+=d*Q,w+=d*R,x+=d*S,y+=d*T,z+=d*U,A+=d*V,B+=d*W,C+=d*X,D+=d*Y,E+=d*Z,d=b[11],q+=d*K,r+=d*L,s+=d*M,t+=d*N,u+=d*O,v+=d*P,w+=d*Q,x+=d*R,y+=d*S,z+=d*T,A+=d*U,B+=d*V,C+=d*W,D+=d*X,E+=d*Y,F+=d*Z,d=b[12],r+=d*K,s+=d*L,t+=d*M,u+=d*N,v+=d*O,w+=d*P,x+=d*Q,y+=d*R,z+=d*S,A+=d*T,B+=d*U,C+=d*V,D+=d*W,E+=d*X,F+=d*Y,G+=d*Z,d=b[13],s+=d*K,t+=d*L,u+=d*M,v+=d*N,w+=d*O,x+=d*P,y+=d*Q,z+=d*R,A+=d*S,B+=d*T,C+=d*U,D+=d*V,E+=d*W,F+=d*X,G+=d*Y,H+=d*Z,d=b[14],t+=d*K,u+=d*L,v+=d*M,w+=d*N,x+=d*O,y+=d*P,z+=d*Q,A+=d*R,B+=d*S,C+=d*T,D+=d*U,E+=d*V,F+=d*W,G+=d*X,H+=d*Y,I+=d*Z,d=b[15],u+=d*K,v+=d*L,w+=d*M,x+=d*N,y+=d*O,z+=d*P,A+=d*Q,B+=d*R,C+=d*S,D+=d*T,E+=d*U,F+=d*V,G+=d*W,H+=d*X,I+=d*Y,J+=d*Z,f+=38*v,g+=38*w,h+=38*x,i+=38*y,j+=38*z,k+=38*A,l+=38*B,m+=38*C,n+=38*D,o+=38*E,p+=38*F,q+=38*G,r+=38*H,s+=38*I,t+=38*J,e=1,d=f+e+65535,e=Math.floor(d/65536),f=d-65536*e,d=g+e+65535,e=Math.floor(d/65536),g=d-65536*e,d=h+e+65535,e=Math.floor(d/65536),h=d-65536*e,d=i+e+65535,e=Math.floor(d/65536),i=d-65536*e,d=j+e+65535,e=Math.floor(d/65536),j=d-65536*e,d=k+e+65535,e=Math.floor(d/65536),k=d-65536*e,d=l+e+65535,e=Math.floor(d/65536),l=d-65536*e,d=m+e+65535,e=Math.floor(d/65536),m=d-65536*e,d=n+e+65535,e=Math.floor(d/65536),n=d-65536*e,d=o+e+65535,e=Math.floor(d/65536),o=d-65536*e,d=p+e+65535,e=Math.floor(d/65536),p=d-65536*e,d=q+e+65535,e=Math.floor(d/65536),q=d-65536*e,d=r+e+65535,e=Math.floor(d/65536),r=d-65536*e,d=s+e+65535,e=Math.floor(d/65536),s=d-65536*e,d=t+e+65535,e=Math.floor(d/65536),t=d-65536*e,d=u+e+65535,e=Math.floor(d/65536),u=d-65536*e,f+=e-1+37*(e-1),e=1,d=f+e+65535,e=Math.floor(d/65536),f=d-65536*e,d=g+e+65535,e=Math.floor(d/65536),g=d-65536*e,d=h+e+65535,e=Math.floor(d/65536),h=d-65536*e,d=i+e+65535,e=Math.floor(d/65536),i=d-65536*e,d=j+e+65535,e=Math.floor(d/65536),j=d-65536*e,d=k+e+65535,e=Math.floor(d/65536),k=d-65536*e,d=l+e+65535,e=Math.floor(d/65536),l=d-65536*e,d=m+e+65535,e=Math.floor(d/65536),m=d-65536*e,d=n+e+65535,e=Math.floor(d/65536),n=d-65536*e,d=o+e+65535,e=Math.floor(d/65536),o=d-65536*e,d=p+e+65535,e=Math.floor(d/65536),p=d-65536*e,d=q+e+65535,e=Math.floor(d/65536),q=d-65536*e,d=r+e+65535,e=Math.floor(d/65536),r=d-65536*e,d=s+e+65535,e=Math.floor(d/65536),s=d-65536*e,d=t+e+65535,e=Math.floor(d/65536),t=d-65536*e,d=u+e+65535,e=Math.floor(d/65536),u=d-65536*e,f+=e-1+37*(e-1),a[0]=f,a[1]=g,a[2]=h,a[3]=i,a[4]=j,a[5]=k,a[6]=l,a[7]=m,a[8]=n,a[9]=o,a[10]=p,a[11]=q,a[12]=r,a[13]=s,a[14]=t,a[15]=u}function w(a,b){v(a,b,b)}function x(a,b){let c=e(),d=e(),f=e(),g=e(),h=e(),i=e(),k=e(),l=e(),m=e();u(c,a[1],a[0]),u(m,b[1],b[0]),v(c,c,m),t(d,a[0],a[1]),t(m,b[0],b[1]),v(d,d,m),v(f,a[3],b[3]),v(f,f,j),v(g,a[2],b[2]),t(g,g,g),u(h,d,c),u(i,g,f),t(k,g,f),t(l,d,c),v(a[0],h,i),v(a[1],l,k),v(a[2],k,i),v(a[3],h,l)}function y(a,b,c){for(let d=0;d<4;d++)p(a[d],b[d],c)}function z(a,b){let c=e(),d=e(),f=e();(function a(b,c){let d=e(),f;for(f=0;f<16;f++)d[f]=c[f];for(f=253;f>=0;f--)w(d,d),2!==f&&4!==f&&v(d,d,c);for(f=0;f<16;f++)b[f]=d[f]})(f,b[2]),v(c,b[0],f),v(d,b[1],f),q(a,d),a[31]^=s(c)<<7}function A(a,b){let c=[e(),e(),e(),e()];n(c[0],k),n(c[1],l),n(c[2],h),v(c[3],k,l),function a(b,c,d){n(b[0],g),n(b[1],h),n(b[2],h),n(b[3],g);for(let e=255;e>=0;--e){let f=d[e/8|0]>>(7&e)&1;y(b,c,f),x(c,b),x(b,b),y(b,c,f)}}(a,c,b)}b._w=function a(c){if(c.length!==b.aP)throw Error(`ed25519: seed must be ${b.aP} bytes`);let f=(0,d.hash)(c);f[0]&=248,f[31]&=127,f[31]|=64;let g=new Uint8Array(32),h=[e(),e(),e(),e()];A(h,f),z(g,h);let i=new Uint8Array(64);return i.set(c),i.set(g,32),{publicKey:g,secretKey:i}};let B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function C(a,b){let c,d,e,f;for(d=63;d>=32;--d){for(c=0,e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*B[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=256*c;b[e]+=c,b[d]=0}for(e=0,c=0;e<32;e++)b[e]+=c-(b[31]>>4)*B[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*B[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=255&b[d]}function D(a){let b=new Float64Array(64);for(let c=0;c<64;c++)b[c]=a[c];for(let d=0;d<64;d++)a[d]=0;C(a,b)}b.Xx=function(a,b){let c=new Float64Array(64),f=[e(),e(),e(),e()],g=(0,d.hash)(a.subarray(0,32));g[0]&=248,g[31]&=127,g[31]|=64;let h=new Uint8Array(64);h.set(g.subarray(32),32);let i=new d.SHA512;i.update(h.subarray(32)),i.update(b);let j=i.digest();i.clean(),D(j),A(f,j),z(h,f),i.reset(),i.update(h.subarray(0,32)),i.update(a.subarray(32)),i.update(b);let k=i.digest();D(k);for(let l=0;l<32;l++)c[l]=j[l];for(let m=0;m<32;m++)for(let n=0;n<32;n++)c[m+n]+=k[m]*g[n];return C(h.subarray(32),c),h}},79984:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isSerializableHash=function(a){return void 0!==a.saveState&& void 0!==a.restoreState&& void 0!==a.cleanSavedState}},512:function(a,b,c){"use strict";var d=c(25629),e=c(17309),f=function(){function a(a,b,c,e){void 0===c&&(c=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=a,this._info=e;var f=d.hmac(this._hash,c,b);this._hmac=new d.HMAC(a,f),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return a.prototype._fillBuffer=function(){this._counter[0]++;var a=this._counter[0];if(0===a)throw Error("hkdf: cannot expand more");this._hmac.reset(),a>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},a.prototype.expand=function(a){for(var b=new Uint8Array(a),c=0;c<b.length;c++)this._bufpos===this._buffer.length&&this._fillBuffer(),b[c]=this._buffer[this._bufpos++];return b},a.prototype.clean=function(){this._hmac.clean(),e.wipe(this._buffer),e.wipe(this._counter),this._bufpos=0},a}();b.t=f},25629:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(79984),e=c(4153),f=c(17309),g=function(){function a(a,b){this._finished=!1,this._inner=new a,this._outer=new a,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var c=new Uint8Array(this.blockSize);b.length>this.blockSize?this._inner.update(b).finish(c).clean():c.set(b);for(var e=0;e<c.length;e++)c[e]^=54;this._inner.update(c);for(var e=0;e<c.length;e++)c[e]^=106;this._outer.update(c),d.isSerializableHash(this._inner)&&d.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),f.wipe(c)}return a.prototype.reset=function(){if(!d.isSerializableHash(this._inner)||!d.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.clean=function(){d.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),d.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},a.prototype.update=function(a){return this._inner.update(a),this},a.prototype.finish=function(a){return this._finished?(this._outer.finish(a),this):(this._inner.finish(a),this._outer.update(a.subarray(0,this.digestLength)).finish(a),this._finished=!0,this)},a.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},a.prototype.saveState=function(){if(!d.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},a.prototype.restoreState=function(a){if(!d.isSerializableHash(this._inner)||!d.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(a),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},a.prototype.cleanSavedState=function(a){if(!d.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(a)},a}();b.HMAC=g,b.hmac=function(a,b,c){var d=new g(a,b);d.update(c);var e=d.digest();return d.clean(),e},b.equal=e.equal},97117:function(a,b){"use strict";function c(a,b){return a+b|0}function d(a,b){return a-b|0}Object.defineProperty(b,"__esModule",{value:!0}),b.mul=Math.imul||function(a,b){var c=65535&a,d=65535&b;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0},b.add=c,b.sub=d,b.rotl=function(a,b){return a<<b|a>>>32-b},b.rotr=function(a,b){return a<<32-b|a>>>b},b.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},b.MAX_SAFE_INTEGER=9007199254740991,b.isSafeInteger=function(a){return b.isInteger(a)&&a>= -b.MAX_SAFE_INTEGER&&a<=b.MAX_SAFE_INTEGER}},63027:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(4153),e=c(17309);b.DIGEST_LENGTH=16;var f=function(){function a(a){this.digestLength=b.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=8191&c;var d=a[2]|a[3]<<8;this._r[1]=(c>>>13|d<<3)&8191;var e=a[4]|a[5]<<8;this._r[2]=(d>>>10|e<<6)&7939;var f=a[6]|a[7]<<8;this._r[3]=(e>>>7|f<<9)&8191;var g=a[8]|a[9]<<8;this._r[4]=(f>>>4|g<<12)&255,this._r[5]=g>>>1&8190;var h=a[10]|a[11]<<8;this._r[6]=(g>>>14|h<<2)&8191;var i=a[12]|a[13]<<8;this._r[7]=(h>>>11|i<<5)&8065;var j=a[14]|a[15]<<8;this._r[8]=(i>>>8|j<<8)&8191,this._r[9]=j>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return a.prototype._blocks=function(a,b,c){for(var d=this._fin?0:2048,e=this._h[0],f=this._h[1],g=this._h[2],h=this._h[3],i=this._h[4],j=this._h[5],k=this._h[6],l=this._h[7],m=this._h[8],n=this._h[9],o=this._r[0],p=this._r[1],q=this._r[2],r=this._r[3],s=this._r[4],t=this._r[5],u=this._r[6],v=this._r[7],w=this._r[8],x=this._r[9];c>=16;){var y=a[b+0]|a[b+1]<<8;e+=8191&y;var z=a[b+2]|a[b+3]<<8;f+=(y>>>13|z<<3)&8191;var A=a[b+4]|a[b+5]<<8;g+=(z>>>10|A<<6)&8191;var B=a[b+6]|a[b+7]<<8;h+=(A>>>7|B<<9)&8191;var C=a[b+8]|a[b+9]<<8;i+=(B>>>4|C<<12)&8191,j+=C>>>1&8191;var D=a[b+10]|a[b+11]<<8;k+=(C>>>14|D<<2)&8191;var E=a[b+12]|a[b+13]<<8;l+=(D>>>11|E<<5)&8191;var F=a[b+14]|a[b+15]<<8;m+=(E>>>8|F<<8)&8191,n+=F>>>5|d;var G=0,H=G;H+=e*o,H+=f*(5*x),H+=g*(5*w),H+=h*(5*v),H+=i*(5*u),G=H>>>13,H&=8191,H+=j*(5*t),H+=k*(5*s),H+=l*(5*r),H+=m*(5*q),H+=n*(5*p),G+=H>>>13,H&=8191;var I=G;I+=e*p,I+=f*o,I+=g*(5*x),I+=h*(5*w),I+=i*(5*v),G=I>>>13,I&=8191,I+=j*(5*u),I+=k*(5*t),I+=l*(5*s),I+=m*(5*r),I+=n*(5*q),G+=I>>>13,I&=8191;var J=G;J+=e*q,J+=f*p,J+=g*o,J+=h*(5*x),J+=i*(5*w),G=J>>>13,J&=8191,J+=j*(5*v),J+=k*(5*u),J+=l*(5*t),J+=m*(5*s),J+=n*(5*r),G+=J>>>13,J&=8191;var K=G;K+=e*r,K+=f*q,K+=g*p,K+=h*o,K+=i*(5*x),G=K>>>13,K&=8191,K+=j*(5*w),K+=k*(5*v),K+=l*(5*u),K+=m*(5*t),K+=n*(5*s),G+=K>>>13,K&=8191;var L=G;L+=e*s,L+=f*r,L+=g*q,L+=h*p,L+=i*o,G=L>>>13,L&=8191,L+=j*(5*x),L+=k*(5*w),L+=l*(5*v),L+=m*(5*u),L+=n*(5*t),G+=L>>>13,L&=8191;var M=G;M+=e*t,M+=f*s,M+=g*r,M+=h*q,M+=i*p,G=M>>>13,M&=8191,M+=j*o,M+=k*(5*x),M+=l*(5*w),M+=m*(5*v),M+=n*(5*u),G+=M>>>13,M&=8191;var N=G;N+=e*u,N+=f*t,N+=g*s,N+=h*r,N+=i*q,G=N>>>13,N&=8191,N+=j*p,N+=k*o,N+=l*(5*x),N+=m*(5*w),N+=n*(5*v),G+=N>>>13,N&=8191;var O=G;O+=e*v,O+=f*u,O+=g*t,O+=h*s,O+=i*r,G=O>>>13,O&=8191,O+=j*q,O+=k*p,O+=l*o,O+=m*(5*x),O+=n*(5*w),G+=O>>>13,O&=8191;var P=G;P+=e*w,P+=f*v,P+=g*u,P+=h*t,P+=i*s,G=P>>>13,P&=8191,P+=j*r,P+=k*q,P+=l*p,P+=m*o,P+=n*(5*x),G+=P>>>13,P&=8191;var Q=G;Q+=e*x,Q+=f*w,Q+=g*v,Q+=h*u,Q+=i*t,G=Q>>>13,Q&=8191,Q+=j*s,Q+=k*r,Q+=l*q,Q+=m*p,Q+=n*o,G+=Q>>>13,Q&=8191,H=8191&(G=(G=(G<<2)+G|0)+H|0),G>>>=13,I+=G,e=H,f=I,g=J,h=K,i=L,j=M,k=N,l=O,m=P,n=Q,b+=16,c-=16}this._h[0]=e,this._h[1]=f,this._h[2]=g,this._h[3]=h,this._h[4]=i,this._h[5]=j,this._h[6]=k,this._h[7]=l,this._h[8]=m,this._h[9]=n},a.prototype.finish=function(a,b){void 0===b&&(b=0);var c,d,e,f,g=new Uint16Array(10);if(this._leftover){for(f=this._leftover,this._buffer[f++]=1;f<16;f++)this._buffer[f]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(c=this._h[1]>>>13,this._h[1]&=8191,f=2;f<10;f++)this._h[f]+=c,c=this._h[f]>>>13,this._h[f]&=8191;for(this._h[0]+=5*c,c=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=c,c=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=c,g[0]=this._h[0]+5,c=g[0]>>>13,g[0]&=8191,f=1;f<10;f++)g[f]=this._h[f]+c,c=g[f]>>>13,g[f]&=8191;for(g[9]-=8192,d=(1^c)-1,f=0;f<10;f++)g[f]&=d;for(f=0,d=~d;f<10;f++)this._h[f]=this._h[f]&d|g[f];for(f=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,e=this._h[0]+this._pad[0],this._h[0]=65535&e;f<8;f++)e=(this._h[f]+this._pad[f]|0)+(e>>>16)|0,this._h[f]=65535&e;return a[b+0]=this._h[0]>>>0,a[b+1]=this._h[0]>>>8,a[b+2]=this._h[1]>>>0,a[b+3]=this._h[1]>>>8,a[b+4]=this._h[2]>>>0,a[b+5]=this._h[2]>>>8,a[b+6]=this._h[3]>>>0,a[b+7]=this._h[3]>>>8,a[b+8]=this._h[4]>>>0,a[b+9]=this._h[4]>>>8,a[b+10]=this._h[5]>>>0,a[b+11]=this._h[5]>>>8,a[b+12]=this._h[6]>>>0,a[b+13]=this._h[6]>>>8,a[b+14]=this._h[7]>>>0,a[b+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(a){var b,c=0,d=a.length;if(this._leftover){(b=16-this._leftover)>d&&(b=d);for(var e=0;e<b;e++)this._buffer[this._leftover+e]=a[c+e];if(d-=b,c+=b,this._leftover+=b,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(d>=16&&(b=d-d%16,this._blocks(a,c,b),c+=b,d-=b),d){for(var e=0;e<d;e++)this._buffer[this._leftover+e]=a[c+e];this._leftover+=d}return this},a.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},a.prototype.clean=function(){return e.wipe(this._buffer),e.wipe(this._r),e.wipe(this._h),e.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();b.Poly1305=f,b.oneTimeAuth=function(a,b){var c=new f(a);c.update(b);var d=c.digest();return c.clean(),d},b.equal=function(a,c){return a.length===b.DIGEST_LENGTH&&c.length===b.DIGEST_LENGTH&&d.equal(a,c)}},31416:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.randomStringForEntropy=b.randomString=b.randomUint32=b.randomBytes=b.defaultRandomSource=void 0;let d=c(46008),e=c(98099),f=c(17309);function g(a,c=b.defaultRandomSource){return c.randomBytes(a)}b.defaultRandomSource=new d.SystemRandomSource,b.randomBytes=g,b.randomUint32=function(a=b.defaultRandomSource){let c=g(4,a),d=(0,e.readUint32LE)(c);return(0,f.wipe)(c),d};let h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function i(a,c=h,d=b.defaultRandomSource){if(c.length<2)throw Error("randomString charset is too short");if(c.length>256)throw Error("randomString charset is too long");let e="",i=c.length,j=256-256%i;for(;a>0;){let k=g(Math.ceil(256*a/j),d);for(let l=0;l<k.length&&a>0;l++){let m=k[l];m<j&&(e+=c.charAt(m%i),a--)}(0,f.wipe)(k)}return e}b.randomString=i,b.randomStringForEntropy=function(a,c=h,d=b.defaultRandomSource){let e=Math.ceil(a/(Math.log(c.length)/Math.LN2));return i(e,c,d)}},75455:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BrowserRandomSource=void 0,b.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let a="undefined"!=typeof self?self.crypto||self.msCrypto:null;a&& void 0!==a.getRandomValues&&(this._crypto=a,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(a){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let b=new Uint8Array(a);for(let c=0;c<b.length;c+=65536)this._crypto.getRandomValues(b.subarray(c,c+Math.min(b.length-c,65536)));return b}}},58871:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NodeRandomSource=void 0;let d=c(17309);b.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let a=c(35883);a&&a.randomBytes&&(this._crypto=a,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(a){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let b=this._crypto.randomBytes(a);if(b.length!==a)throw Error("NodeRandomSource: got fewer bytes than requested");let c=new Uint8Array(a);for(let e=0;e<c.length;e++)c[e]=b[e];return(0,d.wipe)(b),c}}},46008:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SystemRandomSource=void 0;let d=c(75455),e=c(58871);b.SystemRandomSource=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new d.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new e.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(a){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(a)}}},73294:function(a,b,c){"use strict";var d=c(98099),e=c(17309);b.k=32,b.cn=64;var f=function(){function a(){this.digestLength=b.k,this.blockSize=b.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){e.wipe(this._buffer),e.wipe(this._temp),this.reset()},a.prototype.update=function(a,b){if(void 0===b&&(b=a.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var c=0;if(this._bytesHashed+=b,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&b>0;)this._buffer[this._bufferLength++]=a[c++],b--;this._bufferLength===this.blockSize&&(h(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(b>=this.blockSize&&(c=h(this._temp,this._state,a,c,b),b%=this.blockSize);b>0;)this._buffer[this._bufferLength++]=a[c++],b--;return this},a.prototype.finish=function(a){if(!this._finished){var b=this._bytesHashed,c=this._bufferLength,e=b/536870912|0,f=b<<3,g=b%64<56?64:128;this._buffer[c]=128;for(var i=c+1;i<g-8;i++)this._buffer[i]=0;d.writeUint32BE(e,this._buffer,g-8),d.writeUint32BE(f,this._buffer,g-4),h(this._temp,this._state,this._buffer,0,g),this._finished=!0}for(var i=0;i<this.digestLength/4;i++)d.writeUint32BE(this._state[i],a,4*i);return this},a.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},a.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(a){return this._state.set(a.state),this._bufferLength=a.bufferLength,a.buffer&&this._buffer.set(a.buffer),this._bytesHashed=a.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(a){e.wipe(a.state),a.buffer&&e.wipe(a.buffer),a.bufferLength=0,a.bytesHashed=0},a}();b.mE=f;var g=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function h(a,b,c,e,f){for(;f>=64;){for(var h=b[0],i=b[1],j=b[2],k=b[3],l=b[4],m=b[5],n=b[6],o=b[7],p=0;p<16;p++){var q=e+4*p;a[p]=d.readUint32BE(c,q)}for(var p=16;p<64;p++){var r=a[p-2],s=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,t=((r=a[p-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3;a[p]=(s+a[p-7]|0)+(t+a[p-16]|0)}for(var p=0;p<64;p++){var s=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&m^ ~l&n)|0)+(o+(g[p]+a[p]|0)|0)|0,t=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&i^h&j^i&j)|0;o=n,n=m,m=l,l=k+s|0,k=j,j=i,i=h,h=s+t|0}b[0]+=h,b[1]+=i,b[2]+=j,b[3]+=k,b[4]+=l,b[5]+=m,b[6]+=n,b[7]+=o,e+=64,f-=64}return e}b.vp=function(a){var b=new f;b.update(a);var c=b.digest();return b.clean(),c}},93350:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(98099),e=c(17309);b.DIGEST_LENGTH=64,b.BLOCK_SIZE=128;var f=function(){function a(){this.digestLength=b.DIGEST_LENGTH,this.blockSize=b.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){e.wipe(this._buffer),e.wipe(this._tempHi),e.wipe(this._tempLo),this.reset()},a.prototype.update=function(a,c){if(void 0===c&&(c=a.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var d=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<b.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=a[d++],c--;this._bufferLength===this.blockSize&&(h(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(d=h(this._tempHi,this._tempLo,this._stateHi,this._stateLo,a,d,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=a[d++],c--;return this},a.prototype.finish=function(a){if(!this._finished){var b=this._bytesHashed,c=this._bufferLength,e=b/536870912|0,f=b<<3,g=b%128<112?128:256;this._buffer[c]=128;for(var i=c+1;i<g-8;i++)this._buffer[i]=0;d.writeUint32BE(e,this._buffer,g-8),d.writeUint32BE(f,this._buffer,g-4),h(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,g),this._finished=!0}for(var i=0;i<this.digestLength/8;i++)d.writeUint32BE(this._stateHi[i],a,8*i),d.writeUint32BE(this._stateLo[i],a,8*i+4);return this},a.prototype.digest=function(){var a=new Uint8Array(this.digestLength);return this.finish(a),a},a.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(a){return this._stateHi.set(a.stateHi),this._stateLo.set(a.stateLo),this._bufferLength=a.bufferLength,a.buffer&&this._buffer.set(a.buffer),this._bytesHashed=a.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(a){e.wipe(a.stateHi),e.wipe(a.stateLo),a.buffer&&e.wipe(a.buffer),a.bufferLength=0,a.bytesHashed=0},a}();b.SHA512=f;var g=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function h(a,b,c,e,f,h,i){for(var j,k,l,m,n,o,p,q,r=c[0],s=c[1],t=c[2],u=c[3],v=c[4],w=c[5],x=c[6],y=c[7],z=e[0],A=e[1],B=e[2],C=e[3],D=e[4],E=e[5],F=e[6],G=e[7];i>=128;){for(var H=0;H<16;H++){var I=8*H+h;a[H]=d.readUint32BE(f,I),b[H]=d.readUint32BE(f,I+4)}for(var H=0;H<80;H++){var J=r,K=s,L=t,M=u,N=v,O=w,P=x,Q=y,R=z,S=A,T=B,U=C,V=D,W=E,X=F,Y=G;if(j=y,n=65535&(k=G),o=k>>>16,p=65535&j,q=j>>>16,j=(v>>>14|D<<18)^(v>>>18|D<<14)^(D>>>9|v<<23),k=(D>>>14|v<<18)^(D>>>18|v<<14)^(v>>>9|D<<23),n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,j=v&w^ ~v&x,k=D&E^ ~D&F,n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,j=g[2*H],k=g[2*H+1],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,j=a[H%16],k=b[H%16],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,l=65535&p|q<<16,m=65535&n|o<<16,j=l,k=m,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=(r>>>28|z<<4)^(z>>>2|r<<30)^(z>>>7|r<<25),k=(z>>>28|r<<4)^(r>>>2|z<<30)^(r>>>7|z<<25),n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,j=r&s^r&t^s&t,k=z&A^z&B^A&B,n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,Q=65535&p|q<<16,Y=65535&n|o<<16,j=M,k=U,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=l,k=m,n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,M=65535&p|q<<16,U=65535&n|o<<16,s=J,t=K,u=L,v=M,w=N,x=O,y=P,r=Q,A=R,B=S,C=T,D=U,E=V,F=W,G=X,z=Y,H%16==15)for(var I=0;I<16;I++)j=a[I],k=b[I],n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=a[(I+9)%16],k=b[(I+9)%16],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,l=a[(I+1)%16],m=b[(I+1)%16],j=(l>>>1|m<<31)^(l>>>8|m<<24)^l>>>7,k=(m>>>1|l<<31)^(m>>>8|l<<24)^(m>>>7|l<<25),n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,l=a[(I+14)%16],m=b[(I+14)%16],j=(l>>>19|m<<13)^(m>>>29|l<<3)^l>>>6,k=(m>>>19|l<<13)^(l>>>29|m<<3)^(m>>>6|l<<26),n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,a[I]=65535&p|q<<16,b[I]=65535&n|o<<16}j=r,n=65535&(k=z),o=k>>>16,p=65535&j,q=j>>>16,j=c[0],k=e[0],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[0]=r=65535&p|q<<16,e[0]=z=65535&n|o<<16,j=s,k=A,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[1],k=e[1],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[1]=s=65535&p|q<<16,e[1]=A=65535&n|o<<16,j=t,k=B,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[2],k=e[2],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[2]=t=65535&p|q<<16,e[2]=B=65535&n|o<<16,j=u,k=C,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[3],k=e[3],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[3]=u=65535&p|q<<16,e[3]=C=65535&n|o<<16,j=v,k=D,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[4],k=e[4],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[4]=v=65535&p|q<<16,e[4]=D=65535&n|o<<16,j=w,k=E,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[5],k=e[5],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[5]=w=65535&p|q<<16,e[5]=E=65535&n|o<<16,j=x,k=F,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[6],k=e[6],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[6]=x=65535&p|q<<16,e[6]=F=65535&n|o<<16,j=y,k=G,n=65535&k,o=k>>>16,p=65535&j,q=j>>>16,j=c[7],k=e[7],n+=65535&k,o+=k>>>16,p+=65535&j,q+=j>>>16,o+=n>>>16,p+=o>>>16,q+=p>>>16,c[7]=y=65535&p|q<<16,e[7]=G=65535&n|o<<16,h+=128,i-=128}return h}b.hash=function(a){var b=new f;b.update(a);var c=b.digest();return b.clean(),c}},17309:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.wipe=function(a){for(var b=0;b<a.length;b++)a[b]=0;return a}},57664:function(a,b,c){"use strict";b.gi=b.Au=b.KS=b.kz=void 0;let d=c(31416),e=c(17309);function f(a){let b=new Float64Array(16);if(a)for(let c=0;c<a.length;c++)b[c]=a[c];return b}b.kz=32,b.KS=32;let g=new Uint8Array(32);g[0]=9;let h=f([56129,1]);function i(a){let b=1;for(let c=0;c<16;c++){let d=a[c]+b+65535;b=Math.floor(d/65536),a[c]=d-65536*b}a[0]+=b-1+37*(b-1)}function j(a,b,c){let d=~(c-1);for(let e=0;e<16;e++){let f=d&(a[e]^b[e]);a[e]^=f,b[e]^=f}}function k(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]+c[d]}function l(a,b,c){for(let d=0;d<16;d++)a[d]=b[d]-c[d]}function m(a,b,c){let d,e,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=c[0],L=c[1],M=c[2],N=c[3],O=c[4],P=c[5],Q=c[6],R=c[7],S=c[8],T=c[9],U=c[10],V=c[11],W=c[12],X=c[13],Y=c[14],Z=c[15];f+=(d=b[0])*K,g+=d*L,h+=d*M,i+=d*N,j+=d*O,k+=d*P,l+=d*Q,m+=d*R,n+=d*S,o+=d*T,p+=d*U,q+=d*V,r+=d*W,s+=d*X,t+=d*Y,u+=d*Z,d=b[1],g+=d*K,h+=d*L,i+=d*M,j+=d*N,k+=d*O,l+=d*P,m+=d*Q,n+=d*R,o+=d*S,p+=d*T,q+=d*U,r+=d*V,s+=d*W,t+=d*X,u+=d*Y,v+=d*Z,d=b[2],h+=d*K,i+=d*L,j+=d*M,k+=d*N,l+=d*O,m+=d*P,n+=d*Q,o+=d*R,p+=d*S,q+=d*T,r+=d*U,s+=d*V,t+=d*W,u+=d*X,v+=d*Y,w+=d*Z,d=b[3],i+=d*K,j+=d*L,k+=d*M,l+=d*N,m+=d*O,n+=d*P,o+=d*Q,p+=d*R,q+=d*S,r+=d*T,s+=d*U,t+=d*V,u+=d*W,v+=d*X,w+=d*Y,x+=d*Z,d=b[4],j+=d*K,k+=d*L,l+=d*M,m+=d*N,n+=d*O,o+=d*P,p+=d*Q,q+=d*R,r+=d*S,s+=d*T,t+=d*U,u+=d*V,v+=d*W,w+=d*X,x+=d*Y,y+=d*Z,d=b[5],k+=d*K,l+=d*L,m+=d*M,n+=d*N,o+=d*O,p+=d*P,q+=d*Q,r+=d*R,s+=d*S,t+=d*T,u+=d*U,v+=d*V,w+=d*W,x+=d*X,y+=d*Y,z+=d*Z,d=b[6],l+=d*K,m+=d*L,n+=d*M,o+=d*N,p+=d*O,q+=d*P,r+=d*Q,s+=d*R,t+=d*S,u+=d*T,v+=d*U,w+=d*V,x+=d*W,y+=d*X,z+=d*Y,A+=d*Z,d=b[7],m+=d*K,n+=d*L,o+=d*M,p+=d*N,q+=d*O,r+=d*P,s+=d*Q,t+=d*R,u+=d*S,v+=d*T,w+=d*U,x+=d*V,y+=d*W,z+=d*X,A+=d*Y,B+=d*Z,d=b[8],n+=d*K,o+=d*L,p+=d*M,q+=d*N,r+=d*O,s+=d*P,t+=d*Q,u+=d*R,v+=d*S,w+=d*T,x+=d*U,y+=d*V,z+=d*W,A+=d*X,B+=d*Y,C+=d*Z,d=b[9],o+=d*K,p+=d*L,q+=d*M,r+=d*N,s+=d*O,t+=d*P,u+=d*Q,v+=d*R,w+=d*S,x+=d*T,y+=d*U,z+=d*V,A+=d*W,B+=d*X,C+=d*Y,D+=d*Z,d=b[10],p+=d*K,q+=d*L,r+=d*M,s+=d*N,t+=d*O,u+=d*P,v+=d*Q,w+=d*R,x+=d*S,y+=d*T,z+=d*U,A+=d*V,B+=d*W,C+=d*X,D+=d*Y,E+=d*Z,d=b[11],q+=d*K,r+=d*L,s+=d*M,t+=d*N,u+=d*O,v+=d*P,w+=d*Q,x+=d*R,y+=d*S,z+=d*T,A+=d*U,B+=d*V,C+=d*W,D+=d*X,E+=d*Y,F+=d*Z,d=b[12],r+=d*K,s+=d*L,t+=d*M,u+=d*N,v+=d*O,w+=d*P,x+=d*Q,y+=d*R,z+=d*S,A+=d*T,B+=d*U,C+=d*V,D+=d*W,E+=d*X,F+=d*Y,G+=d*Z,d=b[13],s+=d*K,t+=d*L,u+=d*M,v+=d*N,w+=d*O,x+=d*P,y+=d*Q,z+=d*R,A+=d*S,B+=d*T,C+=d*U,D+=d*V,E+=d*W,F+=d*X,G+=d*Y,H+=d*Z,d=b[14],t+=d*K,u+=d*L,v+=d*M,w+=d*N,x+=d*O,y+=d*P,z+=d*Q,A+=d*R,B+=d*S,C+=d*T,D+=d*U,E+=d*V,F+=d*W,G+=d*X,H+=d*Y,I+=d*Z,d=b[15],u+=d*K,v+=d*L,w+=d*M,x+=d*N,y+=d*O,z+=d*P,A+=d*Q,B+=d*R,C+=d*S,D+=d*T,E+=d*U,F+=d*V,G+=d*W,H+=d*X,I+=d*Y,J+=d*Z,f+=38*v,g+=38*w,h+=38*x,i+=38*y,j+=38*z,k+=38*A,l+=38*B,m+=38*C,n+=38*D,o+=38*E,p+=38*F,q+=38*G,r+=38*H,s+=38*I,t+=38*J,e=1,d=f+e+65535,e=Math.floor(d/65536),f=d-65536*e,d=g+e+65535,e=Math.floor(d/65536),g=d-65536*e,d=h+e+65535,e=Math.floor(d/65536),h=d-65536*e,d=i+e+65535,e=Math.floor(d/65536),i=d-65536*e,d=j+e+65535,e=Math.floor(d/65536),j=d-65536*e,d=k+e+65535,e=Math.floor(d/65536),k=d-65536*e,d=l+e+65535,e=Math.floor(d/65536),l=d-65536*e,d=m+e+65535,e=Math.floor(d/65536),m=d-65536*e,d=n+e+65535,e=Math.floor(d/65536),n=d-65536*e,d=o+e+65535,e=Math.floor(d/65536),o=d-65536*e,d=p+e+65535,e=Math.floor(d/65536),p=d-65536*e,d=q+e+65535,e=Math.floor(d/65536),q=d-65536*e,d=r+e+65535,e=Math.floor(d/65536),r=d-65536*e,d=s+e+65535,e=Math.floor(d/65536),s=d-65536*e,d=t+e+65535,e=Math.floor(d/65536),t=d-65536*e,d=u+e+65535,e=Math.floor(d/65536),u=d-65536*e,f+=e-1+37*(e-1),e=1,d=f+e+65535,e=Math.floor(d/65536),f=d-65536*e,d=g+e+65535,e=Math.floor(d/65536),g=d-65536*e,d=h+e+65535,e=Math.floor(d/65536),h=d-65536*e,d=i+e+65535,e=Math.floor(d/65536),i=d-65536*e,d=j+e+65535,e=Math.floor(d/65536),j=d-65536*e,d=k+e+65535,e=Math.floor(d/65536),k=d-65536*e,d=l+e+65535,e=Math.floor(d/65536),l=d-65536*e,d=m+e+65535,e=Math.floor(d/65536),m=d-65536*e,d=n+e+65535,e=Math.floor(d/65536),n=d-65536*e,d=o+e+65535,e=Math.floor(d/65536),o=d-65536*e,d=p+e+65535,e=Math.floor(d/65536),p=d-65536*e,d=q+e+65535,e=Math.floor(d/65536),q=d-65536*e,d=r+e+65535,e=Math.floor(d/65536),r=d-65536*e,d=s+e+65535,e=Math.floor(d/65536),s=d-65536*e,d=t+e+65535,e=Math.floor(d/65536),t=d-65536*e,d=u+e+65535,e=Math.floor(d/65536),u=d-65536*e,f+=e-1+37*(e-1),a[0]=f,a[1]=g,a[2]=h,a[3]=i,a[4]=j,a[5]=k,a[6]=l,a[7]=m,a[8]=n,a[9]=o,a[10]=p,a[11]=q,a[12]=r,a[13]=s,a[14]=t,a[15]=u}function n(a,b){m(a,b,b)}function o(a,b){let c=new Uint8Array(32),d=new Float64Array(80),e=f(),g=f(),o=f(),p=f(),q=f(),r=f();for(let s=0;s<31;s++)c[s]=a[s];c[31]=127&a[31]|64,c[0]&=248,function(a,b){for(let c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}(d,b);for(let t=0;t<16;t++)g[t]=d[t];e[0]=p[0]=1;for(let u=254;u>=0;--u){let v=c[u>>>3]>>>(7&u)&1;j(e,g,v),j(o,p,v),k(q,e,o),l(e,e,o),k(o,g,p),l(g,g,p),n(p,q),n(r,e),m(e,o,e),m(o,g,q),k(q,e,o),l(e,e,o),n(g,e),l(o,p,r),m(e,o,h),k(e,e,p),m(o,o,e),m(e,p,r),m(p,g,d),n(g,q),j(e,g,v),j(o,p,v)}for(let w=0;w<16;w++)d[w+16]=e[w],d[w+32]=o[w],d[w+48]=g[w],d[w+64]=p[w];let x=d.subarray(32),y=d.subarray(16);!function(a,b){let c=f();for(let d=0;d<16;d++)c[d]=b[d];for(let e=253;e>=0;e--)n(c,c),2!==e&&4!==e&&m(c,c,b);for(let g=0;g<16;g++)a[g]=c[g]}(x,x),m(y,y,x);let z=new Uint8Array(32);return!function(a,b){let c=f(),d=f();for(let e=0;e<16;e++)d[e]=b[e];i(d),i(d),i(d);for(let g=0;g<2;g++){c[0]=d[0]-65517;for(let h=1;h<15;h++)c[h]=d[h]-65535-(c[h-1]>>16&1),c[h-1]&=65535;c[15]=d[15]-32767-(c[14]>>16&1);let k=c[15]>>16&1;c[14]&=65535,j(d,c,1-k)}for(let l=0;l<16;l++)a[2*l]=255&d[l],a[2*l+1]=d[l]>>8}(z,y),z}b.Au=function(a){let c=(0,d.randomBytes)(32,a),f=function a(c){var d;if(c.length!==b.KS)throw Error(`x25519: seed must be ${b.KS} bytes`);let e=new Uint8Array(c),f=(d=e,o(d,g));return{publicKey:f,secretKey:e}}(c);return(0,e.wipe)(c),f},b.gi=function(a,c,d=!1){if(a.length!==b.kz)throw Error("X25519: incorrect secret key length");if(c.length!==b.kz)throw Error("X25519: incorrect public key length");let e=o(a,c);if(d){let f=0;for(let g=0;g<e.length;g++)f|=e[g];if(0===f)throw Error("X25519: invalid shared key")}return e}},53578:function(a,b,c){"use strict";c.r(b),c.d(b,{EthereumProvider:function(){return gr},OPTIONAL_EVENTS:function(){return ge},OPTIONAL_METHODS:function(){return gc},REQUIRED_EVENTS:function(){return gd},REQUIRED_METHODS:function(){return gb},default:function(){return gq}});var d={};c.r(d),c.d(d,{identity:function(){return O}});var e={};c.r(e),c.d(e,{base2:function(){return P}});var f={};c.r(f),c.d(f,{base8:function(){return Q}});var g={};c.r(g),c.d(g,{base10:function(){return R}});var h={};c.r(h),c.d(h,{base16:function(){return S},base16upper:function(){return T}});var i={};c.r(i),c.d(i,{base32:function(){return U},base32hex:function(){return Y},base32hexpad:function(){return $},base32hexpadupper:function(){return _},base32hexupper:function(){return Z},base32pad:function(){return W},base32padupper:function(){return X},base32upper:function(){return V},base32z:function(){return aa}});var j={};c.r(j),c.d(j,{base36:function(){return ab},base36upper:function(){return ac}});var k={};c.r(k),c.d(k,{base58btc:function(){return ad},base58flickr:function(){return ae}});var l={};c.r(l),c.d(l,{base64:function(){return af},base64pad:function(){return ag},base64url:function(){return ah},base64urlpad:function(){return ai}});var m={};c.r(m),c.d(m,{base256emoji:function(){return am}});var n={};c.r(n),c.d(n,{sha256:function(){return ay},sha512:function(){return az}});var o={};c.r(o),c.d(o,{identity:function(){return aC}});var p={};c.r(p),c.d(p,{code:function(){return aE},decode:function(){return aG},encode:function(){return aF},name:function(){return aD}});var q={};c.r(q),c.d(q,{code:function(){return aK},decode:function(){return aM},encode:function(){return aL},name:function(){return aJ}});var r=c(17187),s=c.n(r),t=c(15501),u=c(512),v=c(31416),w=c(73294),x=c(57664);function y(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function z(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?y(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function A(a,b){b||(b=a.reduce((a,b)=>a+b.length,0));let c=z(b),d=0;for(let e of a)c.set(e,d),d+=e.length;return y(c)}var B,C=function(a,b){if(a.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),d=0;d<c.length;d++)c[d]=255;for(var e=0;e<a.length;e++){var f=a.charAt(e),g=f.charCodeAt(0);if(255!==c[g])throw TypeError(f+" is ambiguous");c[g]=e}var h=a.length,i=a.charAt(0),j=Math.log(h)/Math.log(256),k=Math.log(256)/Math.log(h);function l(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;var b=0;if(" "!==a[b]){for(var d=0,e=0;a[b]===i;)d++,b++;for(var f=(a.length-b)*j+1>>>0,g=new Uint8Array(f);a[b];){var k=c[a.charCodeAt(b)];if(255===k)return;for(var l=0,m=f-1;(0!==k||l<e)&& -1!==m;m--,l++)k+=h*g[m]>>>0,g[m]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");e=l,b++}if(" "!==a[b]){for(var n=f-e;n!==f&&0===g[n];)n++;for(var o=new Uint8Array(d+(f-n)),p=d;n!==f;)o[p++]=g[n++];return o}}}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var g=(f-e)*k+1>>>0,j=new Uint8Array(g);e!==f;){for(var l=b[e],m=0,n=g-1;(0!==l||m<d)&& -1!==n;n--,m++)l+=256*j[n]>>>0,j[n]=l%h>>>0,l=l/h>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var o=g-d;o!==g&&0===j[o];)o++;for(var p=i.repeat(c);o<g;++o)p+=a.charAt(j[o]);return p},decodeUnsafe:l,decode:function(a){var c=l(a);if(c)return c;throw Error(`Non-${b} character`)}}};new Uint8Array(0);let D=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Unknown type, must be binary type")},E=a=>new TextEncoder().encode(a),F=a=>new TextDecoder().decode(a);class G{constructor(a){this.decoders=a}or(a){return H(this,a)}decode(a){let b=a[0],c=this.decoders[b];if(c)return c.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let H=(a,b)=>new G({...a.decoders||{[a.prefix]:a},...b.decoders||{[b.prefix]:b}});class I{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new class{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}(a,b,c),this.decoder=new class{constructor(a,b,c){if(this.name=a,this.prefix=b,void 0===b.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=b.codePointAt(0),this.baseDecode=c}decode(a){if("string"==typeof a){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(a){return H(this,a)}}(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}let J=({name:a,prefix:b,encode:c,decode:d})=>new I(a,b,c,d),K=({prefix:a,name:b,alphabet:c})=>{let{encode:d,decode:e}=C(c,b);return J({prefix:a,name:b,encode:d,decode:a=>D(e(a))})},L=(a,b,c,d)=>{let e={};for(let f=0;f<b.length;++f)e[b[f]]=f;let g=a.length;for(;"="===a[g-1];)--g;let h=new Uint8Array(g*c/8|0),i=0,j=0,k=0;for(let l=0;l<g;++l){let m=e[a[l]];if(void 0===m)throw SyntaxError(`Non-${d} character`);j=j<<c|m,i+=c,i>=8&&(i-=8,h[k++]=255&j>>i)}if(i>=c||255&j<<8-i)throw SyntaxError("Unexpected end of data");return h},M=(a,b,c)=>{let d="="===b[b.length-1],e=(1<<c)-1,f="",g=0,h=0;for(let i=0;i<a.length;++i)for(h=h<<8|a[i],g+=8;g>c;)g-=c,f+=b[e&h>>g];if(g&&(f+=b[e&h<<c-g]),d)for(;f.length*c&7;)f+="=";return f},N=({name:a,prefix:b,bitsPerChar:c,alphabet:d})=>J({prefix:b,name:a,encode(a){return M(a,d,c)},decode(b){return L(b,d,c,a)}}),O=J({prefix:"\0",name:"identity",encode:a=>F(a),decode:a=>E(a)}),P=N({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Q=N({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),R=K({prefix:"9",name:"base10",alphabet:"0123456789"}),S=N({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),T=N({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),U=N({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),V=N({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),W=N({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),X=N({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Y=N({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Z=N({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$=N({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_=N({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),aa=N({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ab=K({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ac=K({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ad=K({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ae=K({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),af=N({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ag=N({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ah=N({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ai=N({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),aj=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),ak=aj.reduce((a,b,c)=>(a[c]=b,a),[]),al=aj.reduce((a,b,c)=>(a[b.codePointAt(0)]=c,a),[]),am=J({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(a){return a.reduce((a,b)=>a+=ak[b],"")},decode:function(a){let b=[];for(let c of a){let d=al[c.codePointAt(0)];if(void 0===d)throw Error(`Non-base256emoji character: ${c}`);b.push(d)}return new Uint8Array(b)}});function an(a,b,c){b=b||[];for(var d=c=c||0;a>=2147483648;)b[c++]=255&a|128,a/=128;for(;-128&a;)b[c++]=255&a|128,a>>>=7;return b[c]=0|a,an.bytes=c-d+1,b}function ao(a,b){var c,d=0,b=b||0,e=0,f=b,g=a.length;do{if(f>=g)throw ao.bytes=0,RangeError("Could not decode varint");c=a[f++],d+=e<28?(127&c)<<e:(127&c)*Math.pow(2,e),e+=7}while(c>=128);return ao.bytes=f-b,d}var ap,aq={encode:an,decode:ao,encodingLength:function(a){return a<128?1:a<16384?2:a<2097152?3:a<268435456?4:a<34359738368?5:a<4398046511104?6:a<562949953421312?7:a<72057594037927940?8:a<0x7fffffffffffffff?9:10}};let ar=(a,b,c=0)=>(aq.encode(a,b,c),b),as=a=>aq.encodingLength(a),at=(a,b)=>{let c=b.byteLength,d=as(a),e=d+as(c),f=new Uint8Array(e+c);return ar(a,f,0),ar(c,f,d),f.set(b,e),new au(a,c,b,f)};class au{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}let av=({name:a,code:b,encode:c})=>new aw(a,b,c);class aw{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}digest(a){if(a instanceof Uint8Array){let b=this.encode(a);return b instanceof Uint8Array?at(this.code,b):b.then(a=>at(this.code,a))}throw Error("Unknown type, must be binary type")}}let ax=a=>async b=>new Uint8Array(await crypto.subtle.digest(a,b)),ay=av({name:"sha2-256",code:18,encode:ax("SHA-256")}),az=av({name:"sha2-512",code:19,encode:ax("SHA-512")}),aA=D,aB=a=>at(0,aA(a)),aC={code:0,name:"identity",encode:aA,digest:aB},aD="raw",aE=85,aF=a=>D(a),aG=a=>D(a),aH=new TextEncoder,aI=new TextDecoder,aJ="json",aK=512,aL=a=>aH.encode(JSON.stringify(a)),aM=a=>JSON.parse(aI.decode(a));class aN{constructor(a,b,c,d){this.code=b,this.version=a,this.multihash=c,this.bytes=d,this.byteOffset=d.byteOffset,this.byteLength=d.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:aW,byteLength:aW,code:aV,version:aV,multihash:aV,bytes:aV,_baseCache:aW,asCID:aW})}toV0(){if(0===this.version)return this;{let{code:a,multihash:b}=this;if(a!==aR)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(b.code!==aS)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return aN.createV0(b)}}toV1(){switch(this.version){case 0:{let{code:a,digest:b}=this.multihash,c=Digest.create(a,b);return aN.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(a){return a&&this.code===a.code&&this.version===a.version&&Digest.equals(this.multihash,a.multihash)}toString(a){let{bytes:b,version:c,_baseCache:d}=this;return 0===c?aP(b,d,a||base58btc.encoder):aQ(b,d,a||base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(a){return aX(/^0\.0/,aY),!!(a&&(a[aU]||a.asCID===a))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(a){if(a instanceof aN)return a;if(null!=a&&a.asCID===a){let{version:b,code:c,multihash:d,bytes:e}=a;return new aN(b,c,d,e||aT(b,c,d.bytes))}if(null==a|| !0!==a[aU])return null;{let{version:f,multihash:g,code:h}=a,i=Digest.decode(g);return aN.create(f,h,i)}}static create(a,b,c){if("number"!=typeof b)throw Error("String codecs are no longer supported");switch(a){case 0:if(b===aR)return new aN(a,b,c,c.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${aR}) block encoding`);case 1:{let d=aT(a,b,c.bytes);return new aN(a,b,c,d)}default:throw Error("Invalid version")}}static createV0(a){return aN.create(0,aR,a)}static createV1(a,b){return aN.create(1,a,b)}static decode(a){let[b,c]=aN.decodeFirst(a);if(c.length)throw Error("Incorrect length");return b}static decodeFirst(a){let b=aN.inspectBytes(a),c=b.size-b.multihashSize,d=coerce(a.subarray(c,c+b.multihashSize));if(d.byteLength!==b.multihashSize)throw Error("Incorrect length");let e=d.subarray(b.multihashSize-b.digestSize),f=new Digest.Digest(b.multihashCode,b.digestSize,e,d),g=0===b.version?aN.createV0(f):aN.createV1(b.codec,f);return[g,a.subarray(b.size)]}static inspectBytes(a){let b=0,c=()=>{let[c,d]=varint.decode(a.subarray(b));return b+=d,c},d=c(),e=aR;if(18===d?(d=0,b=0):1===d&&(e=c()),0!==d&&1!==d)throw RangeError(`Invalid CID version ${d}`);let f=b,g=c(),h=c(),i=b+h;return{version:d,codec:e,multihashCode:g,digestSize:h,multihashSize:i-f,size:i}}static parse(a,b){let[c,d]=aO(a,b),e=aN.decode(d);return e._baseCache.set(c,a),e}}let aO=(a,b)=>{switch(a[0]){case"Q":{let c=b||base58btc;return[base58btc.prefix,c.decode(`${base58btc.prefix}${a}`)]}case base58btc.prefix:{let d=b||base58btc;return[base58btc.prefix,d.decode(a)]}case base32.prefix:{let e=b||base32;return[base32.prefix,e.decode(a)]}default:if(null==b)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[a[0],b.decode(a)]}},aP=(a,b,c)=>{let{prefix:d}=c;if(d!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${c.name} encoding`);let e=b.get(d);if(null!=e)return e;{let f=c.encode(a).slice(1);return b.set(d,f),f}},aQ=(a,b,c)=>{let{prefix:d}=c,e=b.get(d);if(null!=e)return e;{let f=c.encode(a);return b.set(d,f),f}},aR=112,aS=18,aT=(a,b,c)=>{let d=varint.encodingLength(a),e=d+varint.encodingLength(b),f=new Uint8Array(e+c.byteLength);return varint.encodeTo(a,f,0),varint.encodeTo(b,f,d),f.set(c,e),f},aU=Symbol.for("@ipld/js-cid/CID"),aV={writable:!1,configurable:!1,enumerable:!0},aW={writable:!1,enumerable:!1,configurable:!1},aX=(a,b)=>{if(a.test("0.0.0-dev"))console.warn(b);else throw Error(b)},aY=null,aZ={...d,...e,...f,...g,...h,...i,...j,...k,...l,...m};function a$(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}let a_=a$("utf8","u",a=>{let b=new TextDecoder("utf8");return"u"+b.decode(a)},a=>{let b=new TextEncoder;return b.encode(a.substring(1))}),a0=a$("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{a=a.substring(1);let b=z(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),a1={utf8:a_,"utf-8":a_,hex:aZ.base16,latin1:a0,ascii:a0,binary:a0,...aZ};var a2=a1;function a3(a,b="utf8"){let c=a2[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?y(globalThis.Buffer.from(a,"utf-8")):c.decoder.decode(`${c.prefix}${a}`)}function a4(a,b="utf8"){let c=a2[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8"):c.encoder.encode(a).substring(1)}var a5=c(43631),a6=c(66736),a7=c(62873),a8=c(65755),a9=c(66151);c(61882);let ba={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var bb=c(83454);function bc(a){let[b,c,d]=a.split(":");return{namespace:b,reference:c,address:d}}function bd(a,b){return a.includes(":")?[a]:b.chains||[]}let be=a=>a?.split(":"),bf="base10",bg="base16",bh="base64pad",bi="utf8";function bj(){let a=(0,v.randomBytes)(32);return a4(a,bg)}function bk(a){let b=(0,w.vp)(a3(a,bi));return a4(b,bg)}function bl(a){return Number(a4(a,bf))}function bm(a){let b=a3(a,bh),c=b.slice(0,1);if(1===bl(c)){let d=33,e=d+12,f=b.slice(1,d),g=b.slice(d,e),h=b.slice(e);return{type:c,sealed:h,iv:g,senderPublicKey:f}}let i=b.slice(1,13),j=b.slice(13);return{type:c,sealed:j,iv:i}}function bn(a){let b=a?.type||0;if(1===b){if(typeof a?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof a?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:b,senderPublicKey:a?.senderPublicKey,receiverPublicKey:a?.receiverPublicKey}}function bo(a){return 1===a.type&&"string"==typeof a.senderPublicKey&&"string"==typeof a.receiverPublicKey}var bp=Object.defineProperty,bq=Object.getOwnPropertySymbols,br=Object.prototype.hasOwnProperty,bs=Object.prototype.propertyIsEnumerable,bt=(a,b,c)=>b in a?bp(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,bu=(a,b)=>{for(var c in b||(b={}))br.call(b,c)&&bt(a,c,b[c]);if(bq)for(var c of bq(b))bs.call(b,c)&&bt(a,c,b[c]);return a};let bv={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function bw(){return"u">typeof bb&&"u">typeof bb.versions&&"u">typeof bb.versions.node}function bx(){return!(0,a7.getDocument)()&&!!(0,a7.getNavigator)()&&"ReactNative"===navigator.product}function by(){return!bw()&&!!(0,a7.getNavigator)()}function bz(){return bx()?bv.reactNative:bw()?bv.node:by()?bv.browser:bv.unknown}function bA(a,b){return a.filter(a=>b.includes(a)).length===a.length}function bB(a){return Object.fromEntries(a.entries())}function bC(a){return new Map(Object.entries(a))}function bD(a=a6.FIVE_MINUTES,b){let c=(0,a6.toMiliseconds)(a||a6.FIVE_MINUTES),d,e,f;return{resolve:a=>{f&&d&&(clearTimeout(f),d(a))},reject:a=>{f&&e&&(clearTimeout(f),e(a))},done:()=>new Promise((a,g)=>{f=setTimeout(()=>{g(Error(b))},c),d=a,e=g})}}function bE(a,b,c){return new Promise(async(d,e)=>{let f=setTimeout(()=>e(Error(c)),b);try{let g=await a;d(g)}catch(h){e(h)}clearTimeout(f)})}function bF(a,b){if("string"==typeof b&&b.startsWith(`${a}:`))return b;if("topic"===a.toLowerCase()){if("string"!=typeof b)throw Error('Value must be "string" for expirer target type: topic');return`topic:${b}`}if("id"===a.toLowerCase()){if("number"!=typeof b)throw Error('Value must be "number" for expirer target type: id');return`id:${b}`}throw Error(`Unknown expirer target type: ${a}`)}function bG(a){let[b,c]=a.split(":"),d={id:void 0,topic:void 0};if("topic"===b&&"string"==typeof c)d.topic=c;else if("id"===b&&Number.isInteger(Number(c)))d.id=Number(c);else throw Error(`Invalid target, expected id:number or topic:string, got ${b}:${c}`);return d}function bH(a,b){return(0,a6.fromMiliseconds)((b||Date.now())+(0,a6.toMiliseconds)(a))}function bI(a){return Date.now()>=(0,a6.toMiliseconds)(a)}function bJ(a,b){return`${a}${b?`:${b}`:""}`}function bK(a=[],b=[]){return[...new Set([...a,...b])]}async function bL({id:a,topic:b,wcDeepLink:d}){try{if(!d)return;let e="string"==typeof d?JSON.parse(d):d,f=e?.href;if("string"!=typeof f)return;f.endsWith("/")&&(f=f.slice(0,-1));let g=`${f}/wc?requestId=${a}&sessionTopic=${b}`,h=bz();h===bv.browser?window.open(g,"_self","noreferrer noopener"):h===bv.reactNative&&"u">typeof(null==c.g?void 0:c.g.Linking)&&await c.g.Linking.openURL(g)}catch(i){console.error(i)}}function bM(a){return a?.relay||{protocol:"irn"}}function bN(a){let b=ba[a];if(typeof b>"u")throw Error(`Relay Protocol not supported: ${a}`);return b}var bO=Object.defineProperty,bP=Object.getOwnPropertySymbols,bQ=Object.prototype.hasOwnProperty,bR=Object.prototype.propertyIsEnumerable,bS=(a,b,c)=>b in a?bO(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,bT=(a,b)=>{for(var c in b||(b={}))bQ.call(b,c)&&bS(a,c,b[c]);if(bP)for(var c of bP(b))bR.call(b,c)&&bS(a,c,b[c]);return a},bU=Object.defineProperty,bV=Object.defineProperties,bW=Object.getOwnPropertyDescriptors,bX=Object.getOwnPropertySymbols,bY=Object.prototype.hasOwnProperty,bZ=Object.prototype.propertyIsEnumerable,b$=(a,b,c)=>b in a?bU(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,b_=(a,b)=>{for(var c in b||(b={}))bY.call(b,c)&&b$(a,c,b[c]);if(bX)for(var c of bX(b))bZ.call(b,c)&&b$(a,c,b[c]);return a},b0=(a,b)=>bV(a,bW(b));function b1(a){let b=[];return a.forEach(a=>{let[c,d]=a.split(":");b.push(`${c}:${d}`)}),b}function b2(a){return a.includes(":")}function b3(a){return b2(a)?a.split(":")[0]:a}let b4={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},b5={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function b6(a,b){let{message:c,code:d}=b5[a];return{message:b?`${c} ${b}`:c,code:d}}function b7(a,b){let{message:c,code:d}=b4[a];return{message:b?`${c} ${b}`:c,code:d}}function b8(a,b){return!!Array.isArray(a)&&(!("u">typeof b)||!a.length||a.every(b))}function b9(a){return Object.getPrototypeOf(a)===Object.prototype&&Object.keys(a).length}function ca(a){return typeof a>"u"}function cb(a,b){return!!(b&&ca(a))||"string"==typeof a&&!!a.trim().length}function cc(a,b){return!!(b&&ca(a))||"number"==typeof a&&!isNaN(a)}function cd(a){return!!(cb(a,!1)&&a.includes(":"))&&2===a.split(":").length}function ce(a){let b=!0;return b8(a)?a.length&&(b=a.every(a=>cb(a,!1))):b=!1,b}function cf(a,b){let c=null;return Object.values(a).forEach(a=>{var d,e;if(c)return;let f,g=(d=a,e=`${b}, namespace`,f=null,ce(d?.methods)?ce(d?.events)||(f=b7("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):f=b7("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),f);g&&(c=g)}),c}function cg(a,b){let c=null;if(a&&b9(a)){var d,e;let f=cf(a,b);f&&(c=f);let g,h=(d=a,e=b,g=null,Object.values(d).forEach(a=>{var b,c;if(g)return;let d,f=(b=a?.accounts,c=`${e} namespace`,d=null,b8(b)?b.forEach(a=>{d||function(a){if(cb(a,!1)&&a.includes(":")){let b=a.split(":");if(3===b.length){let c=b[0]+":"+b[1];return!!b[2]&&cd(c)}}return!1}(a)||(d=b7("UNSUPPORTED_ACCOUNTS",`${c}, account ${a} should be a string and conform to "namespace:chainId:address" format`))}):d=b7("UNSUPPORTED_ACCOUNTS",`${c}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),d);f&&(g=f)}),g);h&&(c=h)}else c=b6("MISSING_OR_INVALID",`${b}, namespaces should be an object with data`);return c}function ch(a){return cb(a.protocol,!0)}function ci(a){return"u">typeof a}function cj(a,b){return!(!cd(b)||!(function(a){let b=[];return Object.values(a).forEach(a=>{b.push(...b1(a.accounts))}),b})(a).includes(b))}function ck(a,b,c){let d=null,e=cl(a),f=cn(b),g=Object.keys(e),h=Object.keys(f),i=cm(Object.keys(a)),j=cm(Object.keys(b)),k=i.filter(a=>!j.includes(a));return k.length&&(d=b6("NON_CONFORMING_NAMESPACES",`${c} namespaces keys don't satisfy requiredNamespaces.
      Required: ${k.toString()}
      Received: ${Object.keys(b).toString()}`)),bA(g,h)||(d=b6("NON_CONFORMING_NAMESPACES",`${c} namespaces chains don't satisfy required namespaces.
      Required: ${g.toString()}
      Approved: ${h.toString()}`)),Object.keys(b).forEach(a=>{if(!a.includes(":")||d)return;let e=b1(b[a].accounts);e.includes(a)||(d=b6("NON_CONFORMING_NAMESPACES",`${c} namespaces accounts don't satisfy namespace accounts for ${a}
        Required: ${a}
        Approved: ${e.toString()}`))}),g.forEach(a=>{d||(bA(e[a].methods,f[a].methods)?bA(e[a].events,f[a].events)||(d=b6("NON_CONFORMING_NAMESPACES",`${c} namespaces events don't satisfy namespace events for ${a}`)):d=b6("NON_CONFORMING_NAMESPACES",`${c} namespaces methods don't satisfy namespace methods for ${a}`))}),d}function cl(a){let b={};return Object.keys(a).forEach(c=>{var d;c.includes(":")?b[c]=a[c]:null==(d=a[c].chains)||d.forEach(d=>{b[d]={methods:a[c].methods,events:a[c].events}})}),b}function cm(a){return[...new Set(a.map(a=>a.includes(":")?a.split(":")[0]:a))]}function cn(a){let b={};return Object.keys(a).forEach(c=>{if(c.includes(":"))b[c]=a[c];else{let d=b1(a[c].accounts);d?.forEach(d=>{b[d]={accounts:a[c].accounts.filter(a=>a.includes(`${d}:`)),methods:a[c].methods,events:a[c].events}})}}),b}var co=c(85150),cp=c(90772),cq=c(9107),cr=c(38200);class cs extends cr.q{constructor(a){super(),this.opts=a,this.protocol="wc",this.version=2}}class ct extends cr.q{constructor(a,b){super(),this.core=a,this.logger=b,this.records=new Map}}class cu{constructor(a,b){this.logger=a,this.core=b}}class cv extends cr.q{constructor(a,b){super(),this.relayer=a,this.logger=b}}class cw extends cr.q{constructor(a){super()}}class cx{constructor(a,b,c,d){this.core=a,this.logger=b,this.name=c}}class cy extends cr.q{constructor(a,b){super(),this.relayer=a,this.logger=b}}class cz extends cr.q{constructor(a,b){super(),this.core=a,this.logger=b}}class cA{constructor(a,b){this.projectId=a,this.logger=b}}class cB{constructor(a){this.opts=a,this.protocol="wc",this.version=2}}class cC{constructor(a){this.client=a}}let cD=a=>JSON.stringify(a,(a,b)=>"bigint"==typeof b?b.toString()+"n":b),cE=a=>{let b=a.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(b,(a,b)=>{let c="string"==typeof b&&b.match(/^\d+n$/);return c?BigInt(b.substring(0,b.length-1)):b})};var cF=c(31050);let cG="base64url",cH="base58btc";var cI=c(85094);function cJ(a){return a4(a3((0,cI.u)(a),"utf8"),cG)}function cK(a){let b=a3("K36",cH),c="z"+a4(A([b,a]),cH);return["did","key",c].join(":")}function cL(a=(0,v.randomBytes)(32)){return cF._w(a)}async function cM(a,b,c,d,e=(0,a6.fromMiliseconds)(Date.now())){var f,g,h;let i={alg:"EdDSA",typ:"JWT"},j=cK(d.publicKey),k={iss:j,sub:a,aud:b,iat:e,exp:e+c},l=a3([cJ((f={header:i,payload:k}).header),cJ(f.payload)].join("."),"utf8"),m=cF.Xx(d.secretKey,l);return[cJ((g={header:i,payload:k,signature:m}).header),cJ(g.payload),a4(h=g.signature,cG),].join(".")}c(43014),c(1468);class cN{}class cO extends cN{constructor(){super()}}class cP extends cO{constructor(a){super()}}function cQ(a){return"error"in a}class cR extends cP{constructor(a){super(a),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(a),this.connection.connected&&this.registerEventListeners()}async connect(a=this.connection){await this.open(a)}async disconnect(){await this.close()}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async request(a,b){var c,d;return this.requestStrict((c=a.method,d=a.params||[],{id:function(){let a=1e3*Date.now();return a+Math.floor(1e3*Math.random())}(),jsonrpc:"2.0",method:c,params:d}),b)}async requestStrict(a,b){return new Promise(async(c,d)=>{if(!this.connection.connected)try{await this.open()}catch(e){d(e)}this.events.on(`${a.id}`,a=>{cQ(a)?d(a.error):c(a.result)});try{await this.connection.send(a,b)}catch(f){d(f)}})}setConnection(a=this.connection){return a}onPayload(a){var b,c,d;if(this.events.emit("payload",a),c=b=a,"object"==typeof c&&"id"in c&&"jsonrpc"in c&&"2.0"===c.jsonrpc&&(d=b,"result"in d||cQ(b)))this.events.emit(`${a.id}`,a);else this.events.emit("message",{type:a.method,data:a.params})}onClose(a){a&&3e3===a.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${a.code} ${a.reason?`(${a.reason})`:""}`)),this.events.emit("disconnect")}async open(a=this.connection){this.connection===a&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof a&&(await this.connection.open(a),a=this.connection),this.connection=this.setConnection(a),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",a=>this.onPayload(a)),this.connection.on("close",a=>this.onClose(a)),this.connection.on("error",a=>this.events.emit("error",a)),this.hasRegisteredEventListeners=!0)}}let cS="INTERNAL_ERROR",cT="SERVER_ERROR",cU=[-32700,-32600,-32601,-32602,-32603],cV={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[cS]:{code:-32603,message:"Internal error"},[cT]:{code:-32e3,message:"Server error"}},cW=cT;function cX(a){return Object.keys(cV).includes(a)?cV[a]:cV[cW]}function cY(a=3){let b=Date.now()*Math.pow(10,a);return b+Math.floor(Math.random()*Math.pow(10,a))}function cZ(a=6){return BigInt(cY(a))}function c$(a,b,c){return{id:c||cY(),jsonrpc:"2.0",method:a,params:b}}function c_(a,b){return{id:a,jsonrpc:"2.0",result:b}}function c0(a,b,c){return{id:a,jsonrpc:"2.0",error:c1(b,c)}}function c1(a,b){var c;return void 0===a?cX(cS):("string"==typeof a&&(a=Object.assign(Object.assign({},cX(cT)),{message:a})),void 0!==b&&(a.data=b),c=a.code,cU.includes(c)&&(a=function a(b){let c=Object.values(cV).find(a=>a.code===b);return c||cV[cW]}(a.code)),a)}class c2{}class c3 extends c2{constructor(){super()}}class c4 extends c3{constructor(a){super()}}function c5(a){return"object"==typeof a&&"id"in a&&"jsonrpc"in a&&"2.0"===a.jsonrpc}function c6(a){return c5(a)&&"method"in a}function c7(a){return c5(a)&&(c8(a)||c9(a))}function c8(a){return"result"in a}function c9(a){return"error"in a}let da=a=>JSON.stringify(a,(a,b)=>"bigint"==typeof b?b.toString()+"n":b),db=a=>{let b=a.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(b,(a,b)=>{let c="string"==typeof b&&b.match(/^\d+n$/);return c?BigInt(b.substring(0,b.length-1)):b})};var dc=c(94135);let dd=()=>"undefined"!=typeof window,de=void 0!==c.g&& void 0!==c.g.WebSocket?c.g.WebSocket:"undefined"!=typeof window&& void 0!==window.WebSocket?window.WebSocket:c(57026);var df=class{constructor(a){if(this.url=a,this.events=new r.EventEmitter,this.registering=!1,!(0,dc.isWsUrl)(a))throw Error(`Provided URL is not compatible with WebSocket connection: ${a}`);this.url=a}get connected(){return void 0!==this.socket}get connecting(){return this.registering}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async open(a=this.url){await this.register(a)}async close(){return new Promise((a,b)=>{if(void 0===this.socket){b(Error("Connection already closed"));return}this.socket.onclose=b=>{this.onClose(b),a()},this.socket.close()})}async send(a,b){void 0===this.socket&&(this.socket=await this.register());try{var c;this.socket.send((c=a,"string"==typeof c?c:da(c)||""))}catch(d){this.onError(a.id,d)}}register(a=this.url){if(!(0,dc.isWsUrl)(a))throw Error(`Provided URL is not compatible with WebSocket connection: ${a}`);if(this.registering){let b=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=b||this.events.listenerCount("open")>=b)&&this.events.setMaxListeners(b+1),new Promise((a,b)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),b(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.socket)return b(Error("WebSocket connection is missing or invalid"));a(this.socket)})})}return this.url=a,this.registering=!0,new Promise((b,c)=>{let d=(0,dc.isReactNative)()?void 0:{rejectUnauthorized:!(0,dc.isLocalhostUrl)(a)},e=new de(a,[],d);dd()?e.onerror=a=>{let b=a;c(this.emitError(b.error))}:e.on("error",a=>{c(this.emitError(a))}),e.onopen=()=>{this.onOpen(e),b(e)}})}onOpen(a){a.onmessage=a=>this.onPayload(a),a.onclose=a=>this.onClose(a),this.socket=a,this.registering=!1,this.events.emit("open")}onClose(a){this.socket=void 0,this.registering=!1,this.events.emit("close",a)}onPayload(a){if(void 0===a.data)return;let b="string"==typeof a.data?function(a){if("string"!=typeof a)throw Error(`Cannot safe json parse value of type ${typeof a}`);try{return db(a)}catch(b){return a}}(a.data):a.data;this.events.emit("payload",b)}onError(a,b){let c=this.parseError(b),d=c.message||c.toString(),e=(0,dc.formatJsonRpcError)(a,d);this.events.emit("payload",e)}parseError(a,b=this.url){return(0,dc.parseConnectionError)(a,b,"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(a){let b=this.parseError(Error((null==a?void 0:a.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",b),b}},dg=c(72307),dh=c.n(dg),di=c(83454),dj=function(a,b){if(a.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),d=0;d<c.length;d++)c[d]=255;for(var e=0;e<a.length;e++){var f=a.charAt(e),g=f.charCodeAt(0);if(255!==c[g])throw TypeError(f+" is ambiguous");c[g]=e}var h=a.length,i=a.charAt(0),j=Math.log(h)/Math.log(256),k=Math.log(256)/Math.log(h);function l(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;var b=0;if(" "!==a[b]){for(var d=0,e=0;a[b]===i;)d++,b++;for(var f=(a.length-b)*j+1>>>0,g=new Uint8Array(f);a[b];){var k=c[a.charCodeAt(b)];if(255===k)return;for(var l=0,m=f-1;(0!==k||l<e)&& -1!==m;m--,l++)k+=h*g[m]>>>0,g[m]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");e=l,b++}if(" "!==a[b]){for(var n=f-e;n!==f&&0===g[n];)n++;for(var o=new Uint8Array(d+(f-n)),p=d;n!==f;)o[p++]=g[n++];return o}}}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var g=(f-e)*k+1>>>0,j=new Uint8Array(g);e!==f;){for(var l=b[e],m=0,n=g-1;(0!==l||m<d)&& -1!==n;n--,m++)l+=256*j[n]>>>0,j[n]=l%h>>>0,l=l/h>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var o=g-d;o!==g&&0===j[o];)o++;for(var p=i.repeat(c);o<g;++o)p+=a.charAt(j[o]);return p},decodeUnsafe:l,decode:function(a){var c=l(a);if(c)return c;throw Error(`Non-${b} character`)}}};let dk=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Unknown type, must be binary type")},dl=a=>new TextEncoder().encode(a),dm=a=>new TextDecoder().decode(a);class dn{constructor(a){this.decoders=a}or(a){return dp(this,a)}decode(a){let b=a[0],c=this.decoders[b];if(c)return c.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let dp=(a,b)=>new dn({...a.decoders||{[a.prefix]:a},...b.decoders||{[b.prefix]:b}});class dq{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new class{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}(a,b,c),this.decoder=new class{constructor(a,b,c){if(this.name=a,this.prefix=b,void 0===b.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=b.codePointAt(0),this.baseDecode=c}decode(a){if("string"==typeof a){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(a){return dp(this,a)}}(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}let dr=({name:a,prefix:b,encode:c,decode:d})=>new dq(a,b,c,d),ds=({prefix:a,name:b,alphabet:c})=>{let{encode:d,decode:e}=dj(c,b);return dr({prefix:a,name:b,encode:d,decode:a=>dk(e(a))})},dt=(a,b,c,d)=>{let e={};for(let f=0;f<b.length;++f)e[b[f]]=f;let g=a.length;for(;"="===a[g-1];)--g;let h=new Uint8Array(g*c/8|0),i=0,j=0,k=0;for(let l=0;l<g;++l){let m=e[a[l]];if(void 0===m)throw SyntaxError(`Non-${d} character`);j=j<<c|m,i+=c,i>=8&&(i-=8,h[k++]=255&j>>i)}if(i>=c||255&j<<8-i)throw SyntaxError("Unexpected end of data");return h},du=(a,b,c)=>{let d="="===b[b.length-1],e=(1<<c)-1,f="",g=0,h=0;for(let i=0;i<a.length;++i)for(h=h<<8|a[i],g+=8;g>c;)g-=c,f+=b[e&h>>g];if(g&&(f+=b[e&h<<c-g]),d)for(;f.length*c&7;)f+="=";return f},dv=({name:a,prefix:b,bitsPerChar:c,alphabet:d})=>dr({prefix:b,name:a,encode(a){return du(a,d,c)},decode(b){return dt(b,d,c,a)}}),dw=dr({prefix:"\0",name:"identity",encode:a=>dm(a),decode:a=>dl(a)});var dx=Object.freeze({__proto__:null,identity:dw});let dy=dv({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var dz=Object.freeze({__proto__:null,base2:dy});let dA=dv({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var dB=Object.freeze({__proto__:null,base8:dA});let dC=ds({prefix:"9",name:"base10",alphabet:"0123456789"});var dD=Object.freeze({__proto__:null,base10:dC});let dE=dv({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dF=dv({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var dG=Object.freeze({__proto__:null,base16:dE,base16upper:dF});let dH=dv({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dI=dv({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),dJ=dv({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dK=dv({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dL=dv({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dM=dv({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dN=dv({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dO=dv({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dP=dv({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var dQ=Object.freeze({__proto__:null,base32:dH,base32upper:dI,base32pad:dJ,base32padupper:dK,base32hex:dL,base32hexupper:dM,base32hexpad:dN,base32hexpadupper:dO,base32z:dP});let dR=ds({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dS=ds({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var dT=Object.freeze({__proto__:null,base36:dR,base36upper:dS});let dU=ds({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dV=ds({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var dW=Object.freeze({__proto__:null,base58btc:dU,base58flickr:dV});let dX=dv({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dY=dv({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dZ=dv({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),d$=dv({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var d_=Object.freeze({__proto__:null,base64:dX,base64pad:dY,base64url:dZ,base64urlpad:d$});let d0=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),d1=d0.reduce((a,b,c)=>(a[c]=b,a),[]),d2=d0.reduce((a,b,c)=>(a[b.codePointAt(0)]=c,a),[]),d3=dr({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(a){return a.reduce((a,b)=>a+=d1[b],"")},decode:function(a){let b=[];for(let c of a){let d=d2[c.codePointAt(0)];if(void 0===d)throw Error(`Non-base256emoji character: ${c}`);b.push(d)}return new Uint8Array(b)}});var d4=Object.freeze({__proto__:null,base256emoji:d3});function d5(a,b,c){b=b||[],c=c||0;for(var d=c;a>=2147483648;)b[c++]=255&a|128,a/=128;for(;-128&a;)b[c++]=255&a|128,a>>>=7;return b[c]=0|a,d5.bytes=c-d+1,b}function d6(a,b){var c,d=0,b=b||0,e=0,f=b,g=a.length;do{if(f>=g)throw d6.bytes=0,RangeError("Could not decode varint");c=a[f++],d+=e<28?(127&c)<<e:(127&c)*Math.pow(2,e),e+=7}while(c>=128);return d6.bytes=f-b,d}var d7={encode:d5,decode:d6,encodingLength:function(a){return a<128?1:a<16384?2:a<2097152?3:a<268435456?4:a<34359738368?5:a<4398046511104?6:a<562949953421312?7:a<72057594037927940?8:a<0x7fffffffffffffff?9:10}};let d8=(a,b,c=0)=>(d7.encode(a,b,c),b),d9=a=>d7.encodingLength(a),ea=(a,b)=>{let c=b.byteLength,d=d9(a),e=d+d9(c),f=new Uint8Array(e+c);return d8(a,f,0),d8(c,f,d),f.set(b,e),new eb(a,c,b,f)};class eb{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}let ec=({name:a,code:b,encode:c})=>new ed(a,b,c);class ed{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}digest(a){if(a instanceof Uint8Array){let b=this.encode(a);return b instanceof Uint8Array?ea(this.code,b):b.then(a=>ea(this.code,a))}throw Error("Unknown type, must be binary type")}}let ee=a=>async b=>new Uint8Array(await crypto.subtle.digest(a,b)),ef=ec({name:"sha2-256",code:18,encode:ee("SHA-256")}),eg=ec({name:"sha2-512",code:19,encode:ee("SHA-512")});Object.freeze({__proto__:null,sha256:ef,sha512:eg});let eh=dk,ei=a=>ea(0,eh(a));Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:eh,digest:ei}}),new TextEncoder,new TextDecoder;let ej={...dx,...dz,...dB,...dD,...dG,...dQ,...dT,...dW,...d_,...d4};function ek(a){return null!=globalThis.Buffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function el(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}let em=el("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),en=el("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{a=a.substring(1);let b=function(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?ek(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),eo={utf8:em,"utf-8":em,hex:ej.base16,latin1:en,ascii:en,binary:en,...ej},ep="core",eq=`wc@2:${ep}:`,er="client_ed25519_seed",es=a6.ONE_DAY,et=a6.SIX_HOURS,eu="wss://relay.walletconnect.com",ev={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},ew={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ex=a6.ONE_SECOND/2,ey={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},ez=1e3*a6.FIVE_SECONDS,eA={wc_pairingDelete:{req:{ttl:a6.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:a6.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:a6.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:a6.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:a6.ONE_DAY,prompt:!1,tag:0},res:{ttl:a6.ONE_DAY,prompt:!1,tag:0}}},eB={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},eC={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},eD="verify-api",eE="https://verify.walletconnect.com";var eF=Object.defineProperty,eG=Object.defineProperties,eH=Object.getOwnPropertyDescriptors,eI=Object.getOwnPropertySymbols,eJ=Object.prototype.hasOwnProperty,eK=Object.prototype.propertyIsEnumerable,eL=(a,b,c)=>b in a?eF(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,eM=(a,b)=>{for(var c in b||(b={}))eJ.call(b,c)&&eL(a,c,b[c]);if(eI)for(var c of eI(b))eK.call(b,c)&&eL(a,c,b[c]);return a},eN=(a,b)=>eG(a,eH(b)),eO=Object.defineProperty,eP=Object.getOwnPropertySymbols,eQ=Object.prototype.hasOwnProperty,eR=Object.prototype.propertyIsEnumerable,eS=(a,b,c)=>b in a?eO(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,eT=(a,b)=>{for(var c in b||(b={}))eQ.call(b,c)&&eS(a,c,b[c]);if(eP)for(var c of eP(b))eR.call(b,c)&&eS(a,c,b[c]);return a},eU=Object.defineProperty,eV=Object.getOwnPropertySymbols,eW=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,eY=(a,b,c)=>b in a?eU(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,eZ=(a,b)=>{for(var c in b||(b={}))eW.call(b,c)&&eY(a,c,b[c]);if(eV)for(var c of eV(b))eX.call(b,c)&&eY(a,c,b[c]);return a};class e$ extends cx{constructor(a,b,c,d=eq,e){super(a,b,c,d),this.core=a,this.logger=b,this.name=c,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=eq,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{var b,c,d;this.getKey&&null!==a&&!ca(a)?this.map.set(this.getKey(a),a):(null==(c=(b=a)?.proposer)?void 0:c.publicKey)?this.map.set(a.id,a):(d=a)?.topic&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,b)=>{this.isInitialized(),this.map.has(a)?await this.update(a,b):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:b}),this.map.set(a,b),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(b=>Object.keys(a).every(c=>dh()(b[c],a[c]))):this.values),this.update=async(a,b)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:b});let c=eZ(eZ({},this.getData(a)),b);this.map.set(a,c),await this.persist()},this.delete=async(a,b)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:b}),this.map.delete(a),await this.persist())},this.logger=(0,cq.generateChildLogger)(b,this.name),this.storagePrefix=d,this.getKey=e}get context(){return(0,cq.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(a){await this.core.storage.setItem(this.storageKey,a)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(a){let b=this.map.get(a);if(!b){let{message:c}=b6("NO_MATCHING_KEY",`${this.name}: ${a}`);throw this.logger.error(c),Error(c)}return b}async persist(){await this.setDataStore(this.values)}async restore(){try{let a=await this.getDataStore();if(typeof a>"u"||!a.length)return;if(this.map.size){let{message:b}=b6("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(b),Error(b)}this.cached=a,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(c){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(c)}}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}}var e_=Object.defineProperty,e0=Object.getOwnPropertySymbols,e1=Object.prototype.hasOwnProperty,e2=Object.prototype.propertyIsEnumerable,e3=(a,b,c)=>b in a?e_(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,e4=(a,b)=>{for(var c in b||(b={}))e1.call(b,c)&&e3(a,c,b[c]);if(e0)for(var c of e0(b))e2.call(b,c)&&e3(a,c,b[c]);return a};class e5 extends cs{constructor(a){super(a),this.protocol="wc",this.version=2,this.name=ep,this.events=new r.EventEmitter,this.initialized=!1,this.on=(a,b)=>this.events.on(a,b),this.once=(a,b)=>this.events.once(a,b),this.off=(a,b)=>this.events.off(a,b),this.removeListener=(a,b)=>this.events.removeListener(a,b),this.projectId=a?.projectId,this.relayUrl=a?.relayUrl||eu;let b="u">typeof a?.logger&&"string"!=typeof a?.logger?a.logger:(0,cq.pino)((0,cq.getDefaultLoggerOptions)({level:a?.logger||"error"}));this.logger=(0,cq.generateChildLogger)(b,this.name),this.heartbeat=new cp.HeartBeat,this.crypto=new class{constructor(a,b,c){this.core=a,this.logger=b,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=a=>(this.isInitialized(),this.keychain.has(a)),this.getClientId=async()=>{this.isInitialized();let a=await this.getClientSeed(),b=cL(a);return cK(b.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let a=function(){let a=x.Au();return{privateKey:a4(a.secretKey,bg),publicKey:a4(a.publicKey,bg)}}();return this.setPrivateKey(a.publicKey,a.privateKey)},this.signJWT=async a=>{this.isInitialized();let b=await this.getClientSeed(),c=cL(b),d=bj();return await cM(d,a,es,c)},this.generateSharedKey=(a,b,c)=>{this.isInitialized();let d=this.getPrivateKey(a),e=function(a,b){let c=x.gi(a3(a,bg),a3(b,bg)),d=new u.t(w.mE,c).expand(32);return a4(d,bg)}(d,b);return this.setSymKey(e,c)},this.setSymKey=async(a,b)=>{this.isInitialized();let c=b||function(a){let b=(0,w.vp)(a3(a,bg));return a4(b,bg)}(a);return await this.keychain.set(c,a),c},this.deleteKeyPair=async a=>{this.isInitialized(),await this.keychain.del(a)},this.deleteSymKey=async a=>{this.isInitialized(),await this.keychain.del(a)},this.encode=async(a,b,c)=>{var d;this.isInitialized();let e=bn(c),f="string"==typeof(d=b)?d:cD(d)||"";if(bo(e)){let g=e.senderPublicKey,h=e.receiverPublicKey;a=await this.generateSharedKey(g,h)}let i=this.getSymKey(a),{type:j,senderPublicKey:k}=e;return function(a){var b;let c=a3(`${b="u">typeof a.type?a.type:0}`,bf);if(1===bl(c)&& typeof a.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let d="u">typeof a.senderPublicKey?a3(a.senderPublicKey,bg):void 0,e="u">typeof a.iv?a3(a.iv,bg):(0,v.randomBytes)(12),f=new t.OK(a3(a.symKey,bg)).seal(e,a3(a.message,bi));return function a(b){if(1===bl(b.type)){if(typeof b.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return a4(A([b.type,b.senderPublicKey,b.iv,b.sealed]),bh)}return a4(A([b.type,b.iv,b.sealed]),bh)}({type:c,sealed:f,iv:e,senderPublicKey:d})}({type:j,symKey:i,message:f,senderPublicKey:k})},this.decode=async(a,b,c)=>{this.isInitialized();let d=function(a,b){let c=bm(a);return bn({type:bl(c.type),senderPublicKey:"u">typeof c.senderPublicKey?a4(c.senderPublicKey,bg):void 0,receiverPublicKey:b?.receiverPublicKey})}(b,c);if(bo(d)){let e=d.receiverPublicKey,f=d.senderPublicKey;a=await this.generateSharedKey(e,f)}let g=this.getSymKey(a),h=function(a){let b=new t.OK(a3(a.symKey,bg)),{sealed:c,iv:d}=bm(a.encoded),e=b.open(d,c);if(null===e)throw Error("Failed to decrypt");return a4(e,bi)}({symKey:g,encoded:b});return function(a){if("string"!=typeof a)throw Error(`Cannot safe json parse value of type ${typeof a}`);try{return cE(a)}catch(b){return a}}(h)},this.getPayloadType=a=>{let b=bm(a);return bl(b.type)},this.getPayloadSenderPublicKey=a=>{let b=bm(a);return b.senderPublicKey?a4(b.senderPublicKey,bg):void 0},this.core=a,this.logger=(0,cq.generateChildLogger)(b,this.name),this.keychain=c||new class{constructor(a,b){this.core=a,this.logger=b,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=eq,this.init=async()=>{if(!this.initialized){let a=await this.getKeyChain();"u">typeof a&&(this.keychain=a),this.initialized=!0}},this.has=a=>(this.isInitialized(),this.keychain.has(a)),this.set=async(a,b)=>{this.isInitialized(),this.keychain.set(a,b),await this.persist()},this.get=a=>{this.isInitialized();let b=this.keychain.get(a);if(typeof b>"u"){let{message:c}=b6("NO_MATCHING_KEY",`${this.name}: ${a}`);throw Error(c)}return b},this.del=async a=>{this.isInitialized(),this.keychain.delete(a),await this.persist()},this.core=a,this.logger=(0,cq.generateChildLogger)(b,this.name)}get context(){return(0,cq.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(a){await this.core.storage.setItem(this.storageKey,bB(a))}async getKeyChain(){let a=await this.core.storage.getItem(this.storageKey);return"u">typeof a?bC(a):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}}(this.core,this.logger)}get context(){return(0,cq.getLoggerContext)(this.logger)}async setPrivateKey(a,b){return await this.keychain.set(a,b),a}getPrivateKey(a){return this.keychain.get(a)}async getClientSeed(){let a="";try{a=this.keychain.get(er)}catch{await this.keychain.set(er,a=bj())}return function(a,b="utf8"){let c=eo[b];if(!c)throw Error(`Unsupported encoding "${b}"`);return("utf8"===b||"utf-8"===b)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?ek(globalThis.Buffer.from(a,"utf-8")):c.decoder.decode(`${c.prefix}${a}`)}(a,"base16")}getSymKey(a){return this.keychain.get(a)}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}}(this,this.logger,a?.keychain),this.history=new class extends ct{constructor(a,b){super(a,b),this.core=a,this.logger=b,this.records=new Map,this.events=new r.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=eq,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>this.records.set(a.id,a)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(a,b,c)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:a,request:b,chainId:c}),this.records.has(b.id))return;let d={id:b.id,topic:a,request:{method:b.method,params:b.params||null},chainId:c};this.records.set(d.id,d),this.events.emit(eB.created,d)},this.resolve=async a=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:a}),!this.records.has(a.id))return;let b=await this.getRecord(a.id);typeof b.response>"u"&&(b.response=c9(a)?{error:a.error}:{result:a.result},this.records.set(b.id,b),this.events.emit(eB.updated,b))},this.get=async(a,b)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:a,id:b}),await this.getRecord(b)),this.delete=(a,b)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:b}),this.values.forEach(c=>{c.topic!==a||"u">typeof b&&c.id!==b||(this.records.delete(c.id),this.events.emit(eB.deleted,c))})},this.exists=async(a,b)=>(this.isInitialized(),!!this.records.has(b)&&(await this.getRecord(b)).topic===a),this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.logger=(0,cq.generateChildLogger)(b,this.name)}get context(){return(0,cq.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let a=[];return this.values.forEach(b=>{if("u">typeof b.response)return;let c={topic:b.topic,request:c$(b.request.method,b.request.params,b.id),chainId:b.chainId};return a.push(c)}),a}async setJsonRpcRecords(a){await this.core.storage.setItem(this.storageKey,a)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(a){this.isInitialized();let b=this.records.get(a);if(!b){let{message:c}=b6("NO_MATCHING_KEY",`${this.name}: ${a}`);throw Error(c)}return b}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(eB.sync)}async restore(){try{let a=await this.getJsonRpcRecords();if(typeof a>"u"||!a.length)return;if(this.records.size){let{message:b}=b6("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(b),Error(b)}this.cached=a,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(c){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(c)}}registerEventListeners(){this.events.on(eB.created,a=>{let b=eB.created;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,record:a}),this.persist()}),this.events.on(eB.updated,a=>{let b=eB.updated;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,record:a}),this.persist()}),this.events.on(eB.deleted,a=>{let b=eB.deleted;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,record:a}),this.persist()})}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}}(this,this.logger),this.expirer=new class extends cz{constructor(a,b){super(a,b),this.core=a,this.logger=b,this.expirations=new Map,this.events=new r.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=eq,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>this.expirations.set(a.target,a)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=a=>{try{let b=this.formatTarget(a);return"u">typeof this.getExpiration(b)}catch{return!1}},this.set=(a,b)=>{this.isInitialized();let c=this.formatTarget(a),d={target:c,expiry:b};this.expirations.set(c,d),this.checkExpiry(c,d),this.events.emit(eC.created,{target:c,expiration:d})},this.get=a=>{this.isInitialized();let b=this.formatTarget(a);return this.getExpiration(b)},this.del=a=>{if(this.isInitialized(),this.has(a)){let b=this.formatTarget(a),c=this.getExpiration(b);this.expirations.delete(b),this.events.emit(eC.deleted,{target:b,expiration:c})}},this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.logger=(0,cq.generateChildLogger)(b,this.name)}get context(){return(0,cq.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(a){var b,c;if("string"==typeof a)return bF("topic",b=a);if("number"==typeof a)return bF("id",c=a);let{message:d}=b6("UNKNOWN_TYPE",`Target type: ${typeof a}`);throw Error(d)}async setExpirations(a){await this.core.storage.setItem(this.storageKey,a)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(eC.sync)}async restore(){try{let a=await this.getExpirations();if(typeof a>"u"||!a.length)return;if(this.expirations.size){let{message:b}=b6("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(b),Error(b)}this.cached=a,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(c){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(c)}}getExpiration(a){let b=this.expirations.get(a);if(!b){let{message:c}=b6("NO_MATCHING_KEY",`${this.name}: ${a}`);throw this.logger.error(c),Error(c)}return b}checkExpiry(a,b){let{expiry:c}=b;(0,a6.toMiliseconds)(c)-Date.now()<=0&&this.expire(a,b)}expire(a,b){this.expirations.delete(a),this.events.emit(eC.expired,{target:a,expiration:b})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((a,b)=>this.checkExpiry(b,a))}registerEventListeners(){this.core.heartbeat.on(cp.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(eC.created,a=>{let b=eC.created;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),this.persist()}),this.events.on(eC.expired,a=>{let b=eC.expired;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),this.persist()}),this.events.on(eC.deleted,a=>{let b=eC.deleted;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),this.persist()})}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}}(this,this.logger),this.storage=null!=a&&a.storage?a.storage:new co.ZP(e4(e4({},{database:":memory:"}),a?.storageOptions)),this.relayer=new class extends cw{constructor(a){super(a),this.protocol="wc",this.version=2,this.events=new r.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async a=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(a)}catch(b){throw this.logger.debug("Failed to Publish Request"),this.logger.error(b),b}},this.core=a.core,this.logger="u">typeof a.logger&&"string"!=typeof a.logger?(0,cq.generateChildLogger)(a.logger,this.name):(0,cq.pino)((0,cq.getDefaultLoggerOptions)({level:a.logger||"error"})),this.messages=new class extends cu{constructor(a,b){super(a,b),this.logger=a,this.core=b,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=eq,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let a=await this.getRelayerMessages();"u">typeof a&&(this.messages=a),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(b){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(b)}finally{this.initialized=!0}}},this.set=async(a,b)=>{this.isInitialized();let c=bk(b),d=this.messages.get(a);return typeof d>"u"&&(d={}),"u">typeof d[c]||(d[c]=b,this.messages.set(a,d),await this.persist()),c},this.get=a=>{this.isInitialized();let b=this.messages.get(a);return typeof b>"u"&&(b={}),b},this.has=(a,b)=>{this.isInitialized();let c=this.get(a),d=bk(b);return"u">typeof c[d]},this.del=async a=>{this.isInitialized(),this.messages.delete(a),await this.persist()},this.logger=(0,cq.generateChildLogger)(a,this.name),this.core=b}get context(){return(0,cq.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(a){await this.core.storage.setItem(this.storageKey,bB(a))}async getRelayerMessages(){let a=await this.core.storage.getItem(this.storageKey);return"u">typeof a?bC(a):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}}(this.logger,a.core),this.subscriber=new class extends cy{constructor(a,b){super(a,b),this.relayer=a,this.logger=b,this.subscriptions=new Map,this.topicMap=new class{constructor(){this.map=new Map,this.set=(a,b)=>{let c=this.get(a);this.exists(a,b)||this.map.set(a,[...c,b])},this.get=a=>this.map.get(a)||[],this.exists=(a,b)=>this.get(a).includes(b),this.delete=(a,b)=>{if(typeof b>"u"){this.map.delete(a);return}if(!this.map.has(a))return;let c=this.get(a);if(!this.exists(a,b))return;let d=c.filter(a=>a!==b);if(!d.length){this.map.delete(a);return}this.map.set(a,d)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},this.events=new r.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=eq,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(a,b)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:b}});try{let c=bM(b),d={topic:a,relay:c};this.pending.set(a,d);let e=await this.rpcSubscribe(a,c);return this.onSubscribe(e,d),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:a,opts:b}}),e}catch(f){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(f),f}},this.unsubscribe=async(a,b)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof b?.id?await this.unsubscribeById(a,b.id,b):await this.unsubscribeByTopic(a,b)},this.isSubscribed=async a=>!!this.topics.includes(a)||await new Promise((b,c)=>{let d=new a6.Watch;d.start(this.pendingSubscriptionWatchLabel);let e=setInterval(()=>{!this.pending.has(a)&&this.topics.includes(a)&&(clearInterval(e),d.stop(this.pendingSubscriptionWatchLabel),b(!0)),d.elapsed(this.pendingSubscriptionWatchLabel)>=ez&&(clearInterval(e),d.stop(this.pendingSubscriptionWatchLabel),c(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=a,this.logger=(0,cq.generateChildLogger)(b,this.name),this.clientId=""}get context(){return(0,cq.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(a,b){let c=!1;try{c=this.getSubscription(a).topic===b}catch{}return c}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(a,b){let c=this.topicMap.get(a);await Promise.all(c.map(async c=>await this.unsubscribeById(a,c,b)))}async unsubscribeById(a,b,c){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:a,id:b,opts:c}});try{let d=bM(c);await this.rpcUnsubscribe(a,b,d);let e=b7("USER_DISCONNECTED",`${this.name}, ${a}`);await this.onUnsubscribe(a,b,e),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:a,id:b,opts:c}})}catch(f){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(f),f}}async rpcSubscribe(a,b){let c={method:bN(b.protocol).subscribe,params:{topic:a}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});try{await await bE(this.relayer.request(c),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ev.connection_stalled)}return bk(a+this.clientId)}async rpcBatchSubscribe(a){if(!a.length)return;let b=a[0].relay,c={method:bN(b.protocol).batchSubscribe,params:{topics:a.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});try{return await await bE(this.relayer.request(c),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(ev.connection_stalled)}}rpcUnsubscribe(a,b,c){let d={method:bN(c.protocol).unsubscribe,params:{topic:a,id:b}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:d}),this.relayer.request(d)}onSubscribe(a,b){this.setSubscription(a,eN(eM({},b),{id:a})),this.pending.delete(b.topic)}onBatchSubscribe(a){a.length&&a.forEach(a=>{this.setSubscription(a.id,eM({},a)),this.pending.delete(a.topic)})}async onUnsubscribe(a,b,c){this.events.removeAllListeners(b),this.hasSubscription(b,a)&&this.deleteSubscription(b,c),await this.relayer.messages.del(a)}async setRelayerSubscriptions(a){await this.relayer.core.storage.setItem(this.storageKey,a)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(a,b){this.subscriptions.has(a)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:a,subscription:b}),this.addSubscription(a,b))}addSubscription(a,b){this.subscriptions.set(a,eM({},b)),this.topicMap.set(b.topic,a),this.events.emit(ey.created,b)}getSubscription(a){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:a});let b=this.subscriptions.get(a);if(!b){let{message:c}=b6("NO_MATCHING_KEY",`${this.name}: ${a}`);throw Error(c)}return b}deleteSubscription(a,b){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:a,reason:b});let c=this.getSubscription(a);this.subscriptions.delete(a),this.topicMap.delete(c.topic,a),this.events.emit(ey.deleted,eN(eM({},c),{reason:b}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ey.sync)}async reset(){if(this.cached.length){let a=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let b=0;b<a;b++){let c=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(c)}}this.events.emit(ey.resubscribed)}async restore(){try{let a=await this.getRelayerSubscriptions();if(typeof a>"u"||!a.length)return;if(this.subscriptions.size){let{message:b}=b6("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(b),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(b)}this.cached=a,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(c){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(c)}}async batchSubscribe(a){if(!a.length)return;let b=await this.rpcBatchSubscribe(a);b8(b)&&this.onBatchSubscribe(b.map((b,c)=>eN(eM({},a[c]),{id:b})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;let a=[];this.pending.forEach(b=>{a.push(b)}),await this.batchSubscribe(a)}registerEventListeners(){this.relayer.core.heartbeat.on(cp.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(ev.connect,async()=>{await this.onConnect()}),this.relayer.on(ev.disconnect,()=>{this.onDisconnect()}),this.events.on(ey.created,async a=>{let b=ey.created;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),await this.persist()}),this.events.on(ey.deleted,async a=>{let b=ey.deleted;this.logger.info(`Emitting ${b}`),this.logger.debug({type:"event",event:b,data:a}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}async restartToComplete(){this.restartInProgress&&await new Promise(a=>{let b=setInterval(()=>{this.restartInProgress||(clearInterval(b),a())},this.pollingInterval)})}}(this,this.logger),this.publisher=new class extends cv{constructor(a,b){super(a,b),this.relayer=a,this.logger=b,this.events=new r.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=1e4,this.publish=async(a,b,c)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:a,message:b,opts:c}});try{let d=c?.ttl||et,e=bM(c),f=c?.prompt||!1,g=c?.tag||0,h=c?.id||cZ().toString(),i={topic:a,message:b,opts:{ttl:d,relay:e,prompt:f,tag:g,id:h}};this.queue.set(h,i);try{await await bE(this.rpcPublish(a,b,d,e,f,g,h),this.publishTimeout),this.relayer.events.emit(ev.publish,i)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(ev.connection_stalled);return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:a,message:b,opts:c}})}catch(j){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(j),j}},this.on=(a,b)=>{this.events.on(a,b)},this.once=(a,b)=>{this.events.once(a,b)},this.off=(a,b)=>{this.events.off(a,b)},this.removeListener=(a,b)=>{this.events.removeListener(a,b)},this.relayer=a,this.logger=(0,cq.generateChildLogger)(b,this.name),this.registerEventListeners()}get context(){return(0,cq.getLoggerContext)(this.logger)}rpcPublish(a,b,c,d,e,f,g){var h,i,j,k;let l={method:bN(d.protocol).publish,params:{topic:a,message:b,ttl:c,prompt:e,tag:f},id:g};return ca(null==(h=l.params)?void 0:h.prompt)&&(null==(i=l.params)||delete i.prompt),ca(null==(j=l.params)?void 0:j.tag)&&(null==(k=l.params)||delete k.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:l}),this.relayer.request(l)}onPublish(a){this.queue.delete(a)}checkQueue(){this.queue.forEach(async a=>{let{topic:b,message:c,opts:d}=a;await this.publish(b,c,d)})}registerEventListeners(){this.relayer.core.heartbeat.on(cp.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()}),this.relayer.on(ev.message_ack,a=>{this.onPublish(a.id.toString())})}}(this,this.logger),this.relayUrl=a?.relayUrl||eu,this.projectId=a.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},1e4)}get context(){return(0,cq.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(a,b,c){this.isInitialized(),await this.publisher.publish(a,b,c),await this.recordMessageEvent({topic:a,message:b,publishedAt:Date.now()})}async subscribe(a,b){var c;this.isInitialized();let d=(null==(c=this.subscriber.topicMap.get(a))?void 0:c[0])||"";return d||(await Promise.all([new Promise(b=>{this.subscriber.once(ey.created,c=>{c.topic===a&&b()})}),new Promise(async c=>{d=await this.subscriber.subscribe(a,b),c()})]),d)}async unsubscribe(a,b){this.isInitialized(),await this.subscriber.unsubscribe(a,b)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(ev.transport_closed))}async transportOpen(a){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=a||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(a=>{this.initialized||a(),this.subscriber.once(ey.resubscribed,()=>{a()})}),await Promise.race([new Promise(async(a,b)=>{await bE(this.provider.connect(),5e3,"socket stalled").catch(a=>b(a)).then(()=>a()).finally(()=>this.removeListener(ev.transport_closed,this.rejectTransportOpen))}),new Promise(a=>this.once(ev.transport_closed,this.rejectTransportOpen))])])}catch(b){this.logger.error(b);let c=b;if(!this.isConnectionStalled(c.message))throw b;this.events.emit(ev.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(a){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=a||this.relayUrl,this.connected&&await Promise.all([new Promise(a=>{this.provider.once(ew.disconnect,()=>{a()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(a){return this.staleConnectionErrors.some(b=>a.includes(b))}rejectTransportOpen(){throw Error("closeTransport called before connection was established")}async createProvider(){let a=await this.core.crypto.signJWT(this.relayUrl);this.provider=new cR(new df(function({protocol:a,version:b,relayUrl:c,sdkVersion:d,auth:e,projectId:f,useOnCloseEvent:g}){var h,i;let j,k=c.split("?"),l=function(a,b,c){let d=function(){let a=(0,a5.qY)();if(null===a)return"unknown";let b=a.os?a.os.replace(" ","").toLowerCase():"unknown";return"browser"===a.type?[b,a.name,a.version].join("-"):[b,a.version].join("-")}(),e=function(){var a;let b=bz();return b===bv.browser?[b,(null==(a=(0,a7.getLocation)())?void 0:a.host)||"unknown"].join(":"):b}();return[[a,b].join("-"),["js",c].join("-"),d,e].join("/")}(a,b,d),m=(h=k[1]||"",i={auth:e,ua:l,projectId:f,useOnCloseEvent:g||void 0},j=a9.parse(h),j=bu(bu({},j),i),h=a9.stringify(j));return k[0]+"?"+m}({sdkVersion:"2.8.1",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:a,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(a){let{topic:b,message:c}=a;await this.messages.set(b,c)}async shouldIgnoreMessageEvent(a){let{topic:b,message:c}=a;return!await this.subscriber.isSubscribed(b)||this.messages.has(b,c)}async onProviderPayload(a){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:a}),c6(a)){if(!a.method.endsWith("_subscription"))return;let b=a.params,{topic:c,message:d,publishedAt:e}=b.data,f={topic:c,message:d,publishedAt:e};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(eT({type:"event",event:b.id},f)),this.events.emit(b.id,f),await this.acknowledgePayload(a),await this.onMessageEvent(f)}else c7(a)&&this.events.emit(ev.message_ack,a)}async onMessageEvent(a){await this.shouldIgnoreMessageEvent(a)||(this.events.emit(ev.message,a),await this.recordMessageEvent(a))}async acknowledgePayload(a){let b=c_(a.id,!0);await this.provider.connection.send(b)}registerProviderListeners(){this.provider.on(ew.payload,a=>this.onProviderPayload(a)),this.provider.on(ew.connect,()=>{this.events.emit(ev.connect)}),this.provider.on(ew.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(ew.error,a=>{this.logger.error(a),this.events.emit(ev.error,a)})}registerEventListeners(){this.events.on(ev.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(ev.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},(0,a6.toMiliseconds)(ex))}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(a=>{let b=setInterval(()=>{this.connected&&(clearInterval(b),a())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new class{constructor(a,b){this.core=a,this.logger=b,this.name="pairing",this.version="0.3",this.events=new(s()),this.initialized=!1,this.storagePrefix=eq,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:a})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...a])]},this.create=async()=>{var a;this.isInitialized();let b=bj(),c=await this.core.crypto.setSymKey(b),d=bH(a6.FIVE_MINUTES),e={protocol:"irn"},f=(a={protocol:this.core.protocol,version:this.core.version,topic:c,symKey:b,relay:e},`${a.protocol}:${a.topic}@${a.version}?`+a9.stringify(bT({symKey:a.symKey},function(a,b="-"){let c={};return Object.keys(a).forEach(d=>{let e="relay"+b+d;a[d]&&(c[e]=a[d])}),c}(a.relay))));return await this.pairings.set(c,{topic:c,expiry:d,relay:e,active:!1}),await this.core.relayer.subscribe(c),this.core.expirer.set(c,d),{topic:c,uri:f}},this.pair=async a=>{this.isInitialized(),this.isValidPair(a);let{topic:b,symKey:c,relay:d}=function(a){var b;let c=a.indexOf(":"),d=-1!==a.indexOf("?")?a.indexOf("?"):void 0,e=a.substring(0,c),f=a.substring(c+1,d).split("@"),g="u">typeof d?a.substring(d):"",h=a9.parse(g);return{protocol:e,topic:(b=f[0],b.startsWith("//")?b.substring(2):b),version:parseInt(f[1],10),symKey:h.symKey,relay:function(a,b="-"){let c={},d="relay"+b;return Object.keys(a).forEach(b=>{if(b.startsWith(d)){let e=b.replace(d,""),f=a[b];c[e]=f}}),c}(h)}}(a.uri);if(this.pairings.keys.includes(b))throw Error(`Pairing already exists: ${b}`);if(this.core.crypto.hasKeys(b))throw Error(`Keychain already exists: ${b}`);let e=bH(a6.FIVE_MINUTES),f={topic:b,relay:d,expiry:e,active:!1};return await this.pairings.set(b,f),await this.core.crypto.setSymKey(c,b),await this.core.relayer.subscribe(b,{relay:d}),this.core.expirer.set(b,e),a.activatePairing&&await this.activate({topic:b}),f},this.activate=async({topic:a})=>{this.isInitialized();let b=bH(a6.THIRTY_DAYS);await this.pairings.update(a,{active:!0,expiry:b}),this.core.expirer.set(a,b)},this.ping=async a=>{this.isInitialized(),await this.isValidPing(a);let{topic:b}=a;if(this.pairings.keys.includes(b)){let c=await this.sendRequest(b,"wc_pairingPing",{}),{done:d,resolve:e,reject:f}=bD();this.events.once(bJ("pairing_ping",c),({error:a})=>{a?f(a):e()}),await d()}},this.updateExpiry=async({topic:a,expiry:b})=>{this.isInitialized(),await this.pairings.update(a,{expiry:b})},this.updateMetadata=async({topic:a,metadata:b})=>{this.isInitialized(),await this.pairings.update(a,{peerMetadata:b})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async a=>{this.isInitialized(),await this.isValidDisconnect(a);let{topic:b}=a;this.pairings.keys.includes(b)&&(await this.sendRequest(b,"wc_pairingDelete",b7("USER_DISCONNECTED")),await this.deletePairing(b))},this.sendRequest=async(a,b,c)=>{let d=c$(b,c),e=await this.core.crypto.encode(a,d),f=eA[b].req;return this.core.history.set(a,d),this.core.relayer.publish(a,e,f),d.id},this.sendResult=async(a,b,c)=>{let d=c_(a,c),e=await this.core.crypto.encode(b,d),f=await this.core.history.get(b,a),g=eA[f.request.method].res;await this.core.relayer.publish(b,e,g),await this.core.history.resolve(d)},this.sendError=async(a,b,c)=>{let d=c0(a,c),e=await this.core.crypto.encode(b,d),f=await this.core.history.get(b,a),g=eA[f.request.method]?eA[f.request.method].res:eA.unregistered_method.res;await this.core.relayer.publish(b,e,g),await this.core.history.resolve(d)},this.deletePairing=async(a,b)=>{await this.core.relayer.unsubscribe(a),await Promise.all([this.pairings.delete(a,b7("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(a),b?Promise.resolve():this.core.expirer.del(a)])},this.cleanup=async()=>{let a=this.pairings.getAll().filter(a=>bI(a.expiry));await Promise.all(a.map(a=>this.deletePairing(a.topic)))},this.onRelayEventRequest=a=>{let{topic:b,payload:c}=a,d=c.method;if(this.pairings.keys.includes(b))switch(d){case"wc_pairingPing":return this.onPairingPingRequest(b,c);case"wc_pairingDelete":return this.onPairingDeleteRequest(b,c);default:return this.onUnknownRpcMethodRequest(b,c)}},this.onRelayEventResponse=async a=>{let{topic:b,payload:c}=a,d=(await this.core.history.get(b,c.id)).request.method;if(this.pairings.keys.includes(b))return"wc_pairingPing"===d?this.onPairingPingResponse(b,c):this.onUnknownRpcMethodResponse(d)},this.onPairingPingRequest=async(a,b)=>{let{id:c}=b;try{this.isValidPing({topic:a}),await this.sendResult(c,a,!0),this.events.emit("pairing_ping",{id:c,topic:a})}catch(d){await this.sendError(c,a,d),this.logger.error(d)}},this.onPairingPingResponse=(a,b)=>{let{id:c}=b;setTimeout(()=>{c8(b)?this.events.emit(bJ("pairing_ping",c),{}):c9(b)&&this.events.emit(bJ("pairing_ping",c),{error:b.error})},500)},this.onPairingDeleteRequest=async(a,b)=>{let{id:c}=b;try{this.isValidDisconnect({topic:a}),await this.deletePairing(a),this.events.emit("pairing_delete",{id:c,topic:a})}catch(d){await this.sendError(c,a,d),this.logger.error(d)}},this.onUnknownRpcMethodRequest=async(a,b)=>{let{id:c,method:d}=b;try{if(this.registeredMethods.includes(d))return;let e=b7("WC_METHOD_UNSUPPORTED",d);await this.sendError(c,a,e),this.logger.error(e)}catch(f){await this.sendError(c,a,f),this.logger.error(f)}},this.onUnknownRpcMethodResponse=a=>{this.registeredMethods.includes(a)||this.logger.error(b7("WC_METHOD_UNSUPPORTED",a))},this.isValidPair=a=>{if(!ci(a)){let{message:b}=b6("MISSING_OR_INVALID",`pair() params: ${a}`);throw Error(b)}if(!function(a){if(cb(a,!1))try{return"u">typeof new URL(a)}catch{}return!1}(a.uri)){let{message:c}=b6("MISSING_OR_INVALID",`pair() uri: ${a.uri}`);throw Error(c)}},this.isValidPing=async a=>{if(!ci(a)){let{message:b}=b6("MISSING_OR_INVALID",`ping() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidPairingTopic(c)},this.isValidDisconnect=async a=>{if(!ci(a)){let{message:b}=b6("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidPairingTopic(c)},this.isValidPairingTopic=async a=>{if(!cb(a,!1)){let{message:b}=b6("MISSING_OR_INVALID",`pairing topic should be a string: ${a}`);throw Error(b)}if(!this.pairings.keys.includes(a)){let{message:c}=b6("NO_MATCHING_KEY",`pairing topic doesn't exist: ${a}`);throw Error(c)}if(bI(this.pairings.get(a).expiry)){await this.deletePairing(a);let{message:d}=b6("EXPIRED",`pairing topic: ${a}`);throw Error(d)}},this.core=a,this.logger=(0,cq.generateChildLogger)(b,this.name),this.pairings=new e$(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,cq.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}registerRelayerEvents(){this.core.relayer.on(ev.message,async a=>{let{topic:b,message:c}=a;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(c)))return;let d=await this.core.crypto.decode(b,c);c6(d)?(this.core.history.set(b,d),this.onRelayEventRequest({topic:b,payload:d})):c7(d)&&(await this.core.history.resolve(d),this.onRelayEventResponse({topic:b,payload:d}))})}registerExpirerEvents(){this.core.expirer.on(eC.expired,async a=>{let{topic:b}=bG(a.target);b&&this.pairings.keys.includes(b)&&(await this.deletePairing(b,!0),this.events.emit("pairing_expire",{topic:b}))})}}(this,this.logger),this.verify=new class extends cA{constructor(a,b){super(a,b),this.projectId=a,this.logger=b,this.name=eD,this.initialized=!1,this.init=async a=>{bx()||!by()||(this.verifyUrl=a?.verifyUrl||eE,await this.createIframe())},this.register=async a=>{var b;this.initialized||await this.init(),this.iframe&&(null==(b=this.iframe.contentWindow)||b.postMessage(a.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${a.attestationId} ${this.verifyUrl}`))},this.resolve=async a=>{var b;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${a.attestationId}`);let c=this.startAbortTimer(a6.FIVE_SECONDS),d=await fetch(`${this.verifyUrl}/attestation/${a.attestationId}`,{signal:this.abortController.signal});return clearTimeout(c),200===d.status?null==(b=await d.json())?void 0:b.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((a,b)=>{if(document.getElementById(eD))return a();let c=document.createElement("iframe");c.setAttribute("id",eD),c.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),c.style.display="none",c.addEventListener("load",()=>{this.initialized=!0,a()}),c.addEventListener("error",a=>{b(a)}),document.body.append(c),this.iframe=c}),new Promise(a=>{setTimeout(()=>a("iframe load timeout"),(0,a6.toMiliseconds)(a6.ONE_SECOND/2))})])}catch(a){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(a)}},this.logger=(0,cq.generateChildLogger)(b,this.name),this.verifyUrl=eE,this.abortController=new AbortController,this.isDevEnv=bw()&&di.env.IS_VITEST}get context(){return(0,cq.getLoggerContext)(this.logger)}startAbortTimer(a){return setTimeout(()=>this.abortController.abort(),(0,a6.toMiliseconds)(a))}}(this.projectId||"",this.logger)}static async init(a){let b=new e5(a);await b.initialize();let c=await b.crypto.getClientId();return await b.storage.setItem("WALLETCONNECT_CLIENT_ID",c),b}get context(){return(0,cq.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(a){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,a),this.logger.error(a.message),a}}}let e6="client",e7=`wc@2:${e6}:`,e8={name:e6,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},e9="Proposal expired",fa=a6.SEVEN_DAYS,fb={wc_sessionPropose:{req:{ttl:a6.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:a6.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:a6.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:a6.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:a6.ONE_DAY,prompt:!1,tag:1104},res:{ttl:a6.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:a6.ONE_DAY,prompt:!1,tag:1106},res:{ttl:a6.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:a6.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:a6.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:a6.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:a6.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:a6.ONE_DAY,prompt:!1,tag:1112},res:{ttl:a6.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:a6.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:a6.THIRTY_SECONDS,prompt:!1,tag:1115}}},fc={min:a6.FIVE_MINUTES,max:a6.SEVEN_DAYS},fd=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var fe=Object.defineProperty,ff=Object.defineProperties,fg=Object.getOwnPropertyDescriptors,fh=Object.getOwnPropertySymbols,fi=Object.prototype.hasOwnProperty,fj=Object.prototype.propertyIsEnumerable,fk=(a,b,c)=>b in a?fe(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,fl=(a,b)=>{for(var c in b||(b={}))fi.call(b,c)&&fk(a,c,b[c]);if(fh)for(var c of fh(b))fj.call(b,c)&&fk(a,c,b[c]);return a},fm=(a,b)=>ff(a,fg(b));class fn extends cB{constructor(a){super(a),this.protocol="wc",this.version=2,this.name=e8.name,this.events=new r.EventEmitter,this.on=(a,b)=>this.events.on(a,b),this.once=(a,b)=>this.events.once(a,b),this.off=(a,b)=>this.events.off(a,b),this.removeListener=(a,b)=>this.events.removeListener(a,b),this.removeAllListeners=a=>this.events.removeAllListeners(a),this.connect=async a=>{try{return await this.engine.connect(a)}catch(b){throw this.logger.error(b.message),b}},this.pair=async a=>{try{return await this.engine.pair(a)}catch(b){throw this.logger.error(b.message),b}},this.approve=async a=>{try{return await this.engine.approve(a)}catch(b){throw this.logger.error(b.message),b}},this.reject=async a=>{try{return await this.engine.reject(a)}catch(b){throw this.logger.error(b.message),b}},this.update=async a=>{try{return await this.engine.update(a)}catch(b){throw this.logger.error(b.message),b}},this.extend=async a=>{try{return await this.engine.extend(a)}catch(b){throw this.logger.error(b.message),b}},this.request=async a=>{try{return await this.engine.request(a)}catch(b){throw this.logger.error(b.message),b}},this.respond=async a=>{try{return await this.engine.respond(a)}catch(b){throw this.logger.error(b.message),b}},this.ping=async a=>{try{return await this.engine.ping(a)}catch(b){throw this.logger.error(b.message),b}},this.emit=async a=>{try{return await this.engine.emit(a)}catch(b){throw this.logger.error(b.message),b}},this.disconnect=async a=>{try{return await this.engine.disconnect(a)}catch(b){throw this.logger.error(b.message),b}},this.find=a=>{try{return this.engine.find(a)}catch(b){throw this.logger.error(b.message),b}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(a){throw this.logger.error(a.message),a}},this.name=a?.name||e8.name,this.metadata=a?.metadata||(0,a8.D)()||{name:"",description:"",url:"",icons:[""]};let b="u">typeof a?.logger&&"string"!=typeof a?.logger?a.logger:(0,cq.pino)((0,cq.getDefaultLoggerOptions)({level:a?.logger||e8.logger}));this.core=a?.core||new e5(a),this.logger=(0,cq.generateChildLogger)(b,this.name),this.session=new class extends e${constructor(a,b){super(a,b,"session",e7),this.core=a,this.logger=b}}(this.core,this.logger),this.proposal=new class extends e${constructor(a,b){super(a,b,"proposal",e7),this.core=a,this.logger=b}}(this.core,this.logger),this.pendingRequest=new class extends e${constructor(a,b){super(a,b,"request",e7,a=>a.id),this.core=a,this.logger=b}}(this.core,this.logger),this.engine=new class extends cC{constructor(a){super(a),this.name="engine",this.events=new(s()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(fb)}),this.initialized=!0)},this.connect=async a=>{this.isInitialized();let b=fm(fl({},a),{requiredNamespaces:a.requiredNamespaces||{},optionalNamespaces:a.optionalNamespaces||{}});await this.isValidConnect(b);let{pairingTopic:c,requiredNamespaces:d,optionalNamespaces:e,sessionProperties:f,relays:g}=b,h=c,i,j=!1;if(h&&(j=this.client.core.pairing.pairings.get(h).active),!h||!j){let{topic:k,uri:l}=await this.client.core.pairing.create();h=k,i=l}let m=await this.client.core.crypto.generateKeyPair(),n=fl({requiredNamespaces:d,optionalNamespaces:e,relays:g??[{protocol:"irn"}],proposer:{publicKey:m,metadata:this.client.metadata}},f&&{sessionProperties:f}),{reject:o,resolve:p,done:q}=bD(a6.FIVE_MINUTES,e9);if(this.events.once(bJ("session_connect"),async({error:a,session:b})=>{if(a)o(a);else if(b){b.self.publicKey=m;let c=fm(fl({},b),{requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces});await this.client.session.set(b.topic,c),await this.setExpiry(b.topic,b.expiry),h&&await this.client.core.pairing.updateMetadata({topic:h,metadata:b.peer.metadata}),p(c)}}),!h){let{message:r}=b6("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw Error(r)}let s=await this.sendRequest(h,"wc_sessionPropose",n),t=bH(a6.FIVE_MINUTES);return await this.setProposal(s,fl({id:s,expiry:t},n)),{uri:i,approval:q}},this.pair=async a=>(this.isInitialized(),await this.client.core.pairing.pair(a)),this.approve=async a=>{this.isInitialized(),await this.isValidApprove(a);let{id:b,relayProtocol:c,namespaces:d,sessionProperties:e}=a,f=this.client.proposal.get(b),{pairingTopic:g,proposer:h,requiredNamespaces:i,optionalNamespaces:j}=f;g=g||"",b9(i)||(i=function(a,b){let c=cg(a,b);if(c)throw Error(c.message);let d={};for(let[e,f]of Object.entries(a))d[e]={methods:f.methods,events:f.events,chains:f.accounts.map(a=>`${a.split(":")[0]}:${a.split(":")[1]}`)};return d}(d,"approve()"));let k=await this.client.core.crypto.generateKeyPair(),l=h.publicKey,m=await this.client.core.crypto.generateSharedKey(k,l);g&&b&&(await this.client.core.pairing.updateMetadata({topic:g,metadata:h.metadata}),await this.sendResult(b,g,{relay:{protocol:c??"irn"},responderPublicKey:k}),await this.client.proposal.delete(b,b7("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}));let n=fl({relay:{protocol:c??"irn"},namespaces:d,requiredNamespaces:i,optionalNamespaces:j,pairingTopic:g,controller:{publicKey:k,metadata:this.client.metadata},expiry:bH(fa)},e&&{sessionProperties:e});await this.client.core.relayer.subscribe(m),await this.sendRequest(m,"wc_sessionSettle",n);let o=fm(fl({},n),{topic:m,pairingTopic:g,acknowledged:!1,self:n.controller,peer:{publicKey:h.publicKey,metadata:h.metadata},controller:k});return await this.client.session.set(m,o),await this.setExpiry(m,bH(fa)),{topic:m,acknowledged:()=>new Promise(a=>setTimeout(()=>a(this.client.session.get(m)),500))}},this.reject=async a=>{this.isInitialized(),await this.isValidReject(a);let{id:b,reason:c}=a,{pairingTopic:d}=this.client.proposal.get(b);d&&(await this.sendError(b,d,c),await this.client.proposal.delete(b,b7("USER_DISCONNECTED")))},this.update=async a=>{this.isInitialized(),await this.isValidUpdate(a);let{topic:b,namespaces:c}=a,d=await this.sendRequest(b,"wc_sessionUpdate",{namespaces:c}),{done:e,resolve:f,reject:g}=bD();return this.events.once(bJ("session_update",d),({error:a})=>{a?g(a):f()}),await this.client.session.update(b,{namespaces:c}),{acknowledged:e}},this.extend=async a=>{this.isInitialized(),await this.isValidExtend(a);let{topic:b}=a,c=await this.sendRequest(b,"wc_sessionExtend",{}),{done:d,resolve:e,reject:f}=bD();return this.events.once(bJ("session_extend",c),({error:a})=>{a?f(a):e()}),await this.setExpiry(b,bH(fa)),{acknowledged:d}},this.request=async a=>{this.isInitialized(),await this.isValidRequest(a);let{chainId:b,request:c,topic:d,expiry:e}=a,f=await this.sendRequest(d,"wc_sessionRequest",{request:c,chainId:b},e),{done:g,resolve:h,reject:i}=bD(e);this.events.once(bJ("session_request",f),({error:a,result:b})=>{a?i(a):h(b)}),this.client.events.emit("session_request_sent",{topic:d,request:c,chainId:b,id:f});let j=await this.client.core.storage.getItem("WALLETCONNECT_DEEPLINK_CHOICE");return bL({id:f,topic:d,wcDeepLink:j}),await g()},this.respond=async a=>{this.isInitialized(),await this.isValidRespond(a);let{topic:b,response:c}=a,{id:d}=c;c8(c)?await this.sendResult(d,b,c.result):c9(c)&&await this.sendError(d,b,c.error),this.deletePendingSessionRequest(a.response.id,{message:"fulfilled",code:0})},this.ping=async a=>{this.isInitialized(),await this.isValidPing(a);let{topic:b}=a;if(this.client.session.keys.includes(b)){let c=await this.sendRequest(b,"wc_sessionPing",{}),{done:d,resolve:e,reject:f}=bD();this.events.once(bJ("session_ping",c),({error:a})=>{a?f(a):e()}),await d()}else this.client.core.pairing.pairings.keys.includes(b)&&await this.client.core.pairing.ping({topic:b})},this.emit=async a=>{this.isInitialized(),await this.isValidEmit(a);let{topic:b,event:c,chainId:d}=a;await this.sendRequest(b,"wc_sessionEvent",{event:c,chainId:d})},this.disconnect=async a=>{this.isInitialized(),await this.isValidDisconnect(a);let{topic:b}=a;if(this.client.session.keys.includes(b)){let c=cZ().toString(),d,e=a=>{a?.id.toString()===c&&(this.client.core.relayer.events.removeListener(ev.message_ack,e),d())};await Promise.all([new Promise(a=>{d=a,this.client.core.relayer.on(ev.message_ack,e)}),this.sendRequest(b,"wc_sessionDelete",b7("USER_DISCONNECTED"),void 0,c)]),await this.deleteSession(b)}else await this.client.core.pairing.disconnect({topic:b})},this.find=a=>(this.isInitialized(),this.client.session.getAll().filter(b=>(function(a,b){let{requiredNamespaces:c}=b,d=Object.keys(a.namespaces),e=Object.keys(c),f=!0;return!!bA(e,d)&&(d.forEach(b=>{let{accounts:d,methods:e,events:g}=a.namespaces[b],h=b1(d),i=c[b];bA(bd(b,i),h)&&bA(i.methods,e)&&bA(i.events,g)||(f=!1)}),f)})(b,a))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async a=>{try{let b=this.client.core.pairing.pairings.get(a.pairingTopic),c=this.client.core.pairing.pairings.getAll().filter(c=>{var d,e;return(null==(d=c.peerMetadata)?void 0:d.url)&&(null==(e=c.peerMetadata)?void 0:e.url)===a.peer.metadata.url&&c.topic&&c.topic!==b.topic});if(0===c.length)return;this.client.logger.info(`Cleaning up ${c.length} duplicate pairing(s)`),await Promise.all(c.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(d){this.client.logger.error(d)}},this.deleteSession=async(a,b)=>{let{self:c}=this.client.session.get(a);await this.client.core.relayer.unsubscribe(a),this.client.session.delete(a,b7("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(a)&&await this.client.core.crypto.deleteSymKey(a),b||this.client.core.expirer.del(a)},this.deleteProposal=async(a,b)=>{await Promise.all([this.client.proposal.delete(a,b7("USER_DISCONNECTED")),b?Promise.resolve():this.client.core.expirer.del(a)])},this.deletePendingSessionRequest=async(a,b,c=!1)=>{await Promise.all([this.client.pendingRequest.delete(a,b),c?Promise.resolve():this.client.core.expirer.del(a)])},this.setExpiry=async(a,b)=>{this.client.session.keys.includes(a)&&await this.client.session.update(a,{expiry:b}),this.client.core.expirer.set(a,b)},this.setProposal=async(a,b)=>{await this.client.proposal.set(a,b),this.client.core.expirer.set(a,b.expiry)},this.setPendingSessionRequest=async a=>{let b=fb.wc_sessionRequest.req.ttl,{id:c,topic:d,params:e}=a;await this.client.pendingRequest.set(c,{id:c,topic:d,params:e}),b&&this.client.core.expirer.set(c,bH(b))},this.sendRequest=async(a,b,c,d,e)=>{let f=c$(b,c);if(by()&&fd.includes(b)){let g=bk(JSON.stringify(f));await this.client.core.verify.register({attestationId:g})}let h=await this.client.core.crypto.encode(a,f),i=fb[b].req;return d&&(i.ttl=d),e&&(i.id=e),this.client.core.history.set(a,f),this.client.core.relayer.publish(a,h,i),f.id},this.sendResult=async(a,b,c)=>{let d=c_(a,c),e=await this.client.core.crypto.encode(b,d),f=await this.client.core.history.get(b,a),g=fb[f.request.method].res;this.client.core.relayer.publish(b,e,g),await this.client.core.history.resolve(d)},this.sendError=async(a,b,c)=>{let d=c0(a,c),e=await this.client.core.crypto.encode(b,d),f=await this.client.core.history.get(b,a),g=fb[f.request.method].res;this.client.core.relayer.publish(b,e,g),await this.client.core.history.resolve(d)},this.cleanup=async()=>{let a=[],b=[];this.client.session.getAll().forEach(b=>{bI(b.expiry)&&a.push(b.topic)}),this.client.proposal.getAll().forEach(a=>{bI(a.expiry)&&b.push(a.id)}),await Promise.all([...a.map(a=>this.deleteSession(a)),...b.map(a=>this.deleteProposal(a))])},this.onRelayEventRequest=a=>{let{topic:b,payload:c}=a,d=c.method;switch(d){case"wc_sessionPropose":return this.onSessionProposeRequest(b,c);case"wc_sessionSettle":return this.onSessionSettleRequest(b,c);case"wc_sessionUpdate":return this.onSessionUpdateRequest(b,c);case"wc_sessionExtend":return this.onSessionExtendRequest(b,c);case"wc_sessionPing":return this.onSessionPingRequest(b,c);case"wc_sessionDelete":return this.onSessionDeleteRequest(b,c);case"wc_sessionRequest":return this.onSessionRequest(b,c);case"wc_sessionEvent":return this.onSessionEventRequest(b,c);default:return this.client.logger.info(`Unsupported request method ${d}`)}},this.onRelayEventResponse=async a=>{let{topic:b,payload:c}=a,d=(await this.client.core.history.get(b,c.id)).request.method;switch(d){case"wc_sessionPropose":return this.onSessionProposeResponse(b,c);case"wc_sessionSettle":return this.onSessionSettleResponse(b,c);case"wc_sessionUpdate":return this.onSessionUpdateResponse(b,c);case"wc_sessionExtend":return this.onSessionExtendResponse(b,c);case"wc_sessionPing":return this.onSessionPingResponse(b,c);case"wc_sessionRequest":return this.onSessionRequestResponse(b,c);default:return this.client.logger.info(`Unsupported response method ${d}`)}},this.onRelayEventUnknownPayload=a=>{let{topic:b}=a,{message:c}=b6("MISSING_OR_INVALID",`Decoded payload on topic ${b} is not identifiable as a JSON-RPC request or a response.`);throw Error(c)},this.onSessionProposeRequest=async(a,b)=>{let{params:c,id:d}=b;try{this.isValidConnect(fl({},b.params));let e=bH(a6.FIVE_MINUTES),f=fl({id:d,pairingTopic:a,expiry:e},c);await this.setProposal(d,f);let g=bk(JSON.stringify(b)),h=await this.getVerifyContext(g,f.proposer.metadata);this.client.events.emit("session_proposal",{id:d,params:f,verifyContext:h})}catch(i){await this.sendError(d,a,i),this.client.logger.error(i)}},this.onSessionProposeResponse=async(a,b)=>{let{id:c}=b;if(c8(b)){let{result:d}=b;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:d});let e=this.client.proposal.get(c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:e});let f=e.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:f});let g=d.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:g});let h=await this.client.core.crypto.generateSharedKey(f,g);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});let i=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:i}),await this.client.core.pairing.activate({topic:a})}else c9(b)&&(await this.client.proposal.delete(c,b7("USER_DISCONNECTED")),this.events.emit(bJ("session_connect"),{error:b.error}))},this.onSessionSettleRequest=async(a,b)=>{let{id:c,params:d}=b;try{this.isValidSessionSettleRequest(d);let{relay:e,controller:f,expiry:g,namespaces:h,requiredNamespaces:i,optionalNamespaces:j,sessionProperties:k,pairingTopic:l}=b.params,m=fl({topic:a,relay:e,expiry:g,namespaces:h,acknowledged:!0,pairingTopic:l,requiredNamespaces:i,optionalNamespaces:j,controller:f.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:f.publicKey,metadata:f.metadata}},k&&{sessionProperties:k});await this.sendResult(b.id,a,!0),this.events.emit(bJ("session_connect"),{session:m}),this.cleanupDuplicatePairings(m)}catch(n){await this.sendError(c,a,n),this.client.logger.error(n)}},this.onSessionSettleResponse=async(a,b)=>{let{id:c}=b;c8(b)?(await this.client.session.update(a,{acknowledged:!0}),this.events.emit(bJ("session_approve",c),{})):c9(b)&&(await this.client.session.delete(a,b7("USER_DISCONNECTED")),this.events.emit(bJ("session_approve",c),{error:b.error}))},this.onSessionUpdateRequest=async(a,b)=>{let{params:c,id:d}=b;try{this.isValidUpdate(fl({topic:a},c)),await this.client.session.update(a,{namespaces:c.namespaces}),await this.sendResult(d,a,!0),this.client.events.emit("session_update",{id:d,topic:a,params:c})}catch(e){await this.sendError(d,a,e),this.client.logger.error(e)}},this.onSessionUpdateResponse=(a,b)=>{let{id:c}=b;c8(b)?this.events.emit(bJ("session_update",c),{}):c9(b)&&this.events.emit(bJ("session_update",c),{error:b.error})},this.onSessionExtendRequest=async(a,b)=>{let{id:c}=b;try{this.isValidExtend({topic:a}),await this.setExpiry(a,bH(fa)),await this.sendResult(c,a,!0),this.client.events.emit("session_extend",{id:c,topic:a})}catch(d){await this.sendError(c,a,d),this.client.logger.error(d)}},this.onSessionExtendResponse=(a,b)=>{let{id:c}=b;c8(b)?this.events.emit(bJ("session_extend",c),{}):c9(b)&&this.events.emit(bJ("session_extend",c),{error:b.error})},this.onSessionPingRequest=async(a,b)=>{let{id:c}=b;try{this.isValidPing({topic:a}),await this.sendResult(c,a,!0),this.client.events.emit("session_ping",{id:c,topic:a})}catch(d){await this.sendError(c,a,d),this.client.logger.error(d)}},this.onSessionPingResponse=(a,b)=>{let{id:c}=b;setTimeout(()=>{c8(b)?this.events.emit(bJ("session_ping",c),{}):c9(b)&&this.events.emit(bJ("session_ping",c),{error:b.error})},500)},this.onSessionDeleteRequest=async(a,b)=>{let{id:c}=b;try{this.isValidDisconnect({topic:a,reason:b.params}),await Promise.all([new Promise(b=>{this.client.core.relayer.once(ev.publish,async()=>{b(await this.deleteSession(a))})}),this.sendResult(c,a,!0)]),this.client.events.emit("session_delete",{id:c,topic:a})}catch(d){this.client.logger.error(d)}},this.onSessionRequest=async(a,b)=>{let{id:c,params:d}=b;try{this.isValidRequest(fl({topic:a},d)),await this.setPendingSessionRequest({id:c,topic:a,params:d});let e=bk(JSON.stringify(b)),f=this.client.session.get(a),g=await this.getVerifyContext(e,f.peer.metadata);this.client.events.emit("session_request",{id:c,topic:a,params:d,verifyContext:g})}catch(h){await this.sendError(c,a,h),this.client.logger.error(h)}},this.onSessionRequestResponse=(a,b)=>{let{id:c}=b;c8(b)?this.events.emit(bJ("session_request",c),{result:b.result}):c9(b)&&this.events.emit(bJ("session_request",c),{error:b.error})},this.onSessionEventRequest=async(a,b)=>{let{id:c,params:d}=b;try{this.isValidEmit(fl({topic:a},d)),this.client.events.emit("session_event",{id:c,topic:a,params:d})}catch(e){await this.sendError(c,a,e),this.client.logger.error(e)}},this.isValidConnect=async a=>{var b,c;if(!ci(a)){let{message:d}=b6("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(a)}`);throw Error(d)}let{pairingTopic:e,requiredNamespaces:f,optionalNamespaces:g,sessionProperties:h,relays:i}=a,j;if(ca(e)||await this.isValidPairingTopic(e),b=i,j=!1,(c=!0,b)?b&&b8(b)&&b.length&&b.forEach(a=>{j=ch(a)}):j=!0,!j){let{message:k}=b6("MISSING_OR_INVALID",`connect() relays: ${i}`);throw Error(k)}ca(f)||0===b9(f)||this.validateNamespaces(f,"requiredNamespaces"),ca(g)||0===b9(g)||this.validateNamespaces(g,"optionalNamespaces"),ca(h)||this.validateSessionProps(h,"sessionProperties")},this.validateNamespaces=(a,b)=>{let c=function(a,b,c){let d=null;if(a&&b9(a)){var e,f;let g=cf(a,b);g&&(d=g);let h,i=(e=a,f=b,h=null,Object.entries(e).forEach(([a,b])=>{var c,d,e;if(h)return;let g,i=(c=a,d=bd(a,b),e=`${f} requiredNamespace`,g=null,b8(d)?d.forEach(a=>{!g&&(cd(a)&&a.includes(c)||(g=b7("UNSUPPORTED_CHAINS",`${e}, chain ${a} should be a string and conform to "namespace:chainId" format`)))}):g=b7("UNSUPPORTED_CHAINS",`${e}, chains ${d} should be an array of strings conforming to "namespace:chainId" format`),g);i&&(h=i)}),h);i&&(d=i)}else d=b6("MISSING_OR_INVALID",`${b}, ${c} should be an object with data`);return d}(a,"connect()",b);if(c)throw Error(c.message)},this.isValidApprove=async a=>{if(!ci(a))throw Error(b6("MISSING_OR_INVALID",`approve() params: ${a}`).message);let{id:b,namespaces:c,relayProtocol:d,sessionProperties:e}=a;await this.isValidProposalId(b);let f=this.client.proposal.get(b),g=cg(c,"approve()");if(g)throw Error(g.message);let h=ck(f.requiredNamespaces,c,"approve()");if(h)throw Error(h.message);if(!cb(d,!0)){let{message:i}=b6("MISSING_OR_INVALID",`approve() relayProtocol: ${d}`);throw Error(i)}ca(e)||this.validateSessionProps(e,"sessionProperties")},this.isValidReject=async a=>{var b;if(!ci(a)){let{message:c}=b6("MISSING_OR_INVALID",`reject() params: ${a}`);throw Error(c)}let{id:d,reason:e}=a;if(await this.isValidProposalId(d),!(b=e)||"object"!=typeof b||!b.code||!cc(b.code,!1)||!b.message||!cb(b.message,!1)){let{message:f}=b6("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(e)}`);throw Error(f)}},this.isValidSessionSettleRequest=a=>{var b,c;if(!ci(a)){let{message:d}=b6("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${a}`);throw Error(d)}let{relay:e,controller:f,namespaces:g,expiry:h}=a;if(!ch(e)){let{message:i}=b6("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(i)}let j,k=(c="onSessionSettleRequest()",j=null,cb((b=f)?.publicKey,!1)||(j=b6("MISSING_OR_INVALID",`${c} controller public key should be a string`)),j);if(k)throw Error(k.message);let l=cg(g,"onSessionSettleRequest()");if(l)throw Error(l.message);if(bI(h)){let{message:m}=b6("EXPIRED","onSessionSettleRequest()");throw Error(m)}},this.isValidUpdate=async a=>{if(!ci(a)){let{message:b}=b6("MISSING_OR_INVALID",`update() params: ${a}`);throw Error(b)}let{topic:c,namespaces:d}=a;await this.isValidSessionTopic(c);let e=this.client.session.get(c),f=cg(d,"update()");if(f)throw Error(f.message);let g=ck(e.requiredNamespaces,d,"update()");if(g)throw Error(g.message)},this.isValidExtend=async a=>{if(!ci(a)){let{message:b}=b6("MISSING_OR_INVALID",`extend() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidSessionTopic(c)},this.isValidRequest=async a=>{var b,c,d,e,f,g;if(!ci(a)){let{message:h}=b6("MISSING_OR_INVALID",`request() params: ${a}`);throw Error(h)}let{topic:i,request:j,chainId:k,expiry:l}=a;await this.isValidSessionTopic(i);let{namespaces:m}=this.client.session.get(i);if(!cj(m,k)){let{message:n}=b6("MISSING_OR_INVALID",`request() chainId: ${k}`);throw Error(n)}if(ca(b=j)||!cb(b.method,!1)){let{message:o}=b6("MISSING_OR_INVALID",`request() ${JSON.stringify(j)}`);throw Error(o)}if(c=m,d=k,!(cb(e=j.method,!1)&&(function(a,b){let c=[];return Object.values(a).forEach(a=>{b1(a.accounts).includes(b)&&c.push(...a.methods)}),c})(c,d).includes(e))){let{message:p}=b6("MISSING_OR_INVALID",`request() method: ${j.method}`);throw Error(p)}if(l&&(f=l,g=fc,!cc(f,!1)||!(f<=g.max)||!(f>=g.min))){let{message:q}=b6("MISSING_OR_INVALID",`request() expiry: ${l}. Expiry must be a number (in seconds) between ${fc.min} and ${fc.max}`);throw Error(q)}},this.isValidRespond=async a=>{var b;if(!ci(a)){let{message:c}=b6("MISSING_OR_INVALID",`respond() params: ${a}`);throw Error(c)}let{topic:d,response:e}=a;if(await this.isValidSessionTopic(d),ca(b=e)||ca(b.result)&&ca(b.error)||!cc(b.id,!1)||!cb(b.jsonrpc,!1)){let{message:f}=b6("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(e)}`);throw Error(f)}},this.isValidPing=async a=>{if(!ci(a)){let{message:b}=b6("MISSING_OR_INVALID",`ping() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidSessionOrPairingTopic(c)},this.isValidEmit=async a=>{var b,c,d,e;if(!ci(a)){let{message:f}=b6("MISSING_OR_INVALID",`emit() params: ${a}`);throw Error(f)}let{topic:g,event:h,chainId:i}=a;await this.isValidSessionTopic(g);let{namespaces:j}=this.client.session.get(g);if(!cj(j,i)){let{message:k}=b6("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw Error(k)}if(ca(b=h)||!cb(b.name,!1)){let{message:l}=b6("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(h)}`);throw Error(l)}if(c=j,d=i,!(cb(e=h.name,!1)&&(function(a,b){let c=[];return Object.values(a).forEach(a=>{b1(a.accounts).includes(b)&&c.push(...a.events)}),c})(c,d).includes(e))){let{message:m}=b6("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(h)}`);throw Error(m)}},this.isValidDisconnect=async a=>{if(!ci(a)){let{message:b}=b6("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw Error(b)}let{topic:c}=a;await this.isValidSessionOrPairingTopic(c)},this.getVerifyContext=async(a,b)=>{let c={verified:{verifyUrl:b.verifyUrl||"",validation:"UNKNOWN",origin:b.url||""}};try{let d=await this.client.core.verify.resolve({attestationId:a,verifyUrl:b.verifyUrl});d&&(c.verified.origin=d,c.verified.validation=d===b.url?"VALID":"INVALID")}catch(e){this.client.logger.error(e)}return this.client.logger.info(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(a,b)=>{Object.values(a).forEach(a=>{if(!cb(a,!1)){let{message:c}=b6("MISSING_OR_INVALID",`${b} must be in Record<string, string> format. Received: ${JSON.stringify(a)}`);throw Error(c)}})}}isInitialized(){if(!this.initialized){let{message:a}=b6("NOT_INITIALIZED",this.name);throw Error(a)}}registerRelayerEvents(){this.client.core.relayer.on(ev.message,async a=>{let{topic:b,message:c}=a;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(c)))return;let d=await this.client.core.crypto.decode(b,c);c6(d)?(this.client.core.history.set(b,d),this.onRelayEventRequest({topic:b,payload:d})):c7(d)?(await this.client.core.history.resolve(d),this.onRelayEventResponse({topic:b,payload:d})):this.onRelayEventUnknownPayload({topic:b,payload:d})})}registerExpirerEvents(){this.client.core.expirer.on(eC.expired,async a=>{let{topic:b,id:c}=bG(a.target);if(c&&this.client.pendingRequest.keys.includes(c))return await this.deletePendingSessionRequest(c,b6("EXPIRED"),!0);b?this.client.session.keys.includes(b)&&(await this.deleteSession(b,!0),this.client.events.emit("session_expire",{topic:b})):c&&(await this.deleteProposal(c,!0),this.client.events.emit("proposal_expire",{id:c}))})}isValidPairingTopic(a){if(!cb(a,!1)){let{message:b}=b6("MISSING_OR_INVALID",`pairing topic should be a string: ${a}`);throw Error(b)}if(!this.client.core.pairing.pairings.keys.includes(a)){let{message:c}=b6("NO_MATCHING_KEY",`pairing topic doesn't exist: ${a}`);throw Error(c)}if(bI(this.client.core.pairing.pairings.get(a).expiry)){let{message:d}=b6("EXPIRED",`pairing topic: ${a}`);throw Error(d)}}async isValidSessionTopic(a){if(!cb(a,!1)){let{message:b}=b6("MISSING_OR_INVALID",`session topic should be a string: ${a}`);throw Error(b)}if(!this.client.session.keys.includes(a)){let{message:c}=b6("NO_MATCHING_KEY",`session topic doesn't exist: ${a}`);throw Error(c)}if(bI(this.client.session.get(a).expiry)){await this.deleteSession(a);let{message:d}=b6("EXPIRED",`session topic: ${a}`);throw Error(d)}}async isValidSessionOrPairingTopic(a){if(this.client.session.keys.includes(a))await this.isValidSessionTopic(a);else if(this.client.core.pairing.pairings.keys.includes(a))this.isValidPairingTopic(a);else if(cb(a,!1)){let{message:b}=b6("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${a}`);throw Error(b)}else{let{message:c}=b6("MISSING_OR_INVALID",`session or pairing topic should be a string: ${a}`);throw Error(c)}}async isValidProposalId(a){var b;if("number"!=typeof(b=a)){let{message:c}=b6("MISSING_OR_INVALID",`proposal id should be a number: ${a}`);throw Error(c)}if(!this.client.proposal.keys.includes(a)){let{message:d}=b6("NO_MATCHING_KEY",`proposal id doesn't exist: ${a}`);throw Error(d)}if(bI(this.client.proposal.get(a).expiry)){await this.deleteProposal(a);let{message:e}=b6("EXPIRED",`proposal id: ${a}`);throw Error(e)}}}(this)}static async init(a){let b=new fn(a);return await b.initialize(),b}get context(){return(0,cq.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(a){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(a.message),a}}}var fo=c(54098),fp=c.n(fo);let fq="INTERNAL_ERROR",fr="SERVER_ERROR",fs=[-32700,-32600,-32601,-32602,-32603],ft={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[fq]:{code:-32603,message:"Internal error"},[fr]:{code:-32e3,message:"Server error"}},fu=fr;function fv(a){return Object.keys(ft).includes(a)?ft[a]:ft[fu]}c(35885);function fw(a){return function a(b,c){let d=function(a){let b=a.match(RegExp(/^\w+:/,"gi"));if(b&&b.length)return b[0]}(b);return void 0!==d&&RegExp(c).test(d)}(a,"^https?:")}let fx={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class fy{constructor(a,b=!1){if(this.url=a,this.disableProviderPing=b,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!fw(a))throw Error(`Provided URL is not compatible with HTTP connection: ${a}`);this.url=a,this.disableProviderPing=b}get connected(){return this.isAvailable}get connecting(){return this.registering}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async open(a=this.url){await this.register(a)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(a,b){this.isAvailable||await this.register();try{let c=(0,cI.u)(a),d=await fp()(this.url,Object.assign(Object.assign({},fx),{body:c})),e=await d.json();this.onPayload({data:e})}catch(f){this.onError(a.id,f)}}async register(a=this.url){if(!fw(a))throw Error(`Provided URL is not compatible with HTTP connection: ${a}`);if(this.registering){let b=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=b||this.events.listenerCount("open")>=b)&&this.events.setMaxListeners(b+1),new Promise((a,b)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),b(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.isAvailable)return b(Error("HTTP connection is missing or invalid"));a()})})}this.url=a,this.registering=!0;try{if(!this.disableProviderPing){let c=(0,cI.u)({id:1,jsonrpc:"2.0",method:"test",params:[]});await fp()(a,Object.assign(Object.assign({},fx),{body:c}))}this.onOpen()}catch(d){let e=this.parseError(d);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(a){if(void 0===a.data)return;let b="string"==typeof a.data?(0,cI.D)(a.data):a.data;this.events.emit("payload",b)}onError(a,b){var c,d,e,f,g;let h=this.parseError(b),i=h.message||h.toString(),j=(c=a,{id:c,jsonrpc:"2.0",error:(e=d=i,f=void 0,void 0===e?fv(fq):("string"==typeof e&&(e=Object.assign(Object.assign({},fv(fr)),{message:e})),void 0!==f&&(e.data=f),g=e.code,fs.includes(g)&&(e=function a(b){let c=Object.values(ft).find(a=>a.code===b);return c||ft[fu]}(e.code)),e))});this.events.emit("payload",j)}parseError(a,b=this.url){var c,d,e;return c=a,d=b,e="HTTP",c.message.includes("getaddrinfo ENOTFOUND")||c.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${e} RPC url at ${d}`):c}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}var fz=fy;class fA extends c4{constructor(a){super(a),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(a),this.connection.connected&&this.registerEventListeners()}async connect(a=this.connection){await this.open(a)}async disconnect(){await this.close()}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}async request(a,b){return this.requestStrict(c$(a.method,a.params||[],a.id||cZ().toString()),b)}async requestStrict(a,b){return new Promise(async(c,d)=>{if(!this.connection.connected)try{await this.open()}catch(e){d(e)}this.events.on(`${a.id}`,a=>{c9(a)?d(a.error):c(a.result)});try{await this.connection.send(a,b)}catch(f){d(f)}})}setConnection(a=this.connection){return a}onPayload(a){this.events.emit("payload",a),c7(a)?this.events.emit(`${a.id}`,a):this.events.emit("message",{type:a.method,data:a.params})}onClose(a){a&&3e3===a.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${a.code} ${a.reason?`(${a.reason})`:""}`)),this.events.emit("disconnect")}async open(a=this.connection){this.connection===a&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof a&&(await this.connection.open(a),a=this.connection),this.connection=this.setConnection(a),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",a=>this.onPayload(a)),this.connection.on("close",a=>this.onClose(a)),this.connection.on("error",a=>this.events.emit("error",a)),this.connection.on("register_error",a=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let fB="error",fC="wc@2:universal_provider:",fD={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var fE="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof c.g?c.g:"u">typeof self?self:{},fF={exports:{}}; /**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ !function(a,b){(function(){var c,d="Expected a function",e="__lodash_hash_undefined__",f="__lodash_placeholder__",g=1,h=2,i=4,j=1,k=2,l=1,m=2,n=4,o=8,p=16,q=32,r=64,s=128,t=256,u=512,v=30,w="...",x=16,y=1/0,z=9007199254740991,A=0/0,B=4294967295,C=B-1,D=B>>>1,E=[["ary",s],["bind",l],["bindKey",m],["curry",o],["curryRight",p],["flip",u],["partial",q],["partialRight",r],["rearg",t]],F="[object Arguments]",G="[object Array]",H="[object Boolean]",I="[object Date]",J="[object Error]",K="[object Function]",L="[object GeneratorFunction]",M="[object Map]",N="[object Number]",O="[object Null]",P="[object Object]",Q="[object Promise]",R="[object RegExp]",S="[object Set]",T="[object String]",U="[object Symbol]",V="[object Undefined]",W="[object WeakMap]",X="[object ArrayBuffer]",Y="[object DataView]",Z="[object Float32Array]",$="[object Float64Array]",_="[object Int8Array]",aa="[object Int16Array]",ab="[object Int32Array]",ac="[object Uint8Array]",ad="[object Uint8ClampedArray]",ae="[object Uint16Array]",af="[object Uint32Array]",ag=/\b__p \+= '';/g,ah=/\b(__p \+=) '' \+/g,ai=/(__e\(.*?\)|\b__t\)) \+\n'';/g,aj=/&(?:amp|lt|gt|quot|#39);/g,ak=/[&<>"']/g,al=RegExp(aj.source),am=RegExp(ak.source),an=/<%-([\s\S]+?)%>/g,ao=/<%([\s\S]+?)%>/g,ap=/<%=([\s\S]+?)%>/g,aq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ar=/^\w*$/,as=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,at=/[\\^$.*+?()[\]{}|]/g,au=RegExp(at.source),av=/^\s+/,aw=/\s/,ax=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ay=/\{\n\/\* \[wrapped with (.+)\] \*/,az=/,? & /,aA=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,aB=/[()=,{}\[\]\/\s]/,aC=/\\(\\)?/g,aD=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,aE=/\w*$/,aF=/^[-+]0x[0-9a-f]+$/i,aG=/^0b[01]+$/i,aH=/^\[object .+?Constructor\]$/,aI=/^0o[0-7]+$/i,aJ=/^(?:0|[1-9]\d*)$/,aK=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,aL=/($^)/,aM=/['\n\r\u2028\u2029\\]/g,aN="\ud800-\udfff",aO="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",aP="\\u2700-\\u27bf",aQ="a-z\\xdf-\\xf6\\xf8-\\xff",aR="A-Z\\xc0-\\xd6\\xd8-\\xde",aS="\\ufe0e\\ufe0f",aT="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",aU="['’]",aV="["+aT+"]",aW="["+aO+"]",aX="["+aQ+"]",aY="[^"+aN+aT+"\\d+"+aP+aQ+aR+"]",aZ="\ud83c[\udffb-\udfff]",a$="[^"+aN+"]",a_="(?:\ud83c[\udde6-\uddff]){2}",a0="[\ud800-\udbff][\udc00-\udfff]",a1="["+aR+"]",a2="\\u200d",a3="(?:"+aX+"|"+aY+")",a4="(?:"+aU+"(?:d|ll|m|re|s|t|ve))?",a5="(?:"+aU+"(?:D|LL|M|RE|S|T|VE))?",a6="(?:"+aW+"|"+aZ+")?",a7="["+aS+"]?",a8="(?:"+a2+"(?:"+[a$,a_,a0].join("|")+")"+a7+a6+")*",a9=a7+a6+a8,ba="(?:"+["["+aP+"]",a_,a0].join("|")+")"+a9,bb="(?:"+[a$+aW+"?",aW,a_,a0,"["+aN+"]"].join("|")+")",bc=RegExp(aU,"g"),bd=RegExp(aW,"g"),be=RegExp(aZ+"(?="+aZ+")|"+bb+a9,"g"),bf=RegExp([a1+"?"+aX+"+"+a4+"(?="+[aV,a1,"$"].join("|")+")","(?:"+a1+"|"+aY+")+"+a5+"(?="+[aV,a1+a3,"$"].join("|")+")",a1+"?"+a3+"+"+a4,a1+"+"+a5,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",ba].join("|"),"g"),bg=RegExp("["+a2+aN+aO+aS+"]"),bh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bj=-1,bk={};bk[Z]=bk[$]=bk[_]=bk[aa]=bk[ab]=bk[ac]=bk[ad]=bk[ae]=bk[af]=!0,bk[F]=bk[G]=bk[X]=bk[H]=bk[Y]=bk[I]=bk[J]=bk[K]=bk[M]=bk[N]=bk[P]=bk[R]=bk[S]=bk[T]=bk[W]=!1;var bl={};bl[F]=bl[G]=bl[X]=bl[Y]=bl[H]=bl[I]=bl[Z]=bl[$]=bl[_]=bl[aa]=bl[ab]=bl[M]=bl[N]=bl[P]=bl[R]=bl[S]=bl[T]=bl[U]=bl[ac]=bl[ad]=bl[ae]=bl[af]=!0,bl[J]=bl[K]=bl[W]=!1;var bm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bn=parseFloat,bo=parseInt,bp="object"==typeof fE&&fE&&fE.Object===Object&&fE,bq="object"==typeof self&&self&&self.Object===Object&&self,br=bp||bq||Function("return this")(),bs=b&&!b.nodeType&&b,bt=bs&&a&&!a.nodeType&&a,bu=bt&&bt.exports===bs,bv=bu&&bp.process,bw=function(){try{return bt&&bt.require&&bt.require("util").types||bv&&bv.binding&&bv.binding("util")}catch{}}(),bx=bw&&bw.isArrayBuffer,by=bw&&bw.isDate,bz=bw&&bw.isMap,bA=bw&&bw.isRegExp,bB=bw&&bw.isSet,bC=bw&&bw.isTypedArray;function bD(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function bE(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function bF(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&& !1!==b(a[c],c,a););return a}function bG(a,b){for(var c=null==a?0:a.length;(c--)&& !1!==b(a[c],c,a););return a}function bH(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function bI(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function bJ(a,b){return!!(null==a?0:a.length)&&bT(a,b,0)> -1}function bK(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function bL(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function bM(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function bN(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function bO(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function bP(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}var bQ=bX("length");function bR(a,b,c){var d;return c(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function bS(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return -1}function bT(a,b,c){return b==b?ce(a,b,c):bS(a,bV,c)}function bU(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return -1}function bV(a){return a!=a}function bW(a,b){var c=null==a?0:a.length;return c?b$(a,b)/c:A}function bX(a){return function(b){return null==b?c:b[a]}}function bY(a){return function(b){return null==a?c:a[b]}}function bZ(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function b$(a,b){for(var d,e=-1,f=a.length;++e<f;){var g=b(a[e]);g!==c&&(d=d===c?g:d+g)}return d}function b_(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function b0(a){return a&&a.slice(0,ch(a)+1).replace(av,"")}function b1(a){return function(b){return a(b)}}function b2(a,b){return bL(b,function(b){return a[b]})}function b3(a,b){return a.has(b)}function b4(a,b){for(var c=-1,d=a.length;++c<d&&bT(b,a[c],0)> -1;);return c}function b5(a,b){for(var c=a.length;(c--)&&bT(b,a[c],0)> -1;);return c}var b6=bY({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),b7=bY({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function b8(a){return"\\"+bm[a]}function b9(a){return bg.test(a)}function ca(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function cb(a,b){return function(c){return a(b(c))}}function cc(a,b){for(var c=-1,d=a.length,e=0,g=[];++c<d;){var h=a[c];(h===b||h===f)&&(a[c]=f,g[e++]=c)}return g}function cd(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function ce(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return -1}function cf(a){return b9(a)?cj(a):bQ(a)}function cg(a){var b;return b9(a)?ck(a):(b=a).split("")}function ch(a){for(var b=a.length;b-- &&aw.test(a.charAt(b)););return b}var ci=bY({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});function cj(a){for(var b=be.lastIndex=0;be.test(a);)++b;return b}function ck(a){return a.match(be)||[]}var cl=function a(b){var aw,aN=(b=null==b?br:cl.defaults(br.Object(),b,cl.pick(br,bi))).Array,aO=b.Date,aP=b.Error,aQ=b.Function,aR=b.Math,aS=b.Object,aT=b.RegExp,aU=b.String,aV=b.TypeError,aW=aN.prototype,aX=aQ.prototype,aY=aS.prototype,aZ=b["__core-js_shared__"],a$=aX.toString,a_=aY.hasOwnProperty,a0=0,a1=(aw=/[^.]+$/.exec(aZ&&aZ.keys&&aZ.keys.IE_PROTO||""))?"Symbol(src)_1."+aw:"",a2=aY.toString,a3=a$.call(aS),a4=br._,a5=aT("^"+a$.call(a_).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),a6=bu?b.Buffer:c,a7=b.Symbol,a8=b.Uint8Array,a9=a6?a6.allocUnsafe:c,ba=cb(aS.getPrototypeOf,aS),bb=aS.create,be=aY.propertyIsEnumerable,bg=aW.splice,bm=a7?a7.isConcatSpreadable:c,bp=a7?a7.iterator:c,bq=a7?a7.toStringTag:c,bs=function(){try{var a=eV(aS,"defineProperty");return a({},"",{}),a}catch{}}(),bt=b.clearTimeout!==br.clearTimeout&&b.clearTimeout,bv=aO&&aO.now!==br.Date.now&&aO.now,bw=b.setTimeout!==br.setTimeout&&b.setTimeout,bQ=aR.ceil,bY=aR.floor,ce=aS.getOwnPropertySymbols,cj=a6?a6.isBuffer:c,ck=b.isFinite,cm=aW.join,cn=cb(aS.keys,aS),co=aR.max,cp=aR.min,cq=aO.now,cr=b.parseInt,cs=aR.random,ct=aW.reverse,cu=eV(b,"DataView"),cv=eV(b,"Map"),cw=eV(b,"Promise"),cx=eV(b,"Set"),cy=eV(b,"WeakMap"),cz=eV(aS,"create"),cA=cy&&new cy,cB={},cC=fs(cu),cD=fs(cv),cE=fs(cw),cF=fs(cx),cG=fs(cy),cH=a7?a7.prototype:c,cI=cH?cH.valueOf:c,cJ=cH?cH.toString:c;function cK(a){if(gF(a)&&!gt(a)&&!(a instanceof cO)){if(a instanceof cN)return a;if(a_.call(a,"__wrapped__"))return fu(a)}return new cN(a)}var cL=function(){function a(){}return function(b){if(!gE(b))return{};if(bb)return bb(b);a.prototype=b;var d=new a;return a.prototype=c,d}}();function cM(){}function cN(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=c}function cO(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function cP(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function cQ(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function cR(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function cS(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new cR;++b<c;)this.add(a[b])}function cT(a){var b=this.__data__=new cQ(a);this.size=b.size}function cU(a,b){var c=gt(a),d=!c&&gs(a),e=!c&&!d&&gx(a),f=!c&&!d&&!e&&gN(a),g=c||d||e||f,h=g?b_(a.length,aU):[],i=h.length;for(var j in a)(b||a_.call(a,j))&&!(g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||e4(j,i)))&&h.push(j);return h}function cV(a){var b=a.length;return b?a[dK(0,b-1)]:c}function cW(a,b){return fp(eh(a),c3(b,0,a.length))}function cX(a){return fp(eh(a))}function cY(a,b,d){(d===c||gp(a[b],d))&&(d!==c||b in a)||c1(a,b,d)}function cZ(a,b,d){var e=a[b];a_.call(a,b)&&gp(e,d)&&(d!==c||b in a)||c1(a,b,d)}function c$(a,b){for(var c=a.length;c--;)if(gp(a[c][0],b))return c;return -1}function c_(a,b,c,d){return c8(a,function(a,e,f){b(d,a,c(a),f)}),d}function c0(a,b){return a&&ei(b,g7(b),a)}function c1(a,b,c){"__proto__"==b&&bs?bs(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function c2(a,b){for(var d=-1,e=b.length,f=aN(e),g=null==a;++d<e;)f[d]=g?c:g2(a,b[d]);return f}function c3(a,b,d){return a==a&&(d!==c&&(a=a<=d?a:d),b!==c&&(a=a>=b?a:b)),a}function c4(a,b,d,e,f,j){var k,l=b&g,m=b&h,n=b&i;if(d&&(k=f?d(a,e,f,j):d(a)),k!==c)return k;if(!gE(a))return a;var o=gt(a);if(o){if(k=e0(a),!l)return eh(a,k)}else{var p,q,r=eZ(a),s=r==K||r==L;if(gx(a))return ea(a,l);if(r==P||r==F||s&&!f){if(k=m||s?{}:e1(a),!l)return m?ek(a,(p=k,q=a,p&&ei(q,g8(q),p))):ej(a,c0(k,a))}else{if(!bl[r])return f?a:{};k=e2(a,r,l)}}j||(j=new cT);var t=j.get(a);if(t)return t;j.set(a,k),gK(a)?a.forEach(function(c){k.add(c4(c,b,d,c,a,j))}):gG(a)&&a.forEach(function(c,e){k.set(e,c4(c,b,d,e,a,j))});var u=n?m?eO:eN:m?g8:g7,v=o?c:u(a);return bF(v||a,function(c,e){v&&(c=a[e=c]),cZ(k,e,c4(c,b,d,e,a,j))}),k}function c5(a,b,d){var e=d.length;if(null==a)return!e;for(a=aS(a);e--;){var f=d[e],g=b[f],h=a[f];if(h===c&&!(f in a)||!g(h))return!1}return!0}function c6(a,b,e){if("function"!=typeof a)throw new aV(d);return fl(function(){a.apply(c,e)},b)}function c7(a,b,c,d){var e=-1,f=bJ,g=!0,h=a.length,i=[],j=b.length;if(!h)return i;c&&(b=bL(b,b1(c))),d?(f=bK,g=!1):b.length>=200&&(f=b3,g=!1,b=new cS(b));n:for(;++e<h;){var k=a[e],l=null==c?k:c(k);if(k=d||0!==k?k:0,g&&l==l){for(var m=j;m--;)if(b[m]===l)continue n;i.push(k)}else f(b,l,d)||i.push(k)}return i}cK.templateSettings={escape:an,evaluate:ao,interpolate:ap,variable:"",imports:{_:cK}},cK.prototype=cM.prototype,cK.prototype.constructor=cK,cN.prototype=cL(cM.prototype),cN.prototype.constructor=cN,cO.prototype=cL(cM.prototype),cO.prototype.constructor=cO,cP.prototype.clear=function(){this.__data__=cz?cz(null):{},this.size=0},cP.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},cP.prototype.get=function(a){var b=this.__data__;if(cz){var d=b[a];return d===e?c:d}return a_.call(b,a)?b[a]:c},cP.prototype.has=function(a){var b=this.__data__;return cz?b[a]!==c:a_.call(b,a)},cP.prototype.set=function(a,b){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=cz&&b===c?e:b,this},cQ.prototype.clear=function(){this.__data__=[],this.size=0},cQ.prototype.delete=function(a){var b=this.__data__,c=c$(b,a);return!(c<0)&&(c==b.length-1?b.pop():bg.call(b,c,1),--this.size,!0)},cQ.prototype.get=function(a){var b=this.__data__,d=c$(b,a);return d<0?c:b[d][1]},cQ.prototype.has=function(a){return c$(this.__data__,a)> -1},cQ.prototype.set=function(a,b){var c=this.__data__,d=c$(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this},cR.prototype.clear=function(){this.size=0,this.__data__={hash:new cP,map:new(cv||cQ),string:new cP}},cR.prototype.delete=function(a){var b=eT(this,a).delete(a);return this.size-=b?1:0,b},cR.prototype.get=function(a){return eT(this,a).get(a)},cR.prototype.has=function(a){return eT(this,a).has(a)},cR.prototype.set=function(a,b){var c=eT(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this},cS.prototype.add=cS.prototype.push=function(a){return this.__data__.set(a,e),this},cS.prototype.has=function(a){return this.__data__.has(a)},cT.prototype.clear=function(){this.__data__=new cQ,this.size=0},cT.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},cT.prototype.get=function(a){return this.__data__.get(a)},cT.prototype.has=function(a){return this.__data__.has(a)},cT.prototype.set=function(a,b){var c=this.__data__;if(c instanceof cQ){var d=c.__data__;if(!cv||d.length<199)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new cR(d)}return c.set(a,b),this.size=c.size,this};var c8=en(dg),c9=en(dh,!0);function da(a,b){var c=!0;return c8(a,function(a,d,e){return c=!!b(a,d,e)}),c}function db(a,b,d){for(var e=-1,f=a.length;++e<f;){var g=a[e],h=b(g);if(null!=h&&(i===c?h==h&&!gM(h):d(h,i)))var i=h,j=g}return j}function dc(a,b){var c=[];return c8(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function dd(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=e3),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?dd(h,b-1,c,d,e):bM(e,h):d||(e[e.length]=h)}return e}var de=eo(),df=eo(!0);function dg(a,b){return a&&de(a,b,g7)}function dh(a,b){return a&&df(a,b,g7)}function di(a,b){return bI(b,function(b){return gB(a[b])})}function dj(a,b){b=d7(b,a);for(var d=0,e=b.length;null!=a&&d<e;)a=a[fr(b[d++])];return d&&d==e?a:c}function dk(a,b,c){var d=b(a);return gt(a)?d:bM(d,c(a))}function dl(a){return null==a?a===c?V:O:bq&&bq in aS(a)?eW(a):ff(a)}function dm(a,b){return a>b}function dn(a,b){return null!=a&&a_.call(a,b)}function dp(a,b){return null!=a&&b in aS(a)}function dq(a,b,d){for(var e=d?bK:bJ,f=a[0].length,g=a.length,h=g,i=aN(g),j=1/0,k=[];h--;){var l=a[h];h&&b&&(l=bL(l,b1(b))),j=cp(l.length,j),i[h]=!d&&(b||f>=120&&l.length>=120)?new cS(h&&l):c}l=a[0];var m=-1,n=i[0];n:for(;++m<f&&k.length<j;){var o=l[m],p=b?b(o):o;if(o=d||0!==o?o:0,!(n?b3(n,p):e(k,p,d))){for(h=g;--h;){var q=i[h];if(!(q?b3(q,p):e(a[h],p,d)))continue n}n&&n.push(p),k.push(o)}}return k}function dr(a,b,d){b=d7(b,a);var e=null==(a=fh(a,b))?a:a[fr(fF(b))];return null==e?c:bD(e,a,d)}function ds(a){return gF(a)&&dl(a)==F}function dt(a,b,c,d,e){return a===b||(null!=a&&null!=b&&(gF(a)||gF(b))?du(a,b,c,d,dt,e):a!=a&&b!=b)}function du(a,b,c,d,e,f){var g=gt(a),h=gt(b),i=g?G:eZ(a),k=h?G:eZ(b);i=i==F?P:i,k=k==F?P:k;var l=i==P,m=k==P,n=i==k;if(n&&gx(a)){if(!gx(b))return!1;g=!0,l=!1}if(n&&!l)return f||(f=new cT),g||gN(a)?eJ(a,b,c,d,e,f):eK(a,b,i,c,d,e,f);if(!(c&j)){var o=l&&a_.call(a,"__wrapped__"),p=m&&a_.call(b,"__wrapped__");if(o||p){var q=o?a.value():a,r=p?b.value():b;return f||(f=new cT),e(q,r,c,d,f)}}return!!n&&(f||(f=new cT),eL(a,b,c,d,e,f))}function dv(a,b,d,e){var f=d.length,g=f,h=!e;if(null==a)return!g;for(a=aS(a);f--;){var i=d[f];if(h&&i[2]?i[1]!==a[i[0]]:!(i[0]in a))return!1}for(;++f<g;){var l=(i=d[f])[0],m=a[l],n=i[1];if(h&&i[2]){if(m===c&&!(l in a))return!1}else{var o=new cT;if(e)var p=e(m,n,l,a,b,o);if(!(p===c?dt(n,m,j|k,e,o):p))return!1}}return!0}function dw(a){return!(!gE(a)||e9(a))&&(gB(a)?a5:aH).test(fs(a))}function dx(a){return"function"==typeof a?a:null==a?hx:"object"==typeof a?gt(a)?dC(a[0],a[1]):dB(a):hG(a)}function dy(a){if(!fb(a))return cn(a);var b=[];for(var c in aS(a))a_.call(a,c)&&"constructor"!=c&&b.push(c);return b}function dz(a,b){return a<b}function dA(a,b){var c=-1,d=gv(a)?aN(a.length):[];return c8(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function dB(a){var b=eU(a);return 1==b.length&&b[0][2]?fd(b[0][0],b[0][1]):function(c){return c===a||dv(c,a,b)}}function dC(a,b){return e6(a)&&fc(b)?fd(fr(a),b):function(d){var e=g2(d,a);return e===c&&e===b?g3(d,a):dt(b,e,j|k)}}function dD(a,b,d,e,f){a!==b&&de(b,function(g,h){if(f||(f=new cT),gE(g))dE(a,b,h,d,dD,e,f);else{var i=e?e(fj(a,h),g,h+"",a,b,f):c;i===c&&(i=g),cY(a,h,i)}},g8)}function dE(a,b,d,e,f,g,h){var i=fj(a,d),j=fj(b,d),k=h.get(j);if(k){cY(a,d,k);return}var l=g?g(i,j,d+"",a,b,h):c,m=l===c;if(m){var n=gt(j),o=!n&&gx(j),p=!n&&!o&&gN(j);l=j,n||o||p?gt(i)?l=i:gw(i)?l=eh(i):o?(m=!1,l=ea(j,!0)):p?(m=!1,l=ec(j,!0)):l=[]:gI(j)||gs(j)?(l=i,gs(i)?l=gV(i):(!gE(i)||gB(i))&&(l=e1(j))):m=!1}m&&(h.set(j,l),f(l,j,e,g,h),h.delete(j)),cY(a,d,l)}function dF(a,b){var d=a.length;if(d)return e4(b+=b<0?d:0,d)?a[b]:c}function dG(a,b,c){b=b.length?bL(b,function(a){return gt(a)?function(b){return dj(b,1===a.length?a[0]:a)}:a}):[hx];var d=-1;return b=bL(b,b1(eS())),function(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}(dA(a,function(a,c,e){return{criteria:bL(b,function(b){return b(a)}),index:++d,value:a}}),function(a,b){return ee(a,b,c)})}function dH(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=dj(a,g);c(h,g)&&dP(f,d7(g,a),h)}return f}function dI(a,b,c,d){var e=d?bU:bT,f=-1,g=b.length,h=a;for(a===b&&(b=eh(b)),c&&(h=bL(a,b1(c)));++f<g;)for(var i=0,j=b[f],k=c?c(j):j;(i=e(h,k,i,d))> -1;)h!==a&&bg.call(h,i,1),bg.call(a,i,1);return a}function dJ(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;e4(e)?bg.call(a,e,1):d_(a,e)}}return a}function dK(a,b){return a+bY(cs()*(b-a+1))}function dL(a,b){var c="";if(!a||b<1||b>z)return c;do b%2&&(c+=a),(b=bY(b/2))&&(a+=a);while(b);return c}function dM(a,b){return fm(fg(a,b,hx),a+"")}function dN(a){return cV(hg(a))}function dO(a,b){var c=hg(a);return fp(c,c3(b,0,c.length))}function dP(a,b,d,e){if(!gE(a))return a;b=d7(b,a);for(var f=-1,g=b.length,h=g-1,i=a;null!=i&& ++f<g;){var j=fr(b[f]),k=d;if("__proto__"===j||"constructor"===j||"prototype"===j)break;if(f!=h){var l=i[j];(k=e?e(l,j,i):c)===c&&(k=gE(l)?l:e4(b[f+1])?[]:{})}cZ(i,j,k),i=i[j]}return a}var dQ=cA?function(a,b){return cA.set(a,b),a}:hx,dR=bs?function(a,b){return bs(a,"toString",{configurable:!0,enumerable:!1,value:hu(b),writable:!0})}:hx;function dS(a){return fp(hg(a))}function dT(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),(c=c>e?e:c)<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=aN(e);++d<e;)f[d]=a[d+b];return f}function dU(a,b){var c;return c8(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}function dV(a,b,c){var d=0,e=null==a?d:a.length;if("number"==typeof b&&b==b&&e<=D){for(;d<e;){var f=d+e>>>1,g=a[f];null!==g&&!gM(g)&&(c?g<=b:g<b)?d=f+1:e=f}return e}return dW(a,b,hx,c)}function dW(a,b,d,e){var f=0,g=null==a?0:a.length;if(0===g)return 0;b=d(b);for(var h=b!=b,i=null===b,j=gM(b),k=b===c;f<g;){var l=bY((f+g)/2),m=d(a[l]),n=m!==c,o=null===m,p=m==m,q=gM(m);if(h)var r=e||p;else r=k?p&&(e||n):i?p&&n&&(e||!o):j?p&&n&&!o&&(e||!q):!o&&!q&&(e?m<=b:m<b);r?f=l+1:g=l}return cp(g,C)}function dX(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!gp(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function dY(a){return"number"==typeof a?a:gM(a)?A:+a}function dZ(a){if("string"==typeof a)return a;if(gt(a))return bL(a,dZ)+"";if(gM(a))return cJ?cJ.call(a):"";var b=a+"";return"0"==b&&1/a== -y?"-0":b}function d$(a,b,c){var d=-1,e=bJ,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=bK;else if(f>=200){var j=b?null:eD(a);if(j)return cd(j);g=!1,e=b3,i=new cS}else i=b?[]:h;n:for(;++d<f;){var k=a[d],l=b?b(k):k;if(k=c||0!==k?k:0,g&&l==l){for(var m=i.length;m--;)if(i[m]===l)continue n;b&&i.push(l),h.push(k)}else e(i,l,c)||(i!==h&&i.push(l),h.push(k))}return h}function d_(a,b){return b=d7(b,a),null==(a=fh(a,b))||delete a[fr(fF(b))]}function d0(a,b,c,d){return dP(a,b,c(dj(a,b)),d)}function d1(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?dT(a,d?0:f,d?f+1:e):dT(a,d?f+1:0,d?e:f)}function d2(a,b){var c=a;return c instanceof cO&&(c=c.value()),bN(b,function(a,b){return b.func.apply(b.thisArg,bM([a],b.args))},c)}function d3(a,b,c){var d=a.length;if(d<2)return d?d$(a[0]):[];for(var e=-1,f=aN(d);++e<d;)for(var g=a[e],h=-1;++h<d;)h!=e&&(f[e]=c7(f[e]||g,a[h],b,c));return d$(dd(f,1),b,c)}function d4(a,b,d){for(var e=-1,f=a.length,g=b.length,h={};++e<f;){var i=e<g?b[e]:c;d(h,a[e],i)}return h}function d5(a){return gw(a)?a:[]}function d6(a){return"function"==typeof a?a:hx}function d7(a,b){return gt(a)?a:e6(a,b)?[a]:fq(gW(a))}function d8(a,b,d){var e=a.length;return d=d===c?e:d,!b&&d>=e?a:dT(a,b,d)}var d9=bt||function(a){return br.clearTimeout(a)};function ea(a,b){if(b)return a.slice();var c=a.length,d=a9?a9(c):new a.constructor(c);return a.copy(d),d}function eb(a){var b=new a.constructor(a.byteLength);return new a8(b).set(new a8(a)),b}function ec(a,b){var c=b?eb(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function ed(a,b){if(a!==b){var d=a!==c,e=null===a,f=a==a,g=gM(a),h=b!==c,i=null===b,j=b==b,k=gM(b);if(!i&&!k&&!g&&a>b||g&&h&&j&&!i&&!k||e&&h&&j|| !d&&j||!f)return 1;if(!e&&!g&&!k&&a<b||k&&d&&f&&!e&&!g||i&&d&&f|| !h&&f||!j)return -1}return 0}function ee(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=ed(e[d],f[d]);if(i){if(d>=h)return i;return i*("desc"==c[d]?-1:1)}}return a.index-b.index}function ef(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=co(f-g,0),k=aN(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||e<f)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function eg(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=co(f-h,0),l=aN(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||e<f)&&(l[n+c[g]]=a[e++]);return l}function eh(a,b){var c=-1,d=a.length;for(b||(b=aN(d));++c<d;)b[c]=a[c];return b}function ei(a,b,d,e){var f=!d;d||(d={});for(var g=-1,h=b.length;++g<h;){var i=b[g],j=e?e(d[i],a[i],i,d,a):c;j===c&&(j=a[i]),f?c1(d,i,j):cZ(d,i,j)}return d}function ej(a,b){return ei(a,eX(a),b)}function ek(a,b){return ei(a,eY(a),b)}function el(a,b){return function(c,d){var e=gt(c)?bE:c_,f=b?b():{};return e(c,a,eS(d,2),f)}}function em(a){return dM(function(b,d){var e=-1,f=d.length,g=f>1?d[f-1]:c,h=f>2?d[2]:c;for(g=a.length>3&&"function"==typeof g?(f--,g):c,h&&e5(d[0],d[1],h)&&(g=f<3?c:g,f=1),b=aS(b);++e<f;){var i=d[e];i&&a(b,i,e,g)}return b})}function en(a,b){return function(c,d){if(null==c)return c;if(!gv(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=aS(c);(b?f--:++f<e)&& !1!==d(g[f],f,g););return c}}function eo(a){return function(b,c,d){for(var e=-1,f=aS(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}function ep(a){return function(b){b=gW(b);var d=b9(b)?cg(b):c,e=d?d[0]:b.charAt(0),f=d?d8(d,1).join(""):b.slice(1);return e[a]()+f}}function eq(a){return function(b){return bN(hr(hj(b).replace(bc,"")),a,"")}}function er(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=cL(a.prototype),d=a.apply(c,b);return gE(d)?d:c}}function es(a){return function(b,d,e){var f=aS(b);if(!gv(b)){var g=eS(d,3);b=g7(b),d=function(a){return g(f[a],a,f)}}var h=a(b,d,e);return h> -1?f[g?b[h]:h]:c}}function et(a){return eM(function(b){var e=b.length,f=e,g=cN.prototype.thru;for(a&&b.reverse();f--;){var h=b[f];if("function"!=typeof h)throw new aV(d);if(g&&!i&&"wrapper"==eQ(h))var i=new cN([],!0)}for(f=i?f:e;++f<e;){var j=eQ(h=b[f]),k="wrapper"==j?eP(h):c;i=k&&e8(k[0])&&k[1]==(s|o|q|t)&&!k[4].length&&1==k[9]?i[eQ(k[0])].apply(i,k[3]):1==h.length&&e8(h)?i[j]():i.thru(h)}return function(){var a=arguments,c=a[0];if(i&&1==a.length&&gt(c))return i.plant(c).value();for(var d=0,f=e?b[d].apply(this,a):c;++d<e;)f=b[d].call(this,f);return f}})}function eu(a,b,d,e,f,g,h,i,j,k){var n=b&s,q=b&l,r=b&m,t=b&(o|p),v=b&u,w=r?c:er(a);function x(){for(var c=arguments.length,l=aN(c),m=c;m--;)l[m]=arguments[m];if(t)var o=eR(x),p=function a(b,c){for(var d=b.length,e=0;d--;)b[d]===c&& ++e;return e}(l,o);if(e&&(l=ef(l,e,f,t)),g&&(l=eg(l,g,h,t)),c-=p,t&&c<k){var s=cc(l,o);return eB(a,b,eu,x.placeholder,d,l,s,i,j,k-c)}var u=q?d:this,y=r?u[a]:a;return c=l.length,i?l=fi(l,i):v&&c>1&&l.reverse(),n&&j<c&&(l.length=j),this&&this!==br&&this instanceof x&&(y=w||er(y)),y.apply(u,l)}return x}function ev(a,b){return function(c,d){var e,f,g,h;return e=c,f=a,g=b(d),h={},dg(e,function(a,b,c){f(h,g(a),b,c)}),h}}function ew(a,b){return function(d,e){var f;if(d===c&&e===c)return b;if(d!==c&&(f=d),e!==c){if(f===c)return e;"string"==typeof d||"string"==typeof e?(d=dZ(d),e=dZ(e)):(d=dY(d),e=dY(e)),f=a(d,e)}return f}}function ex(a){return eM(function(b){return b=bL(b,b1(eS())),dM(function(c){var d=this;return a(b,function(a){return bD(a,d,c)})})})}function ey(a,b){var d=(b=b===c?" ":dZ(b)).length;if(d<2)return d?dL(b,a):b;var e=dL(b,bQ(a/cf(b)));return b9(b)?d8(cg(e),0,a).join(""):e.slice(0,a)}function ez(a){return function(b,d,e){return e&&"number"!=typeof e&&e5(b,d,e)&&(d=e=c),b=gR(b),d===c?(d=b,b=0):d=gR(d),e=e===c?b<d?1:-1:gR(e),function(a,b,c,d){for(var e=-1,f=co(bQ((b-a)/(c||1)),0),g=aN(f);f--;)g[d?f:++e]=a,a+=c;return g}(b,d,e,a)}}function eA(a){return function(b,c){return"string"==typeof b&&"string"==typeof c||(b=gU(b),c=gU(c)),a(b,c)}}function eB(a,b,d,e,f,g,h,i,j,k){var p=b&o,s=p?h:c,t=p?c:h,u=p?g:c,v=p?c:g;b|=p?q:r,(b&=~(p?r:q))&n||(b&=~(l|m));var w=[a,b,f,u,s,v,t,i,j,k],x=d.apply(c,w);return e8(a)&&fk(x,w),x.placeholder=e,fn(x,a,b)}function eC(a){var b=aR[a];return function(a,c){if(a=gU(a),(c=null==c?0:cp(gS(c),292))&&ck(a)){var d=(gW(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));return+((d=(gW(e)+"e").split("e"))[0]+"e"+(+d[1]-c))}return b(a)}}var eD=cx&&1/cd(new cx([,-0]))[1]==y?function(a){return new cx(a)}:hC;function eE(a){return function(b){var c,d,e,f,g,h=eZ(b);return h==M?ca(b):h==S?(d=-1,e=Array((c=b).size),c.forEach(function(a){e[++d]=[a,a]}),e):(f=b,g=a(b),bL(g,function(a){return[a,f[a]]}))}}function eF(a,b,e,f,g,h,i,j){var k=b&m;if(!k&&"function"!=typeof a)throw new aV(d);var n=f?f.length:0;if(n||(b&=~(q|r),f=g=c),i=i===c?i:co(gS(i),0),j=j===c?j:gS(j),n-=g?g.length:0,b&r){var s=f,t=g;f=g=c}var u=k?c:eP(a),v=[a,b,e,f,g,s,t,h,i,j];if(u&&fe(v,u),a=v[0],b=v[1],e=v[2],f=v[3],g=v[4],j=v[9]=v[9]===c?k?0:a.length:co(v[9]-n,0),!j&&b&(o|p)&&(b&=~(o|p)),b&&b!=l)w=b==o||b==p?function(a,b,d){var e=er(a);function f(){for(var g=arguments.length,h=aN(g),i=g,j=eR(f);i--;)h[i]=arguments[i];var k=g<3&&h[0]!==j&&h[g-1]!==j?[]:cc(h,j);if((g-=k.length)<d)return eB(a,b,eu,f.placeholder,c,h,k,c,c,d-g);var l=this&&this!==br&&this instanceof f?e:a;return bD(l,this,h)}return f}(a,b,j):b!=q&&b!=(l|q)||g.length?eu.apply(c,v):function(a,b,c,d){var e=b&l,f=er(a);function g(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=aN(j+h),l=this&&this!==br&&this instanceof g?f:a;++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];return bD(l,e?c:this,k)}return g}(a,b,e,f);else var w=function(a,b,c){var d=b&l,e=er(a);function f(){return(this&&this!==br&&this instanceof f?e:a).apply(d?c:this,arguments)}return f}(a,b,e);var x=u?dQ:fk;return fn(x(w,v),a,b)}function eG(a,b,d,e){return a===c||gp(a,aY[d])&&!a_.call(e,d)?b:a}function eH(a,b,d,e,f,g){return gE(a)&&gE(b)&&(g.set(b,a),dD(a,b,c,eH,g),g.delete(b)),a}function eI(a){return gI(a)?c:a}function eJ(a,b,d,e,f,g){var h=d&j,i=a.length,l=b.length;if(i!=l&&!(h&&l>i))return!1;var m=g.get(a),n=g.get(b);if(m&&n)return m==b&&n==a;var o=-1,p=!0,q=d&k?new cS:c;for(g.set(a,b),g.set(b,a);++o<i;){var r=a[o],s=b[o];if(e)var t=h?e(s,r,o,b,a,g):e(r,s,o,a,b,g);if(t!==c){if(t)continue;p=!1;break}if(q){if(!bP(b,function(a,b){if(!b3(q,b)&&(r===a||f(r,a,d,e,g)))return q.push(b)})){p=!1;break}}else if(!(r===s||f(r,s,d,e,g))){p=!1;break}}return g.delete(a),g.delete(b),p}function eK(a,b,c,d,e,f,g){switch(c){case Y:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case X:return!(a.byteLength!=b.byteLength||!f(new a8(a),new a8(b)));case H:case I:case N:return gp(+a,+b);case J:return a.name==b.name&&a.message==b.message;case R:case T:return a==b+"";case M:var h=ca;case S:var i=d&j;if(h||(h=cd),a.size!=b.size&&!i)break;var l=g.get(a);if(l)return l==b;d|=k,g.set(a,b);var m=eJ(h(a),h(b),d,e,f,g);return g.delete(a),m;case U:if(cI)return cI.call(a)==cI.call(b)}return!1}function eL(a,b,d,e,f,g){var h=d&j,i=eN(a),k=i.length,l=eN(b).length;if(k!=l&&!h)return!1;for(var m=k;m--;){var n=i[m];if(!(h?n in b:a_.call(b,n)))return!1}var o=g.get(a),p=g.get(b);if(o&&p)return o==b&&p==a;var q=!0;g.set(a,b),g.set(b,a);for(var r=h;++m<k;){var s=a[n=i[m]],t=b[n];if(e)var u=h?e(t,s,n,b,a,g):e(s,t,n,a,b,g);if(!(u===c?s===t||f(s,t,d,e,g):u)){q=!1;break}r||(r="constructor"==n)}if(q&&!r){var v=a.constructor,w=b.constructor;v!=w&&"constructor"in a&&"constructor"in b&&!("function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w)&&(q=!1)}return g.delete(a),g.delete(b),q}function eM(a){return fm(fg(a,c,fA),a+"")}function eN(a){return dk(a,g7,eX)}function eO(a){return dk(a,g8,eY)}var eP=cA?function(a){return cA.get(a)}:hC;function eQ(a){for(var b=a.name+"",c=cB[b],d=a_.call(cB,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function eR(a){return(a_.call(cK,"placeholder")?cK:a).placeholder}function eS(){var a=cK.iteratee||hy;return a=a===hy?dx:a,arguments.length?a(arguments[0],arguments[1]):a}function eT(a,b){var c=a.__data__;return e7(b)?c["string"==typeof b?"string":"hash"]:c.map}function eU(a){for(var b=g7(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,fc(e)]}return b}function eV(a,b){var d,e,f=(d=a,e=b,null==d?c:d[e]);return dw(f)?f:c}function eW(a){var b=a_.call(a,bq),d=a[bq];try{a[bq]=c;var e=!0}catch{}var f=a2.call(a);return e&&(b?a[bq]=d:delete a[bq]),f}var eX=ce?function(a){return null==a?[]:(a=aS(a),bI(ce(a),function(b){return be.call(a,b)}))}:hJ,eY=ce?function(a){for(var b=[];a;)bM(b,eX(a)),a=ba(a);return b}:hJ,eZ=dl;function e$(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=cp(b,a+g);break;case"takeRight":a=co(a,b-g)}}return{start:a,end:b}}function e_(a,b,c){b=d7(b,a);for(var d=-1,e=b.length,f=!1;++d<e;){var g=fr(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f|| ++d!=e?f:!!(e=null==a?0:a.length)&&gD(e)&&e4(g,e)&&(gt(a)||gs(a))}function e0(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&a_.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function e1(a){return"function"!=typeof a.constructor||fb(a)?{}:cL(ba(a))}function e2(a,b,c){var d,e,f,g,h,i,j=a.constructor;switch(b){case X:return eb(a);case H:case I:return new j(+a);case Y:return d=a,f=(e=c)?eb(d.buffer):d.buffer,new d.constructor(f,d.byteOffset,d.byteLength);case Z:case $:case _:case aa:case ab:case ac:case ad:case ae:case af:return ec(a,c);case M:return new j;case N:case T:return new j(a);case R:return(h=new(g=a).constructor(g.source,aE.exec(g))).lastIndex=g.lastIndex,h;case S:return new j;case U:return i=a,cI?aS(cI.call(i)):{}}}function e3(a){return gt(a)||gs(a)||!!(bm&&a&&a[bm])}function e4(a,b){var c=typeof a;return!!(b=b??z)&&("number"==c||"symbol"!=c&&aJ.test(a))&&a> -1&&a%1==0&&a<b}function e5(a,b,c){if(!gE(c))return!1;var d=typeof b;return("number"==d?!!(gv(c)&&e4(b,c.length)):"string"==d&&b in c)&&gp(c[b],a)}function e6(a,b){if(gt(a))return!1;var c=typeof a;return!!("number"==c||"symbol"==c||"boolean"==c||null==a||gM(a))||ar.test(a)||!aq.test(a)||null!=b&&a in aS(b)}function e7(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function e8(a){var b=eQ(a),c=cK[b];if("function"!=typeof c||!(b in cO.prototype))return!1;if(a===c)return!0;var d=eP(c);return!!d&&a===d[0]}function e9(a){return!!a1&&a1 in a}(cu&&eZ(new cu(new ArrayBuffer(1)))!=Y||cv&&eZ(new cv)!=M||cw&&eZ(cw.resolve())!=Q||cx&&eZ(new cx)!=S||cy&&eZ(new cy)!=W)&&(eZ=function(a){var b=dl(a),d=b==P?a.constructor:c,e=d?fs(d):"";if(e)switch(e){case cC:return Y;case cD:return M;case cE:return Q;case cF:return S;case cG:return W}return b});var fa=aZ?gB:hK;function fb(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||aY;return a===c}function fc(a){return a==a&&!gE(a)}function fd(a,b){return function(d){return null!=d&&d[a]===b&&(b!==c||a in aS(d))}}function fe(a,b){var c=a[1],d=b[1],e=c|d,g=e<(l|m|s),h=d==s&&c==o||d==s&&c==t&&a[7].length<=b[8]||d==(s|t)&&b[7].length<=b[8]&&c==o;if(!(g||h))return a;d&l&&(a[2]=b[2],e|=c&l?0:n);var i=b[3];if(i){var j=a[3];a[3]=j?ef(j,i,b[4]):i,a[4]=j?cc(a[3],f):b[4]}return(i=b[5])&&(j=a[5],a[5]=j?eg(j,i,b[6]):i,a[6]=j?cc(a[5],f):b[6]),(i=b[7])&&(a[7]=i),d&s&&(a[8]=null==a[8]?b[8]:cp(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ff(a){return a2.call(a)}function fg(a,b,d){return b=co(b===c?a.length-1:b,0),function(){for(var c=arguments,e=-1,f=co(c.length-b,0),g=aN(f);++e<f;)g[e]=c[b+e];e=-1;for(var h=aN(b+1);++e<b;)h[e]=c[e];return h[b]=d(g),bD(a,this,h)}}function fh(a,b){return b.length<2?a:dj(a,dT(b,0,-1))}function fi(a,b){for(var d=a.length,e=cp(b.length,d),f=eh(a);e--;){var g=b[e];a[e]=e4(g,d)?f[g]:c}return a}function fj(a,b){if(!("constructor"===b&&"function"==typeof a[b])&&"__proto__"!=b)return a[b]}var fk=fo(dQ),fl=bw||function(a,b){return br.setTimeout(a,b)},fm=fo(dR);function fn(a,b,c){var d,e,f=b+"";return fm(a,function(a,b){var c=b.length;if(!c)return a;var d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(ax,`{
/* [wrapped with `+b+`] */
`)}(f,ft((e=(d=f).match(ay))?e[1].split(az):[],c)))}function fo(a){var b=0,d=0;return function(){var e=cq(),f=x-(e-d);if(d=e,f>0){if(++b>=800)return arguments[0]}else b=0;return a.apply(c,arguments)}}function fp(a,b){var d=-1,e=a.length,f=e-1;for(b=b===c?e:b;++d<b;){var g=dK(d,f),h=a[g];a[g]=a[d],a[d]=h}return a.length=b,a}var fq=function(a){var b=gj(a,function(a){return 500===c.size&&c.clear(),a}),c=b.cache;return b}(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(as,function(a,c,d,e){b.push(d?e.replace(aC,"$1"):c||a)}),b});function fr(a){if("string"==typeof a||gM(a))return a;var b=a+"";return"0"==b&&1/a== -y?"-0":b}function fs(a){if(null!=a){try{return a$.call(a)}catch{}try{return a+""}catch{}}return""}function ft(a,b){return bF(E,function(c){var d="_."+c[0];b&c[1]&&!bJ(a,d)&&a.push(d)}),a.sort()}function fu(a){if(a instanceof cO)return a.clone();var b=new cN(a.__wrapped__,a.__chain__);return b.__actions__=eh(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}var fv=dM(function(a,b){return gw(a)?c7(a,dd(b,1,gw,!0)):[]}),fw=dM(function(a,b){var d=fF(b);return gw(d)&&(d=c),gw(a)?c7(a,dd(b,1,gw,!0),eS(d,2)):[]}),fx=dM(function(a,b){var d=fF(b);return gw(d)&&(d=c),gw(a)?c7(a,dd(b,1,gw,!0),c,d):[]});function fy(a,b,c){var d=null==a?0:a.length;if(!d)return -1;var e=null==c?0:gS(c);return e<0&&(e=co(d+e,0)),bS(a,eS(b,3),e)}function fz(a,b,d){var e=null==a?0:a.length;if(!e)return -1;var f=e-1;return d!==c&&(f=gS(d),f=d<0?co(e+f,0):cp(f,e-1)),bS(a,eS(b,3),f,!0)}function fA(a){return(null==a?0:a.length)?dd(a,1):[]}function fB(a){return a&&a.length?a[0]:c}var fC=dM(function(a){var b=bL(a,d5);return b.length&&b[0]===a[0]?dq(b):[]}),fD=dM(function(a){var b=fF(a),d=bL(a,d5);return b===fF(d)?b=c:d.pop(),d.length&&d[0]===a[0]?dq(d,eS(b,2)):[]}),fE=dM(function(a){var b=fF(a),d=bL(a,d5);return(b="function"==typeof b?b:c)&&d.pop(),d.length&&d[0]===a[0]?dq(d,c,b):[]});function fF(a){var b=null==a?0:a.length;return b?a[b-1]:c}var fG=dM(fH);function fH(a,b){return a&&a.length&&b&&b.length?dI(a,b):a}var fI=eM(function(a,b){var c=null==a?0:a.length,d=c2(a,b);return dJ(a,bL(b,function(a){return e4(a,c)?+a:a}).sort(ed)),d});function fJ(a){return null==a?a:ct.call(a)}function fK(a,b){return dV(a,b)}var fL=dM(function(a){return d$(dd(a,1,gw,!0))}),fM=dM(function(a){var b=fF(a);return gw(b)&&(b=c),d$(dd(a,1,gw,!0),eS(b,2))}),fN=dM(function(a){var b=fF(a);return b="function"==typeof b?b:c,d$(dd(a,1,gw,!0),c,b)});function fO(a){if(!(a&&a.length))return[];var b=0;return a=bI(a,function(a){if(gw(a))return b=co(a.length,b),!0}),b_(b,function(b){return bL(a,bX(b))})}function fP(a,b){if(!(a&&a.length))return[];var d=fO(a);return null==b?d:bL(d,function(a){return bD(b,c,a)})}var fQ=dM(function(a,b){return gw(a)?c7(a,b):[]}),fR=dM(function(a){return d3(bI(a,gw))}),fS=dM(function(a){var b=fF(a);return gw(b)&&(b=c),d3(bI(a,gw),eS(b,2))}),fT=dM(function(a){var b=fF(a);return b="function"==typeof b?b:c,d3(bI(a,gw),c,b)}),fU=dM(fO),fV=dM(function(a){var b=a.length,d=b>1?a[b-1]:c;return d="function"==typeof d?(a.pop(),d):c,fP(a,d)});function fW(a){var b=cK(a);return b.__chain__=!0,b}function fX(a,b){return b(a),a}function fY(a,b){return b(a)}var fZ=eM(function(a){var b=a.length,d=b?a[0]:0,e=this.__wrapped__,f=function(b){return c2(b,a)};return!(b>1)&&!this.__actions__.length&&e instanceof cO&&e4(d)?((e=e.slice(d,+d+(b?1:0))).__actions__.push({func:fY,args:[f],thisArg:c}),new cN(e,this.__chain__).thru(function(a){return b&&!a.length&&a.push(c),a})):this.thru(f)}),f$=el(function(a,b,c){a_.call(a,c)?++a[c]:c1(a,c,1)}),f_=es(fy),f0=es(fz);function f1(a,b){return(gt(a)?bF:c8)(a,eS(b,3))}function f2(a,b){return(gt(a)?bG:c9)(a,eS(b,3))}var f3=el(function(a,b,c){a_.call(a,c)?a[c].push(b):c1(a,c,[b])}),f4=dM(function(a,b,c){var d=-1,e="function"==typeof b,f=gv(a)?aN(a.length):[];return c8(a,function(a){f[++d]=e?bD(b,a,c):dr(a,b,c)}),f}),f5=el(function(a,b,c){c1(a,c,b)});function f6(a,b){return(gt(a)?bL:dA)(a,eS(b,3))}var f7=el(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),f8=dM(function(a,b){if(null==a)return[];var c=b.length;return c>1&&e5(a,b[0],b[1])?b=[]:c>2&&e5(b[0],b[1],b[2])&&(b=[b[0]]),dG(a,dd(b,1),[])}),f9=bv||function(){return br.Date.now()};function ga(a,b,d){return b=d?c:b,b=a&&null==b?a.length:b,eF(a,s,c,c,c,c,b)}function gb(a,b){var e;if("function"!=typeof b)throw new aV(d);return a=gS(a),function(){return--a>0&&(e=b.apply(this,arguments)),a<=1&&(b=c),e}}var gc=dM(function(a,b,c){var d=l;if(c.length){var e=cc(c,eR(gc));d|=q}return eF(a,d,b,c,e)}),gd=dM(function(a,b,c){var d=l|m;if(c.length){var e=cc(c,eR(gd));d|=q}return eF(b,d,a,c,e)});function ge(a,b,d){b=d?c:b;var e=eF(a,o,c,c,c,c,c,b);return e.placeholder=ge.placeholder,e}function gf(a,b,d){b=d?c:b;var e=eF(a,p,c,c,c,c,c,b);return e.placeholder=gf.placeholder,e}function gg(a,b,e){var f,g,h,i,j,k,l=0,m=!1,n=!1,o=!0;if("function"!=typeof a)throw new aV(d);function p(b){var d=f,e=g;return f=g=c,l=b,i=a.apply(e,d)}function q(a){var d=a-k,e=a-l;return k===c||d>=b||d<0||n&&e>=h}function r(){var a,c,d,e,f=f9();if(q(f))return s(f);j=fl(r,(c=(a=f)-k,d=a-l,e=b-c,n?cp(e,h-d):e))}function s(a){return j=c,o&&f?p(a):(f=g=c,i)}function t(){var a,d=f9(),e=q(d);if(f=arguments,g=this,k=d,e){if(j===c)return l=a=k,j=fl(r,b),m?p(a):i;if(n)return d9(j),j=fl(r,b),p(k)}return j===c&&(j=fl(r,b)),i}return b=gU(b)||0,gE(e)&&(m=!!e.leading,n="maxWait"in e,h=n?co(gU(e.maxWait)||0,b):h,o="trailing"in e?!!e.trailing:o),t.cancel=function(){j!==c&&d9(j),l=0,f=k=g=j=c},t.flush=function(){return j===c?i:s(f9())},t}var gh=dM(function(a,b){return c6(a,1,b)}),gi=dM(function(a,b,c){return c6(a,gU(b)||0,c)});function gj(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new aV(d);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(gj.Cache||cR),c}function gk(a){if("function"!=typeof a)throw new aV(d);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}gj.Cache=cR;var gl=dM(function(a,b){var c=(b=1==b.length&&gt(b[0])?bL(b[0],b1(eS())):bL(dd(b,1),b1(eS()))).length;return dM(function(d){for(var e=-1,f=cp(d.length,c);++e<f;)d[e]=b[e].call(this,d[e]);return bD(a,this,d)})}),gm=dM(function(a,b){var d=cc(b,eR(gm));return eF(a,q,c,b,d)}),gn=dM(function(a,b){var d=cc(b,eR(gn));return eF(a,r,c,b,d)}),go=eM(function(a,b){return eF(a,t,c,c,c,b)});function gp(a,b){return a===b||a!=a&&b!=b}var gq=eA(dm),gr=eA(function(a,b){return a>=b}),gs=ds(function(){return arguments}())?ds:function(a){return gF(a)&&a_.call(a,"callee")&&!be.call(a,"callee")},gt=aN.isArray,gu=bx?b1(bx):function(a){return gF(a)&&dl(a)==X};function gv(a){return null!=a&&gD(a.length)&&!gB(a)}function gw(a){return gF(a)&&gv(a)}var gx=cj||hK,gy=by?b1(by):function(a){return gF(a)&&dl(a)==I};function gz(a,b){return dt(a,b)}function gA(a){if(!gF(a))return!1;var b=dl(a);return b==J||"[object DOMException]"==b||"string"==typeof a.message&&"string"==typeof a.name&&!gI(a)}function gB(a){if(!gE(a))return!1;var b=dl(a);return b==K||b==L||"[object AsyncFunction]"==b||"[object Proxy]"==b}function gC(a){return"number"==typeof a&&a==gS(a)}function gD(a){return"number"==typeof a&&a> -1&&a%1==0&&a<=z}function gE(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function gF(a){return null!=a&&"object"==typeof a}var gG=bz?b1(bz):function(a){return gF(a)&&eZ(a)==M};function gH(a){return"number"==typeof a||gF(a)&&dl(a)==N}function gI(a){if(!gF(a)||dl(a)!=P)return!1;var b=ba(a);if(null===b)return!0;var c=a_.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&a$.call(c)==a3}var gJ=bA?b1(bA):function(a){return gF(a)&&dl(a)==R},gK=bB?b1(bB):function(a){return gF(a)&&eZ(a)==S};function gL(a){return"string"==typeof a|| !gt(a)&&gF(a)&&dl(a)==T}function gM(a){return"symbol"==typeof a||gF(a)&&dl(a)==U}var gN=bC?b1(bC):function(a){return gF(a)&&gD(a.length)&&!!bk[dl(a)]},gO=eA(dz),gP=eA(function(a,b){return a<=b});function gQ(a){if(!a)return[];if(gv(a))return gL(a)?cg(a):eh(a);if(bp&&a[bp])return function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}(a[bp]());var b=eZ(a);return(b==M?ca:b==S?cd:hg)(a)}function gR(a){return a?(a=gU(a))===y||a=== -y?(a<0?-1:1)*17976931348623157e292:a==a?a:0:0===a?a:0}function gS(a){var b=gR(a),c=b%1;return b==b?c?b-c:b:0}function gT(a){return a?c3(gS(a),0,B):0}function gU(a){if("number"==typeof a)return a;if(gM(a))return A;if(gE(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=gE(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=b0(a);var c=aG.test(a);return c||aI.test(a)?bo(a.slice(2),c?2:8):aF.test(a)?A:+a}function gV(a){return ei(a,g8(a))}function gW(a){return null==a?"":dZ(a)}var gX=em(function(a,b){if(fb(b)||gv(b)){ei(b,g7(b),a);return}for(var c in b)a_.call(b,c)&&cZ(a,c,b[c])}),gY=em(function(a,b){ei(b,g8(b),a)}),gZ=em(function(a,b,c,d){ei(b,g8(b),a,d)}),g$=em(function(a,b,c,d){ei(b,g7(b),a,d)}),g_=eM(c2),g0=dM(function(a,b){a=aS(a);var d=-1,e=b.length,f=e>2?b[2]:c;for(f&&e5(b[0],b[1],f)&&(e=1);++d<e;)for(var g=b[d],h=g8(g),i=-1,j=h.length;++i<j;){var k=h[i],l=a[k];(l===c||gp(l,aY[k])&&!a_.call(a,k))&&(a[k]=g[k])}return a}),g1=dM(function(a){return a.push(c,eH),bD(ha,c,a)});function g2(a,b,d){var e=null==a?c:dj(a,b);return e===c?d:e}function g3(a,b){return null!=a&&e_(a,b,dp)}var g4=ev(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=a2.call(b)),a[b]=c},hu(hx)),g5=ev(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=a2.call(b)),a_.call(a,b)?a[b].push(c):a[b]=[c]},eS),g6=dM(dr);function g7(a){return gv(a)?cU(a):dy(a)}function g8(a){return gv(a)?cU(a,!0):function(a){if(!gE(a))return function a(b){var c=[];if(null!=b)for(var d in aS(b))c.push(d);return c}(a);var b=fb(a),c=[];for(var d in a)"constructor"==d&&(b||!a_.call(a,d))||c.push(d);return c}(a)}var g9=em(function(a,b,c){dD(a,b,c)}),ha=em(function(a,b,c,d){dD(a,b,c,d)}),hb=eM(function(a,b){var c={};if(null==a)return c;var d=!1;b=bL(b,function(b){return b=d7(b,a),d||(d=b.length>1),b}),ei(a,eO(a),c),d&&(c=c4(c,g|h|i,eI));for(var e=b.length;e--;)d_(c,b[e]);return c}),hc=eM(function(a,b){var c,d;return null==a?{}:(c=a,dH(c,d=b,function(a,b){return g3(c,b)}))});function hd(a,b){if(null==a)return{};var c=bL(eO(a),function(a){return[a]});return b=eS(b),dH(a,c,function(a,c){return b(a,c[0])})}var he=eE(g7),hf=eE(g8);function hg(a){return null==a?[]:b2(a,g7(a))}var hh=eq(function(a,b,c){return b=b.toLowerCase(),a+(c?hi(b):b)});function hi(a){return hq(gW(a).toLowerCase())}function hj(a){return(a=gW(a))&&a.replace(aK,b6).replace(bd,"")}var hk=eq(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),hl=eq(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),hm=ep("toLowerCase"),hn=eq(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),ho=eq(function(a,b,c){return a+(c?" ":"")+hq(b)}),hp=eq(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),hq=ep("toUpperCase");function hr(a,b,d){var e,f,g;return a=gW(a),(b=d?c:b)===c?(e=a,bh.test(e))?(f=a).match(bf)||[]:(g=a).match(aA)||[]:a.match(b)||[]}var hs=dM(function(a,b){try{return bD(a,c,b)}catch(d){return gA(d)?d:new aP(d)}}),ht=eM(function(a,b){return bF(b,function(b){b=fr(b),c1(a,b,gc(a[b],a))}),a});function hu(a){return function(){return a}}var hv=et(),hw=et(!0);function hx(a){return a}function hy(a){return dx("function"==typeof a?a:c4(a,g))}var hz=dM(function(a,b){return function(c){return dr(c,a,b)}}),hA=dM(function(a,b){return function(c){return dr(a,c,b)}});function hB(a,b,c){var d=g7(b),e=di(b,d);null!=c||gE(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=di(b,g7(b)));var f=!(gE(c)&&"chain"in c)||!!c.chain,g=gB(a);return bF(e,function(c){var d=b[c];a[c]=d,g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__);return(c.__actions__=eh(this.__actions__)).push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,bM([this.value()],arguments))})}),a}function hC(){}var hD=ex(bL),hE=ex(bH),hF=ex(bP);function hG(a){var b;return e6(a)?bX(fr(a)):(b=a,function(a){return dj(a,b)})}var hH=ez(),hI=ez(!0);function hJ(){return[]}function hK(){return!1}function hL(){return{}}function hM(){return""}function hN(){return!0}var hO,hP=ew(function(a,b){return a+b},0),hQ=eC("ceil"),hR=ew(function(a,b){return a/b},1),hS=eC("floor"),hT=ew(function(a,b){return a*b},1),hU=eC("round"),hV=ew(function(a,b){return a-b},0);return cK.after=function(a,b){if("function"!=typeof b)throw new aV(d);return a=gS(a),function(){if(--a<1)return b.apply(this,arguments)}},cK.ary=ga,cK.assign=gX,cK.assignIn=gY,cK.assignInWith=gZ,cK.assignWith=g$,cK.at=g_,cK.before=gb,cK.bind=gc,cK.bindAll=ht,cK.bindKey=gd,cK.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return gt(a)?a:[a]},cK.chain=fW,cK.chunk=function(a,b,d){b=(d?e5(a,b,d):b===c)?1:co(gS(b),0);var e=null==a?0:a.length;if(!e||b<1)return[];for(var f=0,g=0,h=aN(bQ(e/b));f<e;)h[g++]=dT(a,f,f+=b);return h},cK.compact=function(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e},cK.concat=function(){var a=arguments.length;if(!a)return[];for(var b=aN(a-1),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return bM(gt(c)?eh(c):[c],dd(b,1))},cK.cond=function(a){var b=null==a?0:a.length,c=eS();return a=b?bL(a,function(a){if("function"!=typeof a[1])throw new aV(d);return[c(a[0]),a[1]]}):[],dM(function(c){for(var d=-1;++d<b;){var e=a[d];if(bD(e[0],this,c))return bD(e[1],this,c)}})},cK.conforms=function(a){var b,c;return b=c4(a,g),c=g7(b),function(a){return c5(a,b,c)}},cK.constant=hu,cK.countBy=f$,cK.create=function(a,b){var c=cL(a);return null==b?c:c0(c,b)},cK.curry=ge,cK.curryRight=gf,cK.debounce=gg,cK.defaults=g0,cK.defaultsDeep=g1,cK.defer=gh,cK.delay=gi,cK.difference=fv,cK.differenceBy=fw,cK.differenceWith=fx,cK.drop=function(a,b,d){var e=null==a?0:a.length;return e?(b=d||b===c?1:gS(b),dT(a,b<0?0:b,e)):[]},cK.dropRight=function(a,b,d){var e=null==a?0:a.length;return e?(b=d||b===c?1:gS(b),dT(a,0,(b=e-b)<0?0:b)):[]},cK.dropRightWhile=function(a,b){return a&&a.length?d1(a,eS(b,3),!0,!0):[]},cK.dropWhile=function(a,b){return a&&a.length?d1(a,eS(b,3),!0):[]},cK.fill=function(a,b,d,e){var f=null==a?0:a.length;return f?(d&&"number"!=typeof d&&e5(a,b,d)&&(d=0,e=f),function(a,b,d,e){var f=a.length;for((d=gS(d))<0&&(d=-d>f?0:f+d),(e=e===c||e>f?f:gS(e))<0&&(e+=f),e=d>e?0:gT(e);d<e;)a[d++]=b;return a}(a,b,d,e)):[]},cK.filter=function(a,b){return(gt(a)?bI:dc)(a,eS(b,3))},cK.flatMap=function(a,b){return dd(f6(a,b),1)},cK.flatMapDeep=function(a,b){return dd(f6(a,b),y)},cK.flatMapDepth=function(a,b,d){return d=d===c?1:gS(d),dd(f6(a,b),d)},cK.flatten=fA,cK.flattenDeep=function(a){return(null==a?0:a.length)?dd(a,y):[]},cK.flattenDepth=function(a,b){return(null==a?0:a.length)?(b=b===c?1:gS(b),dd(a,b)):[]},cK.flip=function(a){return eF(a,u)},cK.flow=hv,cK.flowRight=hw,cK.fromPairs=function(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d},cK.functions=function(a){return null==a?[]:di(a,g7(a))},cK.functionsIn=function(a){return null==a?[]:di(a,g8(a))},cK.groupBy=f3,cK.initial=function(a){return(null==a?0:a.length)?dT(a,0,-1):[]},cK.intersection=fC,cK.intersectionBy=fD,cK.intersectionWith=fE,cK.invert=g4,cK.invertBy=g5,cK.invokeMap=f4,cK.iteratee=hy,cK.keyBy=f5,cK.keys=g7,cK.keysIn=g8,cK.map=f6,cK.mapKeys=function(a,b){var c={};return b=eS(b,3),dg(a,function(a,d,e){c1(c,b(a,d,e),a)}),c},cK.mapValues=function(a,b){var c={};return b=eS(b,3),dg(a,function(a,d,e){c1(c,d,b(a,d,e))}),c},cK.matches=function(a){return dB(c4(a,g))},cK.matchesProperty=function(a,b){return dC(a,c4(b,g))},cK.memoize=gj,cK.merge=g9,cK.mergeWith=ha,cK.method=hz,cK.methodOf=hA,cK.mixin=hB,cK.negate=gk,cK.nthArg=function(a){return a=gS(a),dM(function(b){return dF(b,a)})},cK.omit=hb,cK.omitBy=function(a,b){return hd(a,gk(eS(b)))},cK.once=function(a){return gb(2,a)},cK.orderBy=function(a,b,d,e){return null==a?[]:(gt(b)||(b=null==b?[]:[b]),d=e?c:d,gt(d)||(d=null==d?[]:[d]),dG(a,b,d))},cK.over=hD,cK.overArgs=gl,cK.overEvery=hE,cK.overSome=hF,cK.partial=gm,cK.partialRight=gn,cK.partition=f7,cK.pick=hc,cK.pickBy=hd,cK.property=hG,cK.propertyOf=function(a){return function(b){return null==a?c:dj(a,b)}},cK.pull=fG,cK.pullAll=fH,cK.pullAllBy=function(a,b,c){return a&&a.length&&b&&b.length?dI(a,b,eS(c,2)):a},cK.pullAllWith=function(a,b,d){return a&&a.length&&b&&b.length?dI(a,b,c,d):a},cK.pullAt=fI,cK.range=hH,cK.rangeRight=hI,cK.rearg=go,cK.reject=function(a,b){return(gt(a)?bI:dc)(a,gk(eS(b,3)))},cK.remove=function(a,b){var c=[];if(!(a&&a.length))return c;var d=-1,e=[],f=a.length;for(b=eS(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return dJ(a,e),c},cK.rest=function(a,b){if("function"!=typeof a)throw new aV(d);return b=b===c?b:gS(b),dM(a,b)},cK.reverse=fJ,cK.sampleSize=function(a,b,d){return b=(d?e5(a,b,d):b===c)?1:gS(b),(gt(a)?cW:dO)(a,b)},cK.set=function(a,b,c){return null==a?a:dP(a,b,c)},cK.setWith=function(a,b,d,e){return e="function"==typeof e?e:c,null==a?a:dP(a,b,d,e)},cK.shuffle=function(a){return(gt(a)?cX:dS)(a)},cK.slice=function(a,b,d){var e=null==a?0:a.length;return e?(d&&"number"!=typeof d&&e5(a,b,d)?(b=0,d=e):(b=null==b?0:gS(b),d=d===c?e:gS(d)),dT(a,b,d)):[]},cK.sortBy=f8,cK.sortedUniq=function(a){return a&&a.length?dX(a):[]},cK.sortedUniqBy=function(a,b){return a&&a.length?dX(a,eS(b,2)):[]},cK.split=function(a,b,d){return d&&"number"!=typeof d&&e5(a,b,d)&&(b=d=c),(d=d===c?B:d>>>0)?(a=gW(a))&&("string"==typeof b||null!=b&&!gJ(b))&&!(b=dZ(b))&&b9(a)?d8(cg(a),0,d):a.split(b,d):[]},cK.spread=function(a,b){if("function"!=typeof a)throw new aV(d);return b=null==b?0:co(gS(b),0),dM(function(c){var d=c[b],e=d8(c,0,b);return d&&bM(e,d),bD(a,this,e)})},cK.tail=function(a){var b=null==a?0:a.length;return b?dT(a,1,b):[]},cK.take=function(a,b,d){return a&&a.length?(b=d||b===c?1:gS(b),dT(a,0,b<0?0:b)):[]},cK.takeRight=function(a,b,d){var e=null==a?0:a.length;return e?(b=d||b===c?1:gS(b),dT(a,(b=e-b)<0?0:b,e)):[]},cK.takeRightWhile=function(a,b){return a&&a.length?d1(a,eS(b,3),!1,!0):[]},cK.takeWhile=function(a,b){return a&&a.length?d1(a,eS(b,3)):[]},cK.tap=fX,cK.throttle=function(a,b,c){var e=!0,f=!0;if("function"!=typeof a)throw new aV(d);return gE(c)&&(e="leading"in c?!!c.leading:e,f="trailing"in c?!!c.trailing:f),gg(a,b,{leading:e,maxWait:b,trailing:f})},cK.thru=fY,cK.toArray=gQ,cK.toPairs=he,cK.toPairsIn=hf,cK.toPath=function(a){return gt(a)?bL(a,fr):gM(a)?[a]:eh(fq(gW(a)))},cK.toPlainObject=gV,cK.transform=function(a,b,c){var d=gt(a),e=d||gx(a)||gN(a);if(b=eS(b,4),null==c){var f=a&&a.constructor;c=e?d?new f:[]:gE(a)&&gB(f)?cL(ba(a)):{}}return(e?bF:dg)(a,function(a,d,e){return b(c,a,d,e)}),c},cK.unary=function(a){return ga(a,1)},cK.union=fL,cK.unionBy=fM,cK.unionWith=fN,cK.uniq=function(a){return a&&a.length?d$(a):[]},cK.uniqBy=function(a,b){return a&&a.length?d$(a,eS(b,2)):[]},cK.uniqWith=function(a,b){return b="function"==typeof b?b:c,a&&a.length?d$(a,c,b):[]},cK.unset=function(a,b){return null==a||d_(a,b)},cK.unzip=fO,cK.unzipWith=fP,cK.update=function(a,b,c){return null==a?a:d0(a,b,d6(c))},cK.updateWith=function(a,b,d,e){return e="function"==typeof e?e:c,null==a?a:d0(a,b,d6(d),e)},cK.values=hg,cK.valuesIn=function(a){return null==a?[]:b2(a,g8(a))},cK.without=fQ,cK.words=hr,cK.wrap=function(a,b){return gm(d6(b),a)},cK.xor=fR,cK.xorBy=fS,cK.xorWith=fT,cK.zip=fU,cK.zipObject=function(a,b){return d4(a||[],b||[],cZ)},cK.zipObjectDeep=function(a,b){return d4(a||[],b||[],dP)},cK.zipWith=fV,cK.entries=he,cK.entriesIn=hf,cK.extend=gY,cK.extendWith=gZ,hB(cK,cK),cK.add=hP,cK.attempt=hs,cK.camelCase=hh,cK.capitalize=hi,cK.ceil=hQ,cK.clamp=function(a,b,d){return d===c&&(d=b,b=c),d!==c&&(d=(d=gU(d))==d?d:0),b!==c&&(b=(b=gU(b))==b?b:0),c3(gU(a),b,d)},cK.clone=function(a){return c4(a,i)},cK.cloneDeep=function(a){return c4(a,g|i)},cK.cloneDeepWith=function(a,b){return b="function"==typeof b?b:c,c4(a,g|i,b)},cK.cloneWith=function(a,b){return b="function"==typeof b?b:c,c4(a,i,b)},cK.conformsTo=function(a,b){return null==b||c5(a,b,g7(b))},cK.deburr=hj,cK.defaultTo=function(a,b){return null==a||a!=a?b:a},cK.divide=hR,cK.endsWith=function(a,b,d){a=gW(a),b=dZ(b);var e=a.length,f=d=d===c?e:c3(gS(d),0,e);return(d-=b.length)>=0&&a.slice(d,f)==b},cK.eq=gp,cK.escape=function(a){return(a=gW(a))&&am.test(a)?a.replace(ak,b7):a},cK.escapeRegExp=function(a){return(a=gW(a))&&au.test(a)?a.replace(at,"\\$&"):a},cK.every=function(a,b,d){var e=gt(a)?bH:da;return d&&e5(a,b,d)&&(b=c),e(a,eS(b,3))},cK.find=f_,cK.findIndex=fy,cK.findKey=function(a,b){return bR(a,eS(b,3),dg)},cK.findLast=f0,cK.findLastIndex=fz,cK.findLastKey=function(a,b){return bR(a,eS(b,3),dh)},cK.floor=hS,cK.forEach=f1,cK.forEachRight=f2,cK.forIn=function(a,b){return null==a?a:de(a,eS(b,3),g8)},cK.forInRight=function(a,b){return null==a?a:df(a,eS(b,3),g8)},cK.forOwn=function(a,b){return a&&dg(a,eS(b,3))},cK.forOwnRight=function(a,b){return a&&dh(a,eS(b,3))},cK.get=g2,cK.gt=gq,cK.gte=gr,cK.has=function(a,b){return null!=a&&e_(a,b,dn)},cK.hasIn=g3,cK.head=fB,cK.identity=hx,cK.includes=function(a,b,c,d){a=gv(a)?a:hg(a),c=c&&!d?gS(c):0;var e=a.length;return c<0&&(c=co(e+c,0)),gL(a)?c<=e&&a.indexOf(b,c)> -1:!!e&&bT(a,b,c)> -1},cK.indexOf=function(a,b,c){var d=null==a?0:a.length;if(!d)return -1;var e=null==c?0:gS(c);return e<0&&(e=co(d+e,0)),bT(a,b,e)},cK.inRange=function(a,b,d){var e,f,g;return b=gR(b),d===c?(d=b,b=0):d=gR(d),e=a=gU(a),e>=cp(f=b,g=d)&&e<co(f,g)},cK.invoke=g6,cK.isArguments=gs,cK.isArray=gt,cK.isArrayBuffer=gu,cK.isArrayLike=gv,cK.isArrayLikeObject=gw,cK.isBoolean=function(a){return!0===a|| !1===a||gF(a)&&dl(a)==H},cK.isBuffer=gx,cK.isDate=gy,cK.isElement=function(a){return gF(a)&&1===a.nodeType&&!gI(a)},cK.isEmpty=function(a){if(null==a)return!0;if(gv(a)&&(gt(a)||"string"==typeof a||"function"==typeof a.splice||gx(a)||gN(a)||gs(a)))return!a.length;var b=eZ(a);if(b==M||b==S)return!a.size;if(fb(a))return!dy(a).length;for(var c in a)if(a_.call(a,c))return!1;return!0},cK.isEqual=gz,cK.isEqualWith=function(a,b,d){var e=(d="function"==typeof d?d:c)?d(a,b):c;return e===c?dt(a,b,c,d):!!e},cK.isError=gA,cK.isFinite=function(a){return"number"==typeof a&&ck(a)},cK.isFunction=gB,cK.isInteger=gC,cK.isLength=gD,cK.isMap=gG,cK.isMatch=function(a,b){return a===b||dv(a,b,eU(b))},cK.isMatchWith=function(a,b,d){return d="function"==typeof d?d:c,dv(a,b,eU(b),d)},cK.isNaN=function(a){return gH(a)&&a!= +a},cK.isNative=function(a){if(fa(a))throw new aP("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return dw(a)},cK.isNil=function(a){return null==a},cK.isNull=function(a){return null===a},cK.isNumber=gH,cK.isObject=gE,cK.isObjectLike=gF,cK.isPlainObject=gI,cK.isRegExp=gJ,cK.isSafeInteger=function(a){return gC(a)&&a>= -z&&a<=z},cK.isSet=gK,cK.isString=gL,cK.isSymbol=gM,cK.isTypedArray=gN,cK.isUndefined=function(a){return a===c},cK.isWeakMap=function(a){return gF(a)&&eZ(a)==W},cK.isWeakSet=function(a){return gF(a)&&"[object WeakSet]"==dl(a)},cK.join=function(a,b){return null==a?"":cm.call(a,b)},cK.kebabCase=hk,cK.last=fF,cK.lastIndexOf=function(a,b,d){var e=null==a?0:a.length;if(!e)return -1;var f=e;return d!==c&&(f=(f=gS(d))<0?co(e+f,0):cp(f,e-1)),b==b?function(a,b,c){for(var d=c+1;(d--)&&a[d]!==b;);return d}(a,b,f):bS(a,bV,f,!0)},cK.lowerCase=hl,cK.lowerFirst=hm,cK.lt=gO,cK.lte=gP,cK.max=function(a){return a&&a.length?db(a,hx,dm):c},cK.maxBy=function(a,b){return a&&a.length?db(a,eS(b,2),dm):c},cK.mean=function(a){return bW(a,hx)},cK.meanBy=function(a,b){return bW(a,eS(b,2))},cK.min=function(a){return a&&a.length?db(a,hx,dz):c},cK.minBy=function(a,b){return a&&a.length?db(a,eS(b,2),dz):c},cK.stubArray=hJ,cK.stubFalse=hK,cK.stubObject=hL,cK.stubString=hM,cK.stubTrue=hN,cK.multiply=hT,cK.nth=function(a,b){return a&&a.length?dF(a,gS(b)):c},cK.noConflict=function(){return br._===this&&(br._=a4),this},cK.noop=hC,cK.now=f9,cK.pad=function(a,b,c){a=gW(a);var d=(b=gS(b))?cf(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return ey(bY(e),c)+a+ey(bQ(e),c)},cK.padEnd=function(a,b,c){a=gW(a);var d=(b=gS(b))?cf(a):0;return b&&d<b?a+ey(b-d,c):a},cK.padStart=function(a,b,c){a=gW(a);var d=(b=gS(b))?cf(a):0;return b&&d<b?ey(b-d,c)+a:a},cK.parseInt=function(a,b,c){return c||null==b?b=0:b&&(b=+b),cr(gW(a).replace(av,""),b||0)},cK.random=function(a,b,d){if(d&&"boolean"!=typeof d&&e5(a,b,d)&&(b=d=c),d===c&&("boolean"==typeof b?(d=b,b=c):"boolean"==typeof a&&(d=a,a=c)),a===c&&b===c?(a=0,b=1):(a=gR(a),b===c?(b=a,a=0):b=gR(b)),a>b){var e=a;a=b,b=e}if(d||a%1||b%1){var f=cs();return cp(a+f*(b-a+bn("1e-"+((f+"").length-1))),b)}return dK(a,b)},cK.reduce=function(a,b,c){var d=gt(a)?bN:bZ,e=arguments.length<3;return d(a,eS(b,4),c,e,c8)},cK.reduceRight=function(a,b,c){var d=gt(a)?bO:bZ,e=arguments.length<3;return d(a,eS(b,4),c,e,c9)},cK.repeat=function(a,b,d){return b=(d?e5(a,b,d):b===c)?1:gS(b),dL(gW(a),b)},cK.replace=function(){var a=arguments,b=gW(a[0]);return a.length<3?b:b.replace(a[1],a[2])},cK.result=function(a,b,d){b=d7(b,a);var e=-1,f=b.length;for(f||(f=1,a=c);++e<f;){var g=null==a?c:a[fr(b[e])];g===c&&(e=f,g=d),a=gB(g)?g.call(a):g}return a},cK.round=hU,cK.runInContext=a,cK.sample=function(a){return(gt(a)?cV:dN)(a)},cK.size=function(a){if(null==a)return 0;if(gv(a))return gL(a)?cf(a):a.length;var b=eZ(a);return b==M||b==S?a.size:dy(a).length},cK.snakeCase=hn,cK.some=function(a,b,d){var e=gt(a)?bP:dU;return d&&e5(a,b,d)&&(b=c),e(a,eS(b,3))},cK.sortedIndex=fK,cK.sortedIndexBy=function(a,b,c){return dW(a,b,eS(c,2))},cK.sortedIndexOf=function(a,b){var c=null==a?0:a.length;if(c){var d=dV(a,b);if(d<c&&gp(a[d],b))return d}return -1},cK.sortedLastIndex=function(a,b){return dV(a,b,!0)},cK.sortedLastIndexBy=function(a,b,c){return dW(a,b,eS(c,2),!0)},cK.sortedLastIndexOf=function(a,b){if(null==a?0:a.length){var c=dV(a,b,!0)-1;if(gp(a[c],b))return c}return -1},cK.startCase=ho,cK.startsWith=function(a,b,c){return a=gW(a),c=null==c?0:c3(gS(c),0,a.length),b=dZ(b),a.slice(c,c+b.length)==b},cK.subtract=hV,cK.sum=function(a){return a&&a.length?b$(a,hx):0},cK.sumBy=function(a,b){return a&&a.length?b$(a,eS(b,2)):0},cK.template=function(a,b,d){var e=cK.templateSettings;d&&e5(a,b,d)&&(b=c),a=gW(a),b=gZ({},b,e,eG);var f,g,h=gZ({},b.imports,e.imports,eG),i=g7(h),j=b2(h,i),k=0,l=b.interpolate||aL,m="__p += '",n=aT((b.escape||aL).source+"|"+l.source+"|"+(l===ap?aD:aL).source+"|"+(b.evaluate||aL).source+"|$","g"),o="//# sourceURL="+(a_.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bj+"]")+`
`;a.replace(n,function(b,c,d,e,h,i){return d||(d=e),m+=a.slice(k,i).replace(aM,b8),c&&(f=!0,m+=`' +
__e(`+c+`) +
'`),h&&(g=!0,m+=`';
`+h+`;
__p += '`),d&&(m+=`' +
((__t = (`+d+`)) == null ? '' : __t) +
'`),k=i+b.length,b}),m+=`';
`;var p=a_.call(b,"variable")&&b.variable;if(p){if(aB.test(p))throw new aP("Invalid `variable` option passed into `_.template`")}else m=`with (obj) {
`+m+`
}
`;m=(g?m.replace(ag,""):m).replace(ah,"$1").replace(ai,"$1;"),m="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+m+`return __p
}`;var q=hs(function(){return aQ(i,o+"return "+m).apply(c,j)});if(q.source=m,gA(q))throw q;return q},cK.times=function(a,b){if((a=gS(a))<1||a>z)return[];var c=B,d=cp(a,B);b=eS(b),a-=B;for(var e=b_(d,b);++c<a;)b(c);return e},cK.toFinite=gR,cK.toInteger=gS,cK.toLength=gT,cK.toLower=function(a){return gW(a).toLowerCase()},cK.toNumber=gU,cK.toSafeInteger=function(a){return a?c3(gS(a),-z,z):0===a?a:0},cK.toString=gW,cK.toUpper=function(a){return gW(a).toUpperCase()},cK.trim=function(a,b,d){if((a=gW(a))&&(d||b===c))return b0(a);if(!a||!(b=dZ(b)))return a;var e=cg(a),f=cg(b),g=b4(e,f),h=b5(e,f)+1;return d8(e,g,h).join("")},cK.trimEnd=function(a,b,d){if((a=gW(a))&&(d||b===c))return a.slice(0,ch(a)+1);if(!a||!(b=dZ(b)))return a;var e=cg(a),f=b5(e,cg(b))+1;return d8(e,0,f).join("")},cK.trimStart=function(a,b,d){if((a=gW(a))&&(d||b===c))return a.replace(av,"");if(!a||!(b=dZ(b)))return a;var e=cg(a),f=b4(e,cg(b));return d8(e,f).join("")},cK.truncate=function(a,b){var d=v,e=w;if(gE(b)){var f="separator"in b?b.separator:f;d="length"in b?gS(b.length):d,e="omission"in b?dZ(b.omission):e}var g=(a=gW(a)).length;if(b9(a)){var h=cg(a);g=h.length}if(d>=g)return a;var i=d-cf(e);if(i<1)return e;var j=h?d8(h,0,i).join(""):a.slice(0,i);if(f===c)return j+e;if(h&&(i+=j.length-i),gJ(f)){if(a.slice(i).search(f)){var k,l=j;for(f.global||(f=aT(f.source,gW(aE.exec(f))+"g")),f.lastIndex=0;k=f.exec(l);)var m=k.index;j=j.slice(0,m===c?i:m)}}else if(a.indexOf(dZ(f),i)!=i){var n=j.lastIndexOf(f);n> -1&&(j=j.slice(0,n))}return j+e},cK.unescape=function(a){return(a=gW(a))&&al.test(a)?a.replace(aj,ci):a},cK.uniqueId=function(a){var b=++a0;return gW(a)+b},cK.upperCase=hp,cK.upperFirst=hq,cK.each=f1,cK.eachRight=f2,cK.first=fB,hB(cK,(hO={},dg(cK,function(a,b){a_.call(cK.prototype,b)||(hO[b]=a)}),hO),{chain:!1}),cK.VERSION="4.17.21",bF(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){cK[a].placeholder=cK}),bF(["drop","take"],function(a,b){cO.prototype[a]=function(d){d=d===c?1:co(gS(d),0);var e=this.__filtered__&&!b?new cO(this):this.clone();return e.__filtered__?e.__takeCount__=cp(d,e.__takeCount__):e.__views__.push({size:cp(d,B),type:a+(e.__dir__<0?"Right":"")}),e},cO.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),bF(["filter","map","takeWhile"],function(a,b){var c=b+1,d=1==c||3==c;cO.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:eS(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),bF(["head","last"],function(a,b){var c="take"+(b?"Right":"");cO.prototype[a]=function(){return this[c](1).value()[0]}}),bF(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");cO.prototype[a]=function(){return this.__filtered__?new cO(this):this[c](1)}}),cO.prototype.compact=function(){return this.filter(hx)},cO.prototype.find=function(a){return this.filter(a).head()},cO.prototype.findLast=function(a){return this.reverse().find(a)},cO.prototype.invokeMap=dM(function(a,b){return"function"==typeof a?new cO(this):this.map(function(c){return dr(c,a,b)})}),cO.prototype.reject=function(a){return this.filter(gk(eS(a)))},cO.prototype.slice=function(a,b){a=gS(a);var d=this;return d.__filtered__&&(a>0||b<0)?new cO(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),b!==c&&(d=(b=gS(b))<0?d.dropRight(-b):d.take(b-a)),d)},cO.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},cO.prototype.toArray=function(){return this.take(B)},dg(cO.prototype,function(a,b){var d=/^(?:filter|find|map|reject)|While$/.test(b),e=/^(?:head|last)$/.test(b),f=cK[e?"take"+("last"==b?"Right":""):b],g=e||/^find/.test(b);f&&(cK.prototype[b]=function(){var b=this.__wrapped__,h=e?[1]:arguments,i=b instanceof cO,j=h[0],k=i||gt(b),l=function(a){var b=f.apply(cK,bM([a],h));return e&&m?b[0]:b};k&&d&&"function"==typeof j&&1!=j.length&&(i=k=!1);var m=this.__chain__,n=!!this.__actions__.length,o=g&&!m,p=i&&!n;if(!g&&k){b=p?b:new cO(this);var q=a.apply(b,h);return q.__actions__.push({func:fY,args:[l],thisArg:c}),new cN(q,m)}return o&&p?a.apply(this,h):(q=this.thru(l),o?e?q.value()[0]:q.value():q)})}),bF(["pop","push","shift","sort","splice","unshift"],function(a){var b=aW[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);cK.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(gt(e)?e:[],a)}return this[c](function(c){return b.apply(gt(c)?c:[],a)})}}),dg(cO.prototype,function(a,b){var c=cK[b];if(c){var d=c.name+"";a_.call(cB,d)||(cB[d]=[]),cB[d].push({name:b,func:c})}}),cB[eu(c,m).name]=[{name:"wrapper",func:c}],cO.prototype.clone=function(){var a=new cO(this.__wrapped__);return a.__actions__=eh(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=eh(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=eh(this.__views__),a},cO.prototype.reverse=function(){if(this.__filtered__){var a=new cO(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a},cO.prototype.value=function(){var a=this.__wrapped__.value(),b=this.__dir__,c=gt(a),d=b<0,e=c?a.length:0,f=e$(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=cp(i,this.__takeCount__);if(!c|| !d&&e==i&&n==i)return d2(a,this.__actions__);var o=[];n:for(;(i--)&&m<n;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(2==t)q=u;else if(!u){if(1==t)continue n;break n}}o[m++]=q}return o},cK.prototype.at=fZ,cK.prototype.chain=function(){return fW(this)},cK.prototype.commit=function(){return new cN(this.value(),this.__chain__)},cK.prototype.next=function(){this.__values__===c&&(this.__values__=gQ(this.value()));var a=this.__index__>=this.__values__.length,b=a?c:this.__values__[this.__index__++];return{done:a,value:b}},cK.prototype.plant=function(a){for(var b,d=this;d instanceof cM;){var e=fu(d);e.__index__=0,e.__values__=c,b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b},cK.prototype.reverse=function(){var a=this.__wrapped__;if(a instanceof cO){var b=a;return this.__actions__.length&&(b=new cO(this)),(b=b.reverse()).__actions__.push({func:fY,args:[fJ],thisArg:c}),new cN(b,this.__chain__)}return this.thru(fJ)},cK.prototype.toJSON=cK.prototype.valueOf=cK.prototype.value=function(){return d2(this.__wrapped__,this.__actions__)},cK.prototype.first=cK.prototype.head,bp&&(cK.prototype[bp]=function(){return this}),cK}();bt?((bt.exports=cl)._=cl,bs._=cl):br._=cl}).call(fE)}(fF,fF.exports);var fG=Object.defineProperty,fH=Object.defineProperties,fI=Object.getOwnPropertyDescriptors,fJ=Object.getOwnPropertySymbols,fK=Object.prototype.hasOwnProperty,fL=Object.prototype.propertyIsEnumerable,fM=(a,b,c)=>b in a?fG(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,fN=(a,b)=>{for(var c in b||(b={}))fK.call(b,c)&&fM(a,c,b[c]);if(fJ)for(var c of fJ(b))fL.call(b,c)&&fM(a,c,b[c]);return a},fO=(a,b)=>fH(a,fI(b));function fP(a,b,c){let d,e=fQ(a);return b.rpcMap&&(d=b.rpcMap[e]),d||(d=`https://rpc.walletconnect.com/v1?chainId=eip155:${e}&projectId=${c}`),d}function fQ(a){return a.includes("eip155")?Number(a.split(":")[1]):Number(a)}function fR(a){var b,c,d,e;let f={};if(!b9(a))return f;for(let[g,h]of Object.entries(a)){let i=b2(g)?[g]:h.chains,j=h.methods||[],k=h.events||[],l=h.rpcMap||{},m=b3(g);f[m]=fO(fN(fN({},f[m]),h),{chains:bK(i,null==(b=f[m])?void 0:b.chains),methods:bK(j,null==(c=f[m])?void 0:c.methods),events:bK(k,null==(d=f[m])?void 0:d.events),rpcMap:fN(fN({},l),null==(e=f[m])?void 0:e.rpcMap)})}return f}let fS={},fT=a=>fS[a],fU=(a,b)=>{fS[a]=b};class fV{constructor(a){this.name="polkadot",this.namespace=a.namespace,this.events=fT("events"),this.client=fT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}request(a){return this.namespace.methods.includes(a.request.method)?this.client.request(a):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(this.chainId=a,!this.httpProviders[a]){let c=b||fP(`${this.name}:${a}`,this.namespace);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.events.emit(fD.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let a=this.namespace.accounts;return a&&a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2])||[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||fP(a,this.namespace);return typeof c>"u"?void 0:new fA(new fz(c,fT("disableProviderPing")))}}class fW{constructor(a){this.name="eip155",this.namespace=a.namespace,this.events=fT("events"),this.client=fT("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(a){var b;switch(a.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(a.request.params?null==(b=a.request.params[0])?void 0:b.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(a.request.method)?await this.client.request(a):this.getHttpProvider().request(a.request)}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}setDefaultChain(a,b){let c=fQ(a);if(!this.httpProviders[c]){let d=b||fP(`${this.name}:${c}`,this.namespace,this.client.core.projectId);if(!d)throw Error(`No RPC url provided for chainId: ${c}`);this.setHttpProvider(c,d)}this.chainId=c,this.events.emit(fD.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}createHttpProvider(a,b){let c=b||fP(`${this.name}:${a}`,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new fA(new fy(c,fT("disableProviderPing")))}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;let d=fQ(b);a[d]=this.createHttpProvider(d,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}getHttpProvider(){let a=this.chainId,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}handleSwitchChain(a){let b=parseInt(a,16),c=`${this.name}:${b}`;(function(a,b){if(!b.includes(a))throw Error(`Chain '${a}' not approved. Please use one of the following: ${b.toString()}`)})(c,this.namespace.chains),this.setDefaultChain(`${b}`)}}class fX{constructor(a){this.name="solana",this.namespace=a.namespace,this.events=fT("events"),this.client=fT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}request(a){return this.namespace.methods.includes(a.request.method)?this.client.request(a):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(!this.httpProviders[a]){let c=b||fP(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.chainId=a,this.events.emit(fD.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||fP(a,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new fA(new fz(c,fT("disableProviderPing")))}}class fY{constructor(a){this.name="cosmos",this.namespace=a.namespace,this.events=fT("events"),this.client=fT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}request(a){return this.namespace.methods.includes(a.request.method)?this.client.request(a):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(this.chainId=a,!this.httpProviders[a]){let c=b||fP(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.events.emit(fD.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||fP(a,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new fA(new fz(c,fT("disableProviderPing")))}}class fZ{constructor(a){this.name="cip34",this.namespace=a.namespace,this.events=fT("events"),this.client=fT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}request(a){return this.namespace.methods.includes(a.request.method)?this.client.request(a):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(this.chainId=a,!this.httpProviders[a]){let c=b||this.getCardanoRPCUrl(a);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.events.emit(fD.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{let c=this.getCardanoRPCUrl(b);a[b]=this.createHttpProvider(b,c)}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}getCardanoRPCUrl(a){let b=this.namespace.rpcMap;if(b)return b[a]}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||this.getCardanoRPCUrl(a);return typeof c>"u"?void 0:new fA(new fz(c,fT("disableProviderPing")))}}class f${constructor(a){this.name="elrond",this.namespace=a.namespace,this.events=fT("events"),this.client=fT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}request(a){return this.namespace.methods.includes(a.request.method)?this.client.request(a):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(!this.httpProviders[a]){let c=b||fP(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.chainId=a,this.events.emit(fD.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||fP(a,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new fA(new fz(c,fT("disableProviderPing")))}}class f_{constructor(a){this.name="multiversx",this.namespace=a.namespace,this.events=fT("events"),this.client=fT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(a){this.namespace=Object.assign(this.namespace,a)}requestAccounts(){return this.getAccounts()}request(a){return this.namespace.methods.includes(a.request.method)?this.client.request(a):this.getHttpProvider().request(a.request)}setDefaultChain(a,b){if(!this.httpProviders[a]){let c=b||fP(`${this.name}:${a}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${a}`);this.setHttpProvider(a,c)}this.chainId=a,this.events.emit(fD.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let a=this.namespace.chains[0];if(!a)throw Error("ChainId not found");return a.split(":")[1]}getAccounts(){let a=this.namespace.accounts;return a?[...new Set(a.filter(a=>a.split(":")[1]===this.chainId.toString()).map(a=>a.split(":")[2]))]:[]}createHttpProviders(){let a={};return this.namespace.chains.forEach(b=>{var c;a[b]=this.createHttpProvider(b,null==(c=this.namespace.rpcMap)?void 0:c[b])}),a}getHttpProvider(){let a=`${this.name}:${this.chainId}`,b=this.httpProviders[a];if(typeof b>"u")throw Error(`JSON-RPC provider for ${a} not found`);return b}setHttpProvider(a,b){let c=this.createHttpProvider(a,b);c&&(this.httpProviders[a]=c)}createHttpProvider(a,b){let c=b||fP(a,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new fA(new fz(c,fT("disableProviderPing")))}}var f0=Object.defineProperty,f1=Object.defineProperties,f2=Object.getOwnPropertyDescriptors,f3=Object.getOwnPropertySymbols,f4=Object.prototype.hasOwnProperty,f5=Object.prototype.propertyIsEnumerable,f6=(a,b,c)=>b in a?f0(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,f7=(a,b)=>{for(var c in b||(b={}))f4.call(b,c)&&f6(a,c,b[c]);if(f3)for(var c of f3(b))f5.call(b,c)&&f6(a,c,b[c]);return a},f8=(a,b)=>f1(a,f2(b));class f9{constructor(a){this.events=new(s()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=a,this.logger="u">typeof a?.logger&&"string"!=typeof a?.logger?a.logger:(0,cq.pino)((0,cq.getDefaultLoggerOptions)({level:a?.logger||fB})),this.disableProviderPing=a?.disableProviderPing||!1}static async init(a){let b=new f9(a);return await b.initialize(),b}async request(a,b){let[c,d]=this.validateChain(b);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(c).request({request:f7({},a),chainId:`${c}:${d}`,topic:this.session.topic})}sendAsync(a,b,c){this.request(a,c).then(a=>b(null,a)).catch(a=>b(a,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var a;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(a=this.session)?void 0:a.topic,reason:b7("USER_DISCONNECTED")}),await this.cleanup()}async connect(a){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(a),await this.cleanupPendingPairings(),!a.skipPairing)return await this.pair(a.pairingTopic)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}removeListener(a,b){this.events.removeListener(a,b)}off(a,b){this.events.off(a,b)}get isWalletConnect(){return!0}async pair(a){this.shouldAbortPairingAttempt=!1;let b=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(b>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:c,approval:d}=await this.client.connect({pairingTopic:a,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});c&&(this.uri=c,this.events.emit("display_uri",c)),await d().then(a=>{this.session=a}).catch(a=>{if(a.message!==e9)throw a;b++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(a,b){try{let[c,d]=this.validateChain(a);this.getProvider(c).setDefaultChain(d,b)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(a={}){this.logger.info("Cleaning up inactive pairings...");let b=this.client.pairing.getAll();if(b8(b)){for(let c of b)a.deletePairings?this.client.core.expirer.set(c.topic,0):await this.client.core.relayer.subscriber.unsubscribe(c.topic);this.logger.info(`Inactive pairings cleared: ${b.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let a=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[a]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await fn.init({logger:this.providerOpts.logger||fB,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let a=[...new Set(Object.keys(this.session.namespaces).map(a=>b3(a)))];fU("client",this.client),fU("events",this.events),fU("disableProviderPing",this.disableProviderPing),a.forEach(a=>{var b;if(!this.session)return;let c=function(a,b){let c=Object.keys(b.namespaces).filter(b=>b.includes(a));if(!c.length)return[];let d=[];return c.forEach(a=>{let c=b.namespaces[a].accounts;d.push(...c)}),d}(a,this.session),d=(b=c).map(a=>`${a.split(":")[0]}:${a.split(":")[1]}`),e=function(a,b={}){let c=fR(a),d=fR(b);return fF.exports.merge(c,d)}(this.namespaces,this.optionalNamespaces),f=f8(f7({},e[a]),{accounts:c,chains:d});switch(a){case"eip155":this.rpcProviders[a]=new fW({namespace:f});break;case"solana":this.rpcProviders[a]=new fX({namespace:f});break;case"cosmos":this.rpcProviders[a]=new fY({namespace:f});break;case"polkadot":this.rpcProviders[a]=new fV({namespace:f});break;case"cip34":this.rpcProviders[a]=new fZ({namespace:f});break;case"elrond":this.rpcProviders[a]=new f$({namespace:f});break;case"multiversx":this.rpcProviders[a]=new f_({namespace:f})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",a=>{this.events.emit("session_ping",a)}),this.client.on("session_event",a=>{let{params:b}=a,{event:c}=b;"accountsChanged"===c.name?this.events.emit("accountsChanged",c.data):"chainChanged"===c.name?this.onChainChanged(b.chainId):this.events.emit(c.name,c.data),this.events.emit("session_event",a)}),this.client.on("session_update",({topic:a,params:b})=>{var c;let{namespaces:d}=b,e=null==(c=this.client)?void 0:c.session.get(a);this.session=f8(f7({},e),{namespaces:d}),this.onSessionUpdate(),this.events.emit("session_update",{topic:a,params:b})}),this.client.on("session_delete",async a=>{await this.cleanup(),this.events.emit("session_delete",a),this.events.emit("disconnect",f8(f7({},b7("USER_DISCONNECTED")),{data:a.topic}))}),this.on(fD.DEFAULT_CHAIN_CHANGED,a=>{this.onChainChanged(a,!0)})}getProvider(a){if(!this.rpcProviders[a])throw Error(`Provider not found: ${a}`);return this.rpcProviders[a]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(a=>{var b;this.getProvider(a).updateNamespace(null==(b=this.session)?void 0:b.namespaces[a])})}setNamespaces(a){let{namespaces:b,optionalNamespaces:c,sessionProperties:d}=a;if(!b||!Object.keys(b).length)throw Error("Namespaces must be not empty");this.namespaces=b,this.optionalNamespaces=c,this.sessionProperties=d,this.persist("namespaces",b),this.persist("optionalNamespaces",c)}validateChain(a){let[b,c]=a?.split(":")||["",""];if(b&&!Object.keys(this.namespaces).map(a=>b3(a)).includes(b))throw Error(`Namespace '${b}' is not configured. Please call connect() first with namespace config.`);if(b&&c)return[b,c];let d=b3(Object.keys(this.namespaces)[0]),e=this.rpcProviders[d].getDefaultChain();return[d,e]}async requestAccounts(){let[a]=this.validateChain();return await this.getProvider(a).requestAccounts()}onChainChanged(a,b=!1){var c;let[d,e]=this.validateChain(a);b||this.getProvider(d).setDefaultChain(e),(null!=(c=this.namespaces[d])?c:this.namespaces[`${d}:${e}`]).defaultChain=e,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",e)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(a,b){this.client.core.storage.setItem(`${fC}/${a}`,b)}async getFromStore(a){return await this.client.core.storage.getItem(`${fC}/${a}`)}}let ga=f9,gb=["eth_sendTransaction","personal_sign"],gc=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],gd=["chainChanged","accountsChanged"],ge=["message","disconnect","connect"];var gf=Object.defineProperty,gg=Object.defineProperties,gh=Object.getOwnPropertyDescriptors,gi=Object.getOwnPropertySymbols,gj=Object.prototype.hasOwnProperty,gk=Object.prototype.propertyIsEnumerable,gl=(a,b,c)=>b in a?gf(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,gm=(a,b)=>{for(var c in b||(b={}))gj.call(b,c)&&gl(a,c,b[c]);if(gi)for(var c of gi(b))gk.call(b,c)&&gl(a,c,b[c]);return a},gn=(a,b)=>gg(a,gh(b));function go(a){return Number(a[0].split(":")[1])}function gp(a){return`0x${a.toString(16)}`}class gq{constructor(){this.events=new r.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(a,b)=>(this.events.on(a,b),this),this.once=(a,b)=>(this.events.once(a,b),this),this.removeListener=(a,b)=>(this.events.removeListener(a,b),this),this.off=(a,b)=>(this.events.off(a,b),this),this.parseAccount=a=>this.isCompatibleChainId(a)?this.parseAccountId(a).address:a,this.signer={},this.rpc={}}static async init(a){let b=new gq;return await b.initialize(a),b}async request(a){return await this.signer.request(a,this.formatChainId(this.chainId))}sendAsync(a,b){this.signer.sendAsync(a,b,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(a){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(a);let{required:b,optional:c}=function(a){let{chains:b,optionalChains:c,methods:d,optionalMethods:e,events:f,optionalEvents:g,rpcMap:h}=a;if(!b8(b))throw Error("Invalid chains");let i=b,j=d||gb,k=f||gd,l={[go(i)]:h[go(i)]},m={chains:i,methods:j,events:k,rpcMap:l},n=f?.filter(a=>!gd.includes(a)),o=d?.filter(a=>!gb.includes(a));if(!c&&!g&&!e&&!(null!=n&&n.length)&&!(null!=o&&o.length))return{required:m};let p=n?.length&&o?.length||!c,q={chains:[...new Set(p?i.concat(c||[]):c)],methods:[...new Set(j.concat(e||[]))],events:[...new Set(k.concat(g||[]))],rpcMap:h};return{required:m,optional:q}}(this.rpc);try{let d=await new Promise(async(d,e)=>{var f;this.rpc.showQrModal&&(null==(f=this.modal)||f.subscribeModal(a=>{a.open||this.signer.session||(this.signer.abortPairingAttempt(),e(Error("Connection request reset. Please try again.")))})),await this.signer.connect(gn(gm({namespaces:{[this.namespace]:b}},c&&{optionalNamespaces:{[this.namespace]:c}}),{pairingTopic:a?.pairingTopic})).then(a=>{d(a)}).catch(a=>{e(Error(a.message))})});if(!d)return;this.setChainIds(this.rpc.chains);let e=function(a,b=[]){let c=[];return Object.keys(a).forEach(d=>{if(b.length&&!b.includes(d))return;let e=a[d];c.push(...e.accounts)}),c}(d.namespaces,[this.namespace]);this.setAccounts(e),this.events.emit("connect",{chainId:gp(this.chainId)})}catch(f){throw this.signer.logger.error(f),f}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",a=>{let{params:b}=a,{event:c}=b;"accountsChanged"===c.name?(this.accounts=this.parseAccounts(c.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===c.name?this.setChainId(this.formatChainId(c.data)):this.events.emit(c.name,c.data),this.events.emit("session_event",a)}),this.signer.on("chainChanged",a=>{let b=parseInt(a);this.chainId=b,this.events.emit("chainChanged",gp(this.chainId)),this.persist()}),this.signer.on("session_update",a=>{this.events.emit("session_update",a)}),this.signer.on("session_delete",a=>{this.reset(),this.events.emit("session_delete",a),this.events.emit("disconnect",gn(gm({},b7("USER_DISCONNECTED")),{data:a.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",a=>{var b,c;this.rpc.showQrModal&&(null==(b=this.modal)||b.closeModal(),null==(c=this.modal)||c.openModal({uri:a})),this.events.emit("display_uri",a)})}setHttpProvider(a){this.request({method:"wallet_switchEthereumChain",params:[{chainId:a.toString(16)}]})}isCompatibleChainId(a){return"string"==typeof a&&a.startsWith(`${this.namespace}:`)}formatChainId(a){return`${this.namespace}:${a}`}parseChainId(a){return Number(a.split(":")[1])}setChainIds(a){let b=a.filter(a=>this.isCompatibleChainId(a)).map(a=>this.parseChainId(a));b.length&&(this.chainId=b[0],this.events.emit("chainChanged",gp(this.chainId)),this.persist())}setChainId(a){if(this.isCompatibleChainId(a)){let b=this.parseChainId(a);this.chainId=b,this.setHttpProvider(b)}}parseAccountId(a){let[b,c,d]=a.split(":");return{chainId:`${b}:${c}`,address:d}}setAccounts(a){this.accounts=a.filter(a=>this.parseChainId(this.parseAccountId(a).chainId)===this.chainId).map(a=>this.parseAccountId(a).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(a){var b,c;return{chains:(null==(b=a.chains)?void 0:b.map(a=>this.formatChainId(a)))||[`${this.namespace}:1`],optionalChains:a.optionalChains?a.optionalChains.map(a=>this.formatChainId(a)):void 0,methods:a?.methods||gb,events:a?.events||gd,optionalMethods:a?.optionalMethods||[],optionalEvents:a?.optionalEvents||[],rpcMap:a?.rpcMap||this.buildRpcMap(a.chains.concat(a.optionalChains||[]),a.projectId),showQrModal:!!(null!=a&&a.showQrModal),qrModalOptions:null!=(c=a?.qrModalOptions)?c:void 0,projectId:a.projectId,metadata:a.metadata}}buildRpcMap(a,b){let c={};return a.forEach(a=>{c[a]=this.getRpcUrl(a,b)}),c}async initialize(a){if(this.rpc=this.getRpcConfig(a),this.chainId=go(this.rpc.chains),this.signer=await ga.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:a.disableProviderPing}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let b;try{let{WalletConnectModal:d}=await Promise.all([c.e(8764),c.e(9343)]).then(c.bind(c,59343));b=d}catch{throw Error("To use QR modal, please install @walletconnect/modal package")}if(b)try{this.modal=new b(gm({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(e){throw this.signer.logger.error(e),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(a){if(!a)return;let{chains:b,optionalChains:c,rpcMap:d}=a;b&&b8(b)&&(this.rpc.chains=b.map(a=>this.formatChainId(a)),b.forEach(a=>{this.rpc.rpcMap[a]=d?.[a]||this.getRpcUrl(a)})),c&&b8(c)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=c?.map(a=>this.formatChainId(a)),c.forEach(a=>{this.rpc.rpcMap[a]=d?.[a]||this.getRpcUrl(a)}))}getRpcUrl(a,b){var c;return(null==(c=this.rpc.rpcMap)?void 0:c[a])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${a}&projectId=${b||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let a=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`);this.setChainIds(a?[this.formatChainId(a)]:this.session.namespaces[this.namespace].accounts),this.setAccounts(this.session.namespaces[this.namespace].accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(a){return"string"==typeof a||a instanceof String?[this.parseAccount(a)]:a.map(a=>this.parseAccount(a))}}let gr=gq},38200:function(a,b,c){"use strict";c.d(b,{q:function(){return d}});class d{}},30997:function(a,b,c){"use strict";c.r(b),c.d(b,{IEvents:function(){return d.q}});var d=c(38200)},32568:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.HEARTBEAT_EVENTS=b.HEARTBEAT_INTERVAL=void 0;let d=c(66736);b.HEARTBEAT_INTERVAL=d.FIVE_SECONDS,b.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},53401:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(70655);d.__exportStar(c(32568),b)},38969:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.HeartBeat=void 0;let d=c(70655),e=c(17187),f=c(66736),g=c(1614),h=c(53401);class i extends g.IHeartBeat{constructor(a){super(a),this.events=new e.EventEmitter,this.interval=h.HEARTBEAT_INTERVAL,this.interval=(null==a?void 0:a.interval)||h.HEARTBEAT_INTERVAL}static init(a){return d.__awaiter(this,void 0,void 0,function*(){let b=new i(a);return yield b.init(),b})}init(){return d.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,b){this.events.on(a,b)}once(a,b){this.events.once(a,b)}off(a,b){this.events.off(a,b)}removeListener(a,b){this.events.removeListener(a,b)}initialize(){return d.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),f.toMiliseconds(this.interval))})}pulse(){this.events.emit(h.HEARTBEAT_EVENTS.pulse)}}b.HeartBeat=i},90772:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(70655);d.__exportStar(c(38969),b),d.__exportStar(c(1614),b),d.__exportStar(c(53401),b)},44174:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IHeartBeat=void 0;let d=c(30997);class e extends d.IEvents{constructor(a){super()}}b.IHeartBeat=e},1614:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(70655);d.__exportStar(c(44174),b)},48718:function(a,b,c){"use strict";c.d(b,{CA:function(){return e},JV:function(){return h},O4:function(){return d},dQ:function(){return f},xK:function(){return g}});let d="INTERNAL_ERROR",e="SERVER_ERROR",f=[-32700,-32600,-32601,-32602,-32603],g={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[d]:{code:-32603,message:"Internal error"},[e]:{code:-32e3,message:"Server error"}},h=e},91309:function(a,b,c){"use strict";var d=c(1468);c.o(d,"formatJsonRpcError")&&c.d(b,{formatJsonRpcError:function(){return d.formatJsonRpcError}}),c.o(d,"isLocalhostUrl")&&c.d(b,{isLocalhostUrl:function(){return d.isLocalhostUrl}}),c.o(d,"isReactNative")&&c.d(b,{isReactNative:function(){return d.isReactNative}}),c.o(d,"isWsUrl")&&c.d(b,{isWsUrl:function(){return d.isWsUrl}})},31877:function(a,b,c){"use strict";c.d(b,{CX:function(){return h},L2:function(){return g},by:function(){return f},i5:function(){return e}});var d=c(48718);function e(a){return d.dQ.includes(a)}function f(a){return Object.keys(d.xK).includes(a)?d.xK[a]:d.xK[d.JV]}function g(a){let b=Object.values(d.xK).find(b=>b.code===a);return b||d.xK[d.JV]}function h(a,b,c){return a.message.includes("getaddrinfo ENOTFOUND")||a.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${c} RPC url at ${b}`):a}},26200:function(a,b,c){"use strict";c.d(b,{RI:function(){return f}});var d=c(31877),e=c(48718);function f(a,b,c){return{id:a,jsonrpc:"2.0",error:g(b,c)}}function g(a,b){return void 0===a?(0,d.by)(e.O4):("string"==typeof a&&(a=Object.assign(Object.assign({},(0,d.by)(e.CA)),{message:a})),void 0!==b&&(a.data=b),(0,d.i5)(a.code)&&(a=(0,d.L2)(a.code)),a)}},94135:function(a,b,c){"use strict";c.d(b,{formatJsonRpcError:function(){return f.RI},isLocalhostUrl:function(){return h.JF},isWsUrl:function(){return h.UZ},parseConnectionError:function(){return d.CX}}),c(48718);var d=c(31877),e=c(91309);c.o(e,"formatJsonRpcError")&&c.d(b,{formatJsonRpcError:function(){return e.formatJsonRpcError}}),c.o(e,"isLocalhostUrl")&&c.d(b,{isLocalhostUrl:function(){return e.isLocalhostUrl}}),c.o(e,"isReactNative")&&c.d(b,{isReactNative:function(){return e.isReactNative}}),c.o(e,"isWsUrl")&&c.d(b,{isWsUrl:function(){return e.isWsUrl}});var f=c(26200),g=c(54956);c.o(g,"isLocalhostUrl")&&c.d(b,{isLocalhostUrl:function(){return g.isLocalhostUrl}}),c.o(g,"isReactNative")&&c.d(b,{isReactNative:function(){return g.isReactNative}}),c.o(g,"isWsUrl")&&c.d(b,{isWsUrl:function(){return g.isWsUrl}});var h=c(62186)},54956:function(a,b,c){"use strict";var d=c(35885);c.o(d,"isLocalhostUrl")&&c.d(b,{isLocalhostUrl:function(){return d.isLocalhostUrl}}),c.o(d,"isReactNative")&&c.d(b,{isReactNative:function(){return d.isReactNative}}),c.o(d,"isWsUrl")&&c.d(b,{isWsUrl:function(){return d.isWsUrl}})},62186:function(a,b,c){"use strict";c.d(b,{JF:function(){return e},UZ:function(){return d}});function d(a){return function a(b,c){let d=function(a){let b=a.match(RegExp(/^\w+:/,"gi"));if(b&&b.length)return b[0]}(b);return void 0!==d&&RegExp(c).test(d)}(a,"^wss?:")}function e(a){return RegExp("wss?://localhost(:d{2,5})?").test(a)}},85150:function(a,b,c){"use strict";let d=c(70655),e=c(63954),f=d.__importDefault(c(30653)),g=c(59728);b.ZP=class a{constructor(){this.localStorage=f.default}getKeys(){return d.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return d.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(g.parseEntry)})}getItem(a){return d.__awaiter(this,void 0,void 0,function*(){let b=this.localStorage.getItem(a);if(null!==b)return e.safeJsonParse(b)})}setItem(a,b){return d.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(a,e.safeJsonStringify(b))})}removeItem(a){return d.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(a)})}}},30653:function(a,b,c){"use strict";!function(){let b;function d(){}(b=d).prototype.getItem=function(a){return this.hasOwnProperty(a)?String(this[a]):null},b.prototype.setItem=function(a,b){this[a]=String(b)},b.prototype.removeItem=function(a){delete this[a]},b.prototype.clear=function(){let a=this;Object.keys(a).forEach(function(b){a[b]=void 0,delete a[b]})},b.prototype.key=function(a){return a=a||0,Object.keys(this)[a]},b.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),void 0!==c.g&&c.g.localStorage?a.exports=c.g.localStorage:"undefined"!=typeof window&&window.localStorage?a.exports=window.localStorage:a.exports=new d}()},59728:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(70655);d.__exportStar(c(39076),b),d.__exportStar(c(20496),b)},39076:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IKeyValueStorage=void 0,b.IKeyValueStorage=class{}},20496:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseEntry=void 0;let d=c(63954);b.parseEntry=function(a){var b;return[a[0],d.safeJsonParse(null!==(b=a[1])&& void 0!==b?b:"")]}},65727:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PINO_CUSTOM_CONTEXT_KEY=b.PINO_LOGGER_DEFAULTS=void 0,b.PINO_LOGGER_DEFAULTS={level:"info"},b.PINO_CUSTOM_CONTEXT_KEY="custom_context"},9107:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.pino=void 0;let d=c(70655),e=d.__importDefault(c(36559));Object.defineProperty(b,"pino",{enumerable:!0,get:function(){return e.default}}),d.__exportStar(c(65727),b),d.__exportStar(c(58048),b)},58048:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.generateChildLogger=b.formatChildLoggerContext=b.getLoggerContext=b.setBrowserLoggerContext=b.getBrowserLoggerContext=b.getDefaultLoggerOptions=void 0;let d=c(65727);function e(a,b=d.PINO_CUSTOM_CONTEXT_KEY){return a[b]||""}function f(a,b,c=d.PINO_CUSTOM_CONTEXT_KEY){return a[c]=b,a}function g(a,b=d.PINO_CUSTOM_CONTEXT_KEY){let c="";return void 0===a.bindings?e(a,b):a.bindings().context||""}function h(a,b,c=d.PINO_CUSTOM_CONTEXT_KEY){let e=g(a,c),f=e.trim()?`${e}/${b}`:b;return f}b.getDefaultLoggerOptions=function(a){return Object.assign(Object.assign({},a),{level:(null==a?void 0:a.level)||d.PINO_LOGGER_DEFAULTS.level})},b.getBrowserLoggerContext=e,b.setBrowserLoggerContext=f,b.getLoggerContext=g,b.formatChildLoggerContext=h,b.generateChildLogger=function(a,b,c=d.PINO_CUSTOM_CONTEXT_KEY){let e=h(a,b,c),g=a.child({context:e});return f(g,e,c)}},61882:function(){},43014:function(){},36900:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(70655);d.__exportStar(c(46869),b),d.__exportStar(c(88033),b)},46869:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ONE_THOUSAND=b.ONE_HUNDRED=void 0,b.ONE_HUNDRED=100,b.ONE_THOUSAND=1e3},88033:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ONE_YEAR=b.FOUR_WEEKS=b.THREE_WEEKS=b.TWO_WEEKS=b.ONE_WEEK=b.THIRTY_DAYS=b.SEVEN_DAYS=b.FIVE_DAYS=b.THREE_DAYS=b.ONE_DAY=b.TWENTY_FOUR_HOURS=b.TWELVE_HOURS=b.SIX_HOURS=b.THREE_HOURS=b.ONE_HOUR=b.SIXTY_MINUTES=b.THIRTY_MINUTES=b.TEN_MINUTES=b.FIVE_MINUTES=b.ONE_MINUTE=b.SIXTY_SECONDS=b.THIRTY_SECONDS=b.TEN_SECONDS=b.FIVE_SECONDS=b.ONE_SECOND=void 0,b.ONE_SECOND=1,b.FIVE_SECONDS=5,b.TEN_SECONDS=10,b.THIRTY_SECONDS=30,b.SIXTY_SECONDS=60,b.ONE_MINUTE=b.SIXTY_SECONDS,b.FIVE_MINUTES=5*b.ONE_MINUTE,b.TEN_MINUTES=10*b.ONE_MINUTE,b.THIRTY_MINUTES=30*b.ONE_MINUTE,b.SIXTY_MINUTES=60*b.ONE_MINUTE,b.ONE_HOUR=b.SIXTY_MINUTES,b.THREE_HOURS=3*b.ONE_HOUR,b.SIX_HOURS=6*b.ONE_HOUR,b.TWELVE_HOURS=12*b.ONE_HOUR,b.TWENTY_FOUR_HOURS=24*b.ONE_HOUR,b.ONE_DAY=b.TWENTY_FOUR_HOURS,b.THREE_DAYS=3*b.ONE_DAY,b.FIVE_DAYS=5*b.ONE_DAY,b.SEVEN_DAYS=7*b.ONE_DAY,b.THIRTY_DAYS=30*b.ONE_DAY,b.ONE_WEEK=b.SEVEN_DAYS,b.TWO_WEEKS=2*b.ONE_WEEK,b.THREE_WEEKS=3*b.ONE_WEEK,b.FOUR_WEEKS=4*b.ONE_WEEK,b.ONE_YEAR=365*b.ONE_DAY},66736:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(70655);d.__exportStar(c(44273),b),d.__exportStar(c(47001),b),d.__exportStar(c(52939),b),d.__exportStar(c(36900),b)},52939:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(70655);d.__exportStar(c(88766),b)},88766:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IWatch=void 0,b.IWatch=class{}},83207:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.fromMiliseconds=b.toMiliseconds=void 0;let d=c(36900);b.toMiliseconds=function(a){return a*d.ONE_THOUSAND},b.fromMiliseconds=function(a){return Math.floor(a/d.ONE_THOUSAND)}},83873:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.delay=void 0,b.delay=function(a){return new Promise(b=>{setTimeout(()=>{b(!0)},a)})}},44273:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=c(70655);d.__exportStar(c(83873),b),d.__exportStar(c(83207),b)},47001:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Watch=void 0;class c{constructor(){this.timestamps=new Map}start(a){if(this.timestamps.has(a))throw Error(`Watch already started for label: ${a}`);this.timestamps.set(a,{started:Date.now()})}stop(a){let b=this.get(a);if(void 0!==b.elapsed)throw Error(`Watch already stopped for label: ${a}`);let c=Date.now()-b.started;this.timestamps.set(a,{started:b.started,elapsed:c})}get(a){let b=this.timestamps.get(a);if(void 0===b)throw Error(`No timestamp found for label: ${a}`);return b}elapsed(a){let b=this.get(a),c=b.elapsed||Date.now()-b.started;return c}}b.Watch=c,b.default=c},87119:function(a){"use strict";var b="%[a-f0-9]{2}",c=RegExp("("+b+")|([^%]+?)","gi"),d=RegExp("("+b+")+","gi");function e(a,b){try{return[decodeURIComponent(a.join(""))]}catch(c){}if(1===a.length)return a;b=b||1;var d=a.slice(0,b),f=a.slice(b);return Array.prototype.concat.call([],e(d),e(f))}function f(a){try{return decodeURIComponent(a)}catch(b){for(var d=a.match(c)||[],f=1;f<d.length;f++)d=(a=e(d,f).join("")).match(c)||[];return a}}a.exports=function(a){if("string"!=typeof a)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return a=a.replace(/\+/g," "),decodeURIComponent(a)}catch(b){return function(a){for(var b={"%FE%FF":"��","%FF%FE":"��"},c=d.exec(a);c;){try{b[c[0]]=decodeURIComponent(c[0])}catch(e){var g=f(c[0]);g!==c[0]&&(b[c[0]]=g)}c=d.exec(a)}b["%C2"]="�";for(var h=Object.keys(b),i=0;i<h.length;i++){var j=h[i];a=a.replace(RegExp(j,"g"),b[j])}return a}(a)}}},66151:function(a,b,c){"use strict";let d=c(70610),e=c(87119),f=c(80500),g=c(92806),h=a=>null==a,i=Symbol("encodeFragmentIdentifier");function j(a){if("string"!=typeof a||1!==a.length)throw TypeError("arrayFormatSeparator must be single character string")}function k(a,b){return b.encode?b.strict?d(a):encodeURIComponent(a):a}function l(a,b){return b.decode?e(a):a}function m(a){return Array.isArray(a)?a.sort():"object"==typeof a?m(Object.keys(a)).sort((a,b)=>Number(a)-Number(b)).map(b=>a[b]):a}function n(a){let b=a.indexOf("#");return -1!==b&&(a=a.slice(0,b)),a}function o(a){a=n(a);let b=a.indexOf("?");return -1===b?"":a.slice(b+1)}function p(a,b){return b.parseNumbers&&!Number.isNaN(Number(a))&&"string"==typeof a&&""!==a.trim()?a=Number(a):b.parseBooleans&&null!==a&&("true"===a.toLowerCase()||"false"===a.toLowerCase())&&(a="true"===a.toLowerCase()),a}function q(a,b){j((b=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},b)).arrayFormatSeparator);let c=function(a){let b;switch(a.arrayFormat){case"index":return(a,c,d)=>{if(b=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),!b){d[a]=c;return}void 0===d[a]&&(d[a]={}),d[a][b[1]]=c};case"bracket":return(a,c,d)=>{if(b=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),!b){d[a]=c;return}if(void 0===d[a]){d[a]=[c];return}d[a]=[].concat(d[a],c)};case"colon-list-separator":return(a,c,d)=>{if(b=/(:list)$/.exec(a),a=a.replace(/:list$/,""),!b){d[a]=c;return}if(void 0===d[a]){d[a]=[c];return}d[a]=[].concat(d[a],c)};case"comma":case"separator":return(b,c,d)=>{let e="string"==typeof c&&c.includes(a.arrayFormatSeparator),f="string"==typeof c&&!e&&l(c,a).includes(a.arrayFormatSeparator);c=f?l(c,a):c;let g=e||f?c.split(a.arrayFormatSeparator).map(b=>l(b,a)):null===c?c:l(c,a);d[b]=g};case"bracket-separator":return(b,c,d)=>{let e=/(\[\])$/.test(b);if(b=b.replace(/\[\]$/,""),!e){d[b]=c?l(c,a):c;return}let f=null===c?[]:c.split(a.arrayFormatSeparator).map(b=>l(b,a));if(void 0===d[b]){d[b]=f;return}d[b]=[].concat(d[b],f)};default:return(a,b,c)=>{if(void 0===c[a]){c[a]=b;return}c[a]=[].concat(c[a],b)}}}(b),d=Object.create(null);if("string"!=typeof a||!(a=a.trim().replace(/^[?#&]/,"")))return d;for(let e of a.split("&")){if(""===e)continue;let[g,h]=f(b.decode?e.replace(/\+/g," "):e,"=");h=void 0===h?null:["comma","separator","bracket-separator"].includes(b.arrayFormat)?h:l(h,b),c(l(g,b),h,d)}for(let i of Object.keys(d)){let k=d[i];if("object"==typeof k&&null!==k)for(let n of Object.keys(k))k[n]=p(k[n],b);else d[i]=p(k,b)}return!1===b.sort?d:(!0===b.sort?Object.keys(d).sort():Object.keys(d).sort(b.sort)).reduce((a,b)=>{let c=d[b];return Boolean(c)&&"object"==typeof c&&!Array.isArray(c)?a[b]=m(c):a[b]=c,a},Object.create(null))}b.extract=o,b.parse=q,b.stringify=(a,b)=>{if(!a)return"";j((b=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},b)).arrayFormatSeparator);let c=c=>b.skipNull&&h(a[c])||b.skipEmptyString&&""===a[c],d=function(a){switch(a.arrayFormat){case"index":return b=>(c,d)=>{let e=c.length;return void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),"[",e,"]"].join("")]:[...c,[k(b,a),"[",k(e,a),"]=",k(d,a)].join("")]};case"bracket":return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),"[]"].join("")]:[...c,[k(b,a),"[]=",k(d,a)].join("")];case"colon-list-separator":return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,[k(b,a),":list="].join("")]:[...c,[k(b,a),":list=",k(d,a)].join("")];case"comma":case"separator":case"bracket-separator":{let b="bracket-separator"===a.arrayFormat?"[]=":"=";return c=>(d,e)=>void 0===e||a.skipNull&&null===e||a.skipEmptyString&&""===e?d:(e=null===e?"":e,0===d.length)?[[k(c,a),b,k(e,a)].join("")]:[[d,k(e,a)].join(a.arrayFormatSeparator)]}default:return b=>(c,d)=>void 0===d||a.skipNull&&null===d||a.skipEmptyString&&""===d?c:null===d?[...c,k(b,a)]:[...c,[k(b,a),"=",k(d,a)].join("")]}}(b),e={};for(let f of Object.keys(a))c(f)||(e[f]=a[f]);let g=Object.keys(e);return!1!==b.sort&&g.sort(b.sort),g.map(c=>{let e=a[c];return void 0===e?"":null===e?k(c,b):Array.isArray(e)?0===e.length&&"bracket-separator"===b.arrayFormat?k(c,b)+"[]":e.reduce(d(c),[]).join("&"):k(c,b)+"="+k(e,b)}).filter(a=>a.length>0).join("&")},b.parseUrl=(a,b)=>{b=Object.assign({decode:!0},b);let[c,d]=f(a,"#");return Object.assign({url:c.split("?")[0]||"",query:q(o(a),b)},b&&b.parseFragmentIdentifier&&d?{fragmentIdentifier:l(d,b)}:{})},b.stringifyUrl=(a,c)=>{c=Object.assign({encode:!0,strict:!0,[i]:!0},c);let d=n(a.url).split("?")[0]||"",e=b.extract(a.url),f=b.parse(e,{sort:!1}),g=Object.assign(f,a.query),h=b.stringify(g,c);h&&(h=`?${h}`);let j=function(a){let b="",c=a.indexOf("#");return -1!==c&&(b=a.slice(c)),b}(a.url);return a.fragmentIdentifier&&(j=`#${c[i]?k(a.fragmentIdentifier,c):a.fragmentIdentifier}`),`${d}${h}${j}`},b.pick=(a,c,d)=>{d=Object.assign({parseFragmentIdentifier:!0,[i]:!1},d);let{url:e,query:f,fragmentIdentifier:h}=b.parseUrl(a,d);return b.stringifyUrl({url:e,query:g(f,c),fragmentIdentifier:h},d)},b.exclude=(a,c,d)=>{let e=Array.isArray(c)?a=>!c.includes(a):(a,b)=>!c(a,b);return b.pick(a,e,d)}},72307:function(a,b,c){a=c.nmd(a);var d="__lodash_hash_undefined__",e=1,f="[object Arguments]",g="[object Array]",h="[object Boolean]",i="[object Date]",j="[object Error]",k="[object Function]",l="[object Map]",m="[object Number]",n="[object Object]",o="[object Promise]",p="[object RegExp]",q="[object Set]",r="[object String]",s="[object WeakMap]",t="[object ArrayBuffer]",u="[object DataView]",v=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[f]=x[g]=x[t]=x[h]=x[u]=x[i]=x[j]=x[k]=x[l]=x[m]=x[n]=x[p]=x[q]=x[r]=x[s]=!1;var y="object"==typeof c.g&&c.g&&c.g.Object===Object&&c.g,z="object"==typeof self&&self&&self.Object===Object&&self,A=y||z||Function("return this")(),B=b&&!b.nodeType&&b,C=B&&a&&!a.nodeType&&a,D=C&&C.exports===B,E=D&&y.process,F=function(){try{return E&&E.binding&&E.binding("util")}catch(a){}}(),G=F&&F.isTypedArray;function H(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function I(a,b){return a.has(b)}function J(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function K(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}var L,M,N,O=Array.prototype,P=Function.prototype,Q=Object.prototype,R=A["__core-js_shared__"],S=P.toString,T=Q.hasOwnProperty,U=(L=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",V=Q.toString,W=RegExp("^"+S.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=D?A.Buffer:void 0,Y=A.Symbol,Z=A.Uint8Array,$=Q.propertyIsEnumerable,_=O.splice,aa=Y?Y.toStringTag:void 0,ab=Object.getOwnPropertySymbols,ac=X?X.isBuffer:void 0,ad=(M=Object.keys,N=Object,function(a){return M(N(a))}),ae=aG(A,"DataView"),af=aG(A,"Map"),ag=aG(A,"Promise"),ah=aG(A,"Set"),ai=aG(A,"WeakMap"),aj=aG(Object,"create"),ak=aO(ae),al=aO(af),am=aO(ag),an=aO(ah),ao=aO(ai),ap=Y?Y.prototype:void 0,aq=ap?ap.valueOf:void 0;function ar(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function as(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function at(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function au(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new at;++b<c;)this.add(a[b])}function av(a){var b=this.__data__=new as(a);this.size=b.size}function aw(a,b){for(var c=a.length;c--;)if(aP(a[c][0],b))return c;return -1}function ax(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":aa&&aa in Object(a)?aH(a):aN(a)}function ay(a){return aX(a)&&ax(a)==f}function az(a,b,c,d,e){return a===b||(null!=a&&null!=b&&(aX(a)||aX(b))?aA(a,b,c,d,az,e):a!=a&&b!=b)}function aA(a,b,c,d,h,i){var j=aR(a),k=aR(b),l=j?g:aJ(a),m=k?g:aJ(b);l=l==f?n:l,m=m==f?n:m;var o=l==n,p=m==n,q=l==m;if(q&&aS(a)){if(!aS(b))return!1;j=!0,o=!1}if(q&&!o)return i||(i=new av),j||aZ(a)?aB(a,b,c,d,h,i):aC(a,b,l,c,d,h,i);if(!(c&e)){var r=o&&T.call(a,"__wrapped__"),s=p&&T.call(b,"__wrapped__");if(r||s){var t=r?a.value():a,u=s?b.value():b;return i||(i=new av),h(t,u,c,d,i)}}return!!q&&(i||(i=new av),aD(a,b,c,d,h,i))}function aB(a,b,c,d,f,g){var h=c&e,i=a.length,j=b.length;if(i!=j&&!(h&&j>i))return!1;var k=g.get(a);if(k&&g.get(b))return k==b;var l=-1,m=!0,n=2&c?new au:void 0;for(g.set(a,b),g.set(b,a);++l<i;){var o=a[l],p=b[l];if(d)var q=h?d(p,o,l,b,a,g):d(o,p,l,a,b,g);if(void 0!==q){if(q)continue;m=!1;break}if(n){if(!H(b,function(a,b){if(!I(n,b)&&(o===a||f(o,a,c,d,g)))return n.push(b)})){m=!1;break}}else if(!(o===p||f(o,p,c,d,g))){m=!1;break}}return g.delete(a),g.delete(b),m}function aC(a,b,c,d,f,g,k){switch(c){case u:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case t:if(a.byteLength!=b.byteLength||!g(new Z(a),new Z(b)))break;return!0;case h:case i:case m:return aP(+a,+b);case j:return a.name==b.name&&a.message==b.message;case p:case r:return a==b+"";case l:var n=J;case q:var o=d&e;if(n||(n=K),a.size!=b.size&&!o)break;var s=k.get(a);if(s)return s==b;d|=2,k.set(a,b);var v=aB(n(a),n(b),d,f,g,k);return k.delete(a),v;case"[object Symbol]":if(aq)return aq.call(a)==aq.call(b)}return!1}function aD(a,b,c,d,f,g){var h=c&e,i=aE(a),j=i.length,k=aE(b).length;if(j!=k&&!h)return!1;for(var l=j;l--;){var m=i[l];if(!(h?m in b:T.call(b,m)))return!1}var n=g.get(a);if(n&&g.get(b))return n==b;var o=!0;g.set(a,b),g.set(b,a);for(var p=h;++l<j;){var q=a[m=i[l]],r=b[m];if(d)var s=h?d(r,q,m,b,a,g):d(q,r,m,a,b,g);if(!(void 0===s?q===r||f(q,r,c,d,g):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return g.delete(a),g.delete(b),o}function aE(a){var b,c,d,e;return b=a,c=a$,d=aI,e=c(b),aR(b)?e:function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}(e,d(b))}function aF(a,b){var c=a.__data__;return aL(b)?c["string"==typeof b?"string":"hash"]:c.map}function aG(a,b){var c,d,e,f=(c=a,d=b,null==c?void 0:c[d]);return(e=f,!(!aW(e)||aM(e))&&(aU(e)?W:v).test(aO(e)))?f:void 0}function aH(a){var b=T.call(a,aa),c=a[aa];try{a[aa]=void 0;var d=!0}catch(e){}var f=V.call(a);return d&&(b?a[aa]=c:delete a[aa]),f}ar.prototype.clear=function(){this.__data__=aj?aj(null):{},this.size=0},ar.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},ar.prototype.get=function(a){var b=this.__data__;if(aj){var c=b[a];return c===d?void 0:c}return T.call(b,a)?b[a]:void 0},ar.prototype.has=function(a){var b=this.__data__;return aj?void 0!==b[a]:T.call(b,a)},ar.prototype.set=function(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=aj&& void 0===b?d:b,this},as.prototype.clear=function(){this.__data__=[],this.size=0},as.prototype.delete=function(a){var b=this.__data__,c=aw(b,a);return!(c<0)&&(c==b.length-1?b.pop():_.call(b,c,1),--this.size,!0)},as.prototype.get=function(a){var b=this.__data__,c=aw(b,a);return c<0?void 0:b[c][1]},as.prototype.has=function(a){return aw(this.__data__,a)> -1},as.prototype.set=function(a,b){var c=this.__data__,d=aw(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this},at.prototype.clear=function(){this.size=0,this.__data__={hash:new ar,map:new(af||as),string:new ar}},at.prototype.delete=function(a){var b=aF(this,a).delete(a);return this.size-=b?1:0,b},at.prototype.get=function(a){return aF(this,a).get(a)},at.prototype.has=function(a){return aF(this,a).has(a)},at.prototype.set=function(a,b){var c=aF(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this},au.prototype.add=au.prototype.push=function(a){return this.__data__.set(a,d),this},au.prototype.has=function(a){return this.__data__.has(a)},av.prototype.clear=function(){this.__data__=new as,this.size=0},av.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},av.prototype.get=function(a){return this.__data__.get(a)},av.prototype.has=function(a){return this.__data__.has(a)},av.prototype.set=function(a,b){var c=this.__data__;if(c instanceof as){var d=c.__data__;if(!af||d.length<199)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new at(d)}return c.set(a,b),this.size=c.size,this};var aI=ab?function(a){return null==a?[]:function(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}(ab(a=Object(a)),function(b){return $.call(a,b)})}:a_,aJ=ax;function aK(a,b){return!!(b=null==b?9007199254740991:b)&&("number"==typeof a||w.test(a))&&a> -1&&a%1==0&&a<b}function aL(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function aM(a){return!!U&&U in a}function aN(a){return V.call(a)}function aO(a){if(null!=a){try{return S.call(a)}catch(b){}try{return a+""}catch(c){}}return""}function aP(a,b){return a===b||a!=a&&b!=b}(ae&&aJ(new ae(new ArrayBuffer(1)))!=u||af&&aJ(new af)!=l||ag&&aJ(ag.resolve())!=o||ah&&aJ(new ah)!=q||ai&&aJ(new ai)!=s)&&(aJ=function(a){var b=ax(a),c=b==n?a.constructor:void 0,d=c?aO(c):"";if(d)switch(d){case ak:return u;case al:return l;case am:return o;case an:return q;case ao:return s}return b});var aQ=ay(function(){return arguments}())?ay:function(a){return aX(a)&&T.call(a,"callee")&&!$.call(a,"callee")},aR=Array.isArray,aS=ac||a0;function aT(a,b){return az(a,b)}function aU(a){if(!aW(a))return!1;var b=ax(a);return b==k||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}function aV(a){return"number"==typeof a&&a> -1&&a%1==0&&a<=9007199254740991}function aW(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function aX(a){return null!=a&&"object"==typeof a}var aY,aZ=G?(aY=G,function(a){return aY(a)}):function(a){return aX(a)&&aV(a.length)&&!!x[ax(a)]};function a$(a){var b;return null!=(b=a)&&aV(b.length)&&!aU(b)?function(a,b){var c=aR(a),d=!c&&aQ(a),e=!c&&!d&&aS(a),f=!c&&!d&&!e&&aZ(a),g=c||d||e||f,h=g?function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}(a.length,String):[],i=h.length;for(var j in a)T.call(a,j)&&!(g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||aK(j,i)))&&h.push(j);return h}(a):function(a){if(b=a,c=b&&b.constructor,d="function"==typeof c&&c.prototype||Q,b!==d)return ad(a);var b,c,d,e=[];for(var f in Object(a))T.call(a,f)&&"constructor"!=f&&e.push(f);return e}(a)}function a_(){return[]}function a0(){return!1}a.exports=aT},85346:function(a){"use strict";function b(a){try{return JSON.stringify(a)}catch(b){return'"[Circular]"'}}a.exports=function(a,c,d){var e=d&&d.stringify||b;if("object"==typeof a&&null!==a){var f=c.length+1;if(1===f)return a;var g=Array(f);g[0]=e(a);for(var h=1;h<f;h++)g[h]=e(c[h]);return g.join(" ")}if("string"!=typeof a)return a;var i=c.length;if(0===i)return a;for(var j="",k=0,l=-1,m=a&&a.length||0,n=0;n<m;){if(37===a.charCodeAt(n)&&n+1<m){switch(l=l> -1?l:0,a.charCodeAt(n+1)){case 100:case 102:if(k>=i||null==c[k])break;l<n&&(j+=a.slice(l,n)),j+=Number(c[k]),l=n+2,n++;break;case 105:if(k>=i||null==c[k])break;l<n&&(j+=a.slice(l,n)),j+=Math.floor(Number(c[k])),l=n+2,n++;break;case 79:case 111:case 106:if(k>=i|| void 0===c[k])break;l<n&&(j+=a.slice(l,n));var o=typeof c[k];if("string"===o){j+="'"+c[k]+"'",l=n+2,n++;break}if("function"===o){j+=c[k].name||"<anonymous>",l=n+2,n++;break}j+=e(c[k]),l=n+2,n++;break;case 115:if(k>=i)break;l<n&&(j+=a.slice(l,n)),j+=String(c[k]),l=n+2,n++;break;case 37:l<n&&(j+=a.slice(l,n)),j+="%",l=n+2,n++,k--}++k}++n}return -1===l?a:(l<m&&(j+=a.slice(l)),j)}},63954:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.safeJsonParse=function(a){if("string"!=typeof a)throw Error(`Cannot safe json parse value of type ${typeof a}`);try{return JSON.parse(a)}catch(b){return a}},b.safeJsonStringify=function(a){return"string"==typeof a?a:JSON.stringify(a,(a,b)=>void 0===b?null:b)}},36559:function(a,b,c){"use strict";let d=c(85346);a.exports=f;let e=function(){function a(a){return void 0!==a&&a}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(b){return a(self)||a(window)||a(this)||{}}}().console||{};function f(a){(a=a||{}).browser=a.browser||{};let b=a.browser.transmit;if(b&&"function"!=typeof b.send)throw Error("pino: transmit option must have a send function");let c=a.browser.write||e;a.browser.write&&(a.browser.asObject=!0);let d=a.serializers||{},h=function(a,b){if(Array.isArray(a)){let c=a.filter(function(a){return"!stdSerializers.err"!==a});return c}return!0===a&&Object.keys(b)}(a.browser.serialize,d),i=a.browser.serialize;Array.isArray(a.browser.serialize)&&a.browser.serialize.indexOf("!stdSerializers.err")> -1&&(i=!1),"function"==typeof c&&(c.error=c.fatal=c.warn=c.info=c.debug=c.trace=c),!1===a.enabled&&(a.level="silent");let l=a.level||"info",o=Object.create(c);o.log||(o.log=q),Object.defineProperty(o,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(o,"level",{get:function(){return this._level},set:function(a){if("silent"!==a&&!this.levels.values[a])throw Error("unknown level "+a);this._level=a,g(p,o,"error","log"),g(p,o,"fatal","error"),g(p,o,"warn","error"),g(p,o,"info","log"),g(p,o,"debug","log"),g(p,o,"trace","log")}});let p={transmit:b,serialize:h,asObject:a.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:n(a)};return o.levels=f.levels,o.level=l,o.setMaxListeners=o.getMaxListeners=o.emit=o.addListener=o.on=o.prependListener=o.once=o.prependOnceListener=o.removeListener=o.removeAllListeners=o.listeners=o.listenerCount=o.eventNames=o.write=o.flush=q,o.serializers=d,o._serialize=h,o._stdErrSerialize=i,o.child=function(c,e){if(!c)throw Error("missing bindings for child Pino");e=e||{},h&&c.serializers&&(e.serializers=c.serializers);let f=e.serializers;if(h&&f){var g=Object.assign({},d,f),i=!0===a.browser.serialize?Object.keys(g):h;delete c.serializers,j([c],i,g,this._stdErrSerialize)}function l(a){this._childLevel=(0|a._childLevel)+1,this.error=k(a,c,"error"),this.fatal=k(a,c,"fatal"),this.warn=k(a,c,"warn"),this.info=k(a,c,"info"),this.debug=k(a,c,"debug"),this.trace=k(a,c,"trace"),g&&(this.serializers=g,this._serialize=i),b&&(this._logEvent=m([].concat(a._logEvent.bindings,c)))}return l.prototype=this,new l(this)},b&&(o._logEvent=m()),o}function g(a,b,c,d){let f=Object.getPrototypeOf(b);b[c]=b.levelVal>b.levels.values[c]?q:f[c]?f[c]:e[c]||e[d]||q,h(a,b,c)}function h(a,b,c){if(a.transmit||b[c]!==q){var d;b[c]=(d=b[c],function(){let g=a.timestamp(),h=Array(arguments.length),k=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var m=0;m<h.length;m++)h[m]=arguments[m];if(a.serialize&&!a.asObject&&j(h,this._serialize,this.serializers,this._stdErrSerialize),a.asObject?d.call(k,i(this,c,h,g)):d.apply(k,h),a.transmit){let n=a.transmit.level||b.level,o=f.levels.values[n],p=f.levels.values[c];if(p<o)return;l(this,{ts:g,methodLevel:c,methodValue:p,transmitLevel:n,transmitValue:f.levels.values[a.transmit.level||b.level],send:a.transmit.send,val:b.levelVal},h)}})}}function i(a,b,c,e){a._serialize&&j(c,a._serialize,a.serializers,a._stdErrSerialize);let g=c.slice(),h=g[0],i={};e&&(i.time=e),i.level=f.levels.values[b];let k=(0|a._childLevel)+1;if(k<1&&(k=1),null!==h&&"object"==typeof h){for(;(k--)&&"object"==typeof g[0];)Object.assign(i,g.shift());h=g.length?d(g.shift(),g):void 0}else"string"==typeof h&&(h=d(g.shift(),g));return void 0!==h&&(i.msg=h),i}function j(a,b,c,d){for(let e in a)if(d&&a[e]instanceof Error)a[e]=f.stdSerializers.err(a[e]);else if("object"==typeof a[e]&&!Array.isArray(a[e]))for(let g in a[e])b&&b.indexOf(g)> -1&&g in c&&(a[e][g]=c[g](a[e][g]))}function k(a,b,c){return function(){let d=Array(1+arguments.length);d[0]=b;for(var e=1;e<d.length;e++)d[e]=arguments[e-1];return a[c].apply(this,d)}}function l(a,b,c){let d=b.send,e=b.ts,f=b.methodLevel,g=b.methodValue,h=b.val,i=a._logEvent.bindings;j(c,a._serialize||Object.keys(a.serializers),a.serializers,void 0===a._stdErrSerialize||a._stdErrSerialize),a._logEvent.ts=e,a._logEvent.messages=c.filter(function(a){return -1===i.indexOf(a)}),a._logEvent.level.label=f,a._logEvent.level.value=g,d(f,a._logEvent,h),a._logEvent=m(i)}function m(a){return{ts:0,messages:[],bindings:a||[],level:{label:"",value:0}}}function n(a){return"function"==typeof a.timestamp?a.timestamp:!1===a.timestamp?r:s}function o(){return{}}function p(a){return a}function q(){}function r(){return!1}function s(){return Date.now()}f.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},f.stdSerializers={mapHttpRequest:o,mapHttpResponse:o,wrapRequestSerializer:p,wrapResponseSerializer:p,wrapErrorSerializer:p,req:o,res:o,err:function(a){let b={type:a.constructor.name,msg:a.message,stack:a.stack};for(let c in a)void 0===b[c]&&(b[c]=a[c]);return b}},f.stdTimeFunctions=Object.assign({},{nullTime:r,epochTime:s,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})}}])